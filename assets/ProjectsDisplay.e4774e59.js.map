{"version":3,"file":"ProjectsDisplay.e4774e59.js","sources":["../../app/components/projects/ProjectCard.vue","../../app/components/projects/ProjectsDisplay.vue"],"sourcesContent":["<template>\n  <div class=\"project-card\">\n    <div\n      role=\"button\"\n      tabindex=\"0\"\n      class=\"project-image\"\n      :aria-label=\"title\"\n      @click=\"navigateToProject\"\n      @keypress=\"a11yNavigateToProject\"\n    >\n      <img :id=\"imageUrl\" :src=\"importImg(imageUrl)\" aria-hidden=\"true\" />\n    </div>\n    <div class=\"project-details cursor-pointer\" @click=\"navigateToProject\">\n      <h1>{{ title }}</h1>\n      <h2>{{ author }}</h2>\n    </div>\n    <div class=\"p-2 text-xs\">\n      <ProjectTags :tags=\"tags\" :category=\"category\" :year=\"year\" />\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { defineProps } from 'vue'\nimport { useRouter } from 'vue-router'\n// import { importImage } from '~/utils/importImage.mjs'\nimport ProjectTags from './ProjectTags.vue'\n\nconst props = defineProps({\n  title: {\n    type: String,\n    default: '',\n  },\n  year: {\n    type: Number,\n    default: NaN,\n  },\n  author: {\n    type: String,\n    default: '',\n  },\n  slug: {\n    type: String,\n    default: '',\n  },\n  imageUrl: {\n    type: String,\n    default: '',\n  },\n  tags: {\n    type: Array,\n    default: () => [],\n  },\n  category: {\n    type: Array,\n    default: () => [],\n  },\n})\n\nconst router = useRouter()\n\nconst navigateToProject = (e) => {\n  const linkPath = `/project/${props.slug}`\n\n  if (e.metaKey) {\n    const absolutePath = router.resolve({ path: linkPath })\n    window.open(absolutePath.href, '_blank', 'noopener')\n  } else {\n    router.push({\n      path: `/project/${props.slug}`,\n    })\n  }\n}\n\nconst a11yNavigateToProject = (event) => {\n  const key = (event.key || '').toUpperCase()\n\n  switch (key) {\n    case 'ENTER': {\n      // simulate click on enter\n      navigateToProject()\n      break\n    }\n    default: {\n      break\n    }\n  }\n}\n\nconst importImg = (src) => {\n  return new URL(`../../assets/images/${src}`, import.meta.url).href\n}\n\n// -----------------------------------------------\n// LAZY LOAD COVER IMAGES\n// -----------------------------------------------\n// const imagecontainer = ref()\n\n// const onVisible = (entries, observer) => {\n//   entries.forEach(async (entry) => {\n//     const img = entry.target\n//     const isVisible = entry.intersectionRatio > 0.9\n//     const hasLoaded = img.getAttribute('data-status') === 'loaded'\n\n//     // if image is visible and we have not yet attached an image\n//     if (isVisible && !hasLoaded) {\n//       try {\n//         // try importing image from url and bind to src attribute\n//         const href = await importImage(props.imageUrl)\n//         img.src = href\n//         img.style.background = ''\n//       } catch (e) {\n//         // if an error is thrown when importing image, import fallback\n//         const href = await importImage(\n//           `__placeholders__/image_not_found.png`\n//         )\n//         img.src = href\n//         img.style.background = 'red'\n//       } finally {\n//         // after previous blocks, set opacity to 1 and set status to loaded\n//         // and disconnect observer\n//         img.style.opacity = '1.0'\n//         img.setAttribute('data-status', 'loaded')\n//         observer.disconnect()\n//       }\n//     }\n//   })\n// }\n\n// const observer = new IntersectionObserver(onVisible, {\n//   root: null, // defaults to viewport\n//   rootMargin: '0px',\n//   threshold: 1.0,\n// })\n\n// onMounted(() => {\n//   observer.observe(imagecontainer.value)\n// })\n</script>\n\n<style scoped lang=\"postcss\">\n.project-card {\n  @apply border flex flex-col;\n}\n\n.project-image {\n  @apply bg-gray-50;\n\n  height: 0px;\n  padding-bottom: calc(9 / 16 * 100%);\n\n  background-image: url('@/assets/images/__placeholders__/default_placeholder.png');\n  background-size: cover;\n\n  position: relative;\n\n  overflow: hidden;\n\n  img {\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n    position: absolute;\n    inset: 0;\n    border: 0;\n    outline: 0;\n    /* opacity: 0; */\n    transition: opacity 0.3s ease;\n  }\n}\n\n.project-details {\n  @apply p-2 flex-grow;\n\n  p {\n    @apply line-clamp-2;\n  }\n}\n\nh1 {\n  @apply font-neue-regular font-bold;\n}\n</style>\n","<template>\n  <div v-if=\"projects.length < 1\" class=\"text-center\">\n    <el-empty description=\"No Projects Found\">\n      <el-button type=\"primary\" class=\"btn\" @click=\"() => reset()\">\n        Reset Filters\n      </el-button>\n    </el-empty>\n  </div>\n  <div v-else class=\"projects\">\n    <ProjectCard\n      v-for=\"(project, index) in projects\"\n      :key=\"String(project.slug) + String(project.title) + String(index)\"\n      :title=\"project.title\"\n      :year=\"project.year\"\n      :author=\"project.author.join(', ')\"\n      :description=\"project.description\"\n      :slug=\"project.slug\"\n      :imageUrl=\"project.image[0]\"\n      :category=\"project.category\"\n      :tags=\"project.tags\"\n    />\n  </div>\n</template>\n\n<script setup>\nimport { computed } from 'vue'\nimport ProjectCard from '@/components/projects/ProjectCard.vue'\nimport { useProjects } from '@/store/projects.mjs'\nimport { useRouter } from 'vue-router'\n\nconst router = useRouter()\nconst projectsStore = useProjects()\n\nconst projects = computed(() => projectsStore.filteredProjects)\n\nconst reset = () => {\n  router.push('/')\n}\n</script>\n\n<style scoped>\n.projects {\n  @apply grid sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-4 2xl:grid-cols-4 gap-4 pt-4;\n}\n\n.btn {\n  @apply text-tns-red border-tns-red hover:bg-tns-red hover:text-tns-red hover:border-tns-red !bg-transparent;\n}\n</style>\n"],"names":["router","useRouter","navigateToProject","e","linkPath","props","absolutePath","a11yNavigateToProject","event","importImg","src","__vite_glob_0_0","__vite_glob_0_1","__vite_glob_0_2","__vite_glob_0_3","__vite_glob_0_4","__vite_glob_0_5","__vite_glob_0_6","__vite_glob_0_7","__vite_glob_0_8","__vite_glob_0_9","__vite_glob_0_10","__vite_glob_0_11","__vite_glob_0_12","__vite_glob_0_13","__vite_glob_0_14","__vite_glob_0_15","__vite_glob_0_16","__vite_glob_0_17","__vite_glob_0_18","__vite_glob_0_19","__vite_glob_0_20","__vite_glob_0_21","__vite_glob_0_22","__vite_glob_0_23","__vite_glob_0_24","__vite_glob_0_25","__vite_glob_0_26","__vite_glob_0_27","__vite_glob_0_28","__vite_glob_0_29","__vite_glob_0_30","__vite_glob_0_31","__vite_glob_0_32","__vite_glob_0_33","__vite_glob_0_34","__vite_glob_0_35","__vite_glob_0_36","__vite_glob_0_37","__vite_glob_0_38","__vite_glob_0_39","__vite_glob_0_40","__vite_glob_0_41","__vite_glob_0_42","__vite_glob_0_43","__vite_glob_0_44","__vite_glob_0_45","__vite_glob_0_46","__vite_glob_0_47","__vite_glob_0_48","__vite_glob_0_49","__vite_glob_0_50","__vite_glob_0_51","__vite_glob_0_52","__vite_glob_0_53","__vite_glob_0_54","__vite_glob_0_55","__vite_glob_0_56","__vite_glob_0_57","__vite_glob_0_58","__vite_glob_0_59","__vite_glob_0_60","__vite_glob_0_61","__vite_glob_0_62","__vite_glob_0_63","__vite_glob_0_64","__vite_glob_0_65","__vite_glob_0_66","__vite_glob_0_67","__vite_glob_0_68","__vite_glob_0_69","__vite_glob_0_70","__vite_glob_0_71","__vite_glob_0_72","__vite_glob_0_73","__vite_glob_0_74","__vite_glob_0_75","__vite_glob_0_76","__vite_glob_0_77","__vite_glob_0_78","__vite_glob_0_79","__vite_glob_0_80","__vite_glob_0_81","__vite_glob_0_82","__vite_glob_0_83","__vite_glob_0_84","__vite_glob_0_85","__vite_glob_0_86","__vite_glob_0_87","__vite_glob_0_88","__vite_glob_0_89","__vite_glob_0_90","__vite_glob_0_91","__vite_glob_0_92","__vite_glob_0_93","__vite_glob_0_94","__vite_glob_0_95","__vite_glob_0_96","__vite_glob_0_97","__vite_glob_0_98","__vite_glob_0_99","__vite_glob_0_100","__vite_glob_0_101","__vite_glob_0_102","__vite_glob_0_103","__vite_glob_0_104","__vite_glob_0_105","__vite_glob_0_106","__vite_glob_0_107","__vite_glob_0_108","__vite_glob_0_109","__vite_glob_0_110","__vite_glob_0_111","__vite_glob_0_112","__vite_glob_0_113","__vite_glob_0_114","__vite_glob_0_115","__vite_glob_0_116","__vite_glob_0_117","__vite_glob_0_118","__vite_glob_0_119","__vite_glob_0_120","__vite_glob_0_121","__vite_glob_0_122","__vite_glob_0_123","__vite_glob_0_124","__vite_glob_0_125","__vite_glob_0_126","__vite_glob_0_127","__vite_glob_0_128","__vite_glob_0_129","__vite_glob_0_130","__vite_glob_0_131","__vite_glob_0_132","__vite_glob_0_133","__vite_glob_0_134","__vite_glob_0_135","__vite_glob_0_136","__vite_glob_0_137","__vite_glob_0_138","__vite_glob_0_139","__vite_glob_0_140","__vite_glob_0_141","__vite_glob_0_142","__vite_glob_0_143","__vite_glob_0_144","__vite_glob_0_145","__vite_glob_0_146","__vite_glob_0_147","__vite_glob_0_148","__vite_glob_0_149","__vite_glob_0_150","__vite_glob_0_151","__vite_glob_0_152","__vite_glob_0_153","__vite_glob_0_154","__vite_glob_0_155","__vite_glob_0_156","__vite_glob_0_157","__vite_glob_0_158","__vite_glob_0_159","__vite_glob_0_160","__vite_glob_0_161","__vite_glob_0_162","__vite_glob_0_163","__vite_glob_0_164","__vite_glob_0_165","__vite_glob_0_166","__vite_glob_0_167","__vite_glob_0_168","__vite_glob_0_169","__vite_glob_0_170","__vite_glob_0_171","__vite_glob_0_172","__vite_glob_0_173","__vite_glob_0_174","__vite_glob_0_175","__vite_glob_0_176","__vite_glob_0_177","__vite_glob_0_178","__vite_glob_0_179","__vite_glob_0_180","__vite_glob_0_181","__vite_glob_0_182","__vite_glob_0_183","__vite_glob_0_184","__vite_glob_0_185","__vite_glob_0_186","__vite_glob_0_187","__vite_glob_0_188","__vite_glob_0_189","__vite_glob_0_190","__vite_glob_0_191","__vite_glob_0_192","__vite_glob_0_193","__vite_glob_0_194","__vite_glob_0_195","__vite_glob_0_196","__vite_glob_0_197","__vite_glob_0_198","__vite_glob_0_199","__vite_glob_0_200","__vite_glob_0_201","__vite_glob_0_202","__vite_glob_0_203","__vite_glob_0_204","__vite_glob_0_205","__vite_glob_0_206","__vite_glob_0_207","__vite_glob_0_208","__vite_glob_0_209","__vite_glob_0_210","__vite_glob_0_211","__vite_glob_0_212","__vite_glob_0_213","__vite_glob_0_214","__vite_glob_0_215","__vite_glob_0_216","__vite_glob_0_217","__vite_glob_0_218","__vite_glob_0_219","__vite_glob_0_220","__vite_glob_0_221","__vite_glob_0_222","__vite_glob_0_223","__vite_glob_0_224","__vite_glob_0_225","__vite_glob_0_226","__vite_glob_0_227","__vite_glob_0_228","__vite_glob_0_229","__vite_glob_0_230","__vite_glob_0_231","__vite_glob_0_232","__vite_glob_0_233","__vite_glob_0_234","__vite_glob_0_235","__vite_glob_0_236","__vite_glob_0_237","__vite_glob_0_238","__vite_glob_0_239","__vite_glob_0_240","__vite_glob_0_241","__vite_glob_0_242","__vite_glob_0_243","__vite_glob_0_244","__vite_glob_0_245","__vite_glob_0_246","__vite_glob_0_247","__vite_glob_0_248","__vite_glob_0_249","__vite_glob_0_250","__vite_glob_0_251","__vite_glob_0_252","__vite_glob_0_253","__vite_glob_0_254","__vite_glob_0_255","projectsStore","useProjects","projects","computed","reset"],"mappings":"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"}