var PlayerM = (function (e) {
  function t(i) {
    if (r[i]) return r[i].exports
    var n = (r[i] = { i: i, l: !1, exports: {} })
    return e[i].call(n.exports, n, n.exports, t), (n.l = !0), n.exports
  }
  var r = {}
  return (
    (t.m = e),
    (t.c = r),
    (t.d = function (e, r, i) {
      t.o(e, r) ||
        Object.defineProperty(e, r, {
          configurable: !1,
          enumerable: !0,
          get: i,
        })
    }),
    (t.n = function (e) {
      var r =
        e && e.__esModule
          ? function () {
              return e.default
            }
          : function () {
              return e
            }
      return t.d(r, 'a', r), r
    }),
    (t.o = function (e, t) {
      return Object.prototype.hasOwnProperty.call(e, t)
    }),
    (t.p = ''),
    t((t.s = 84))
  )
})([
  function (e, t, r) {
    'use strict'
    ;(t.__esModule = !0),
      (t.default = function (e, t) {
        if (!(e instanceof t))
          throw new TypeError('Cannot call a class as a function')
      })
  },
  function (e, t, r) {
    'use strict'
    t.__esModule = !0
    var i = r(56),
      n = (function (e) {
        return e && e.__esModule ? e : { default: e }
      })(i)
    t.default = (function () {
      function e(e, t) {
        for (var r = 0; r < t.length; r++) {
          var i = t[r]
          ;(i.enumerable = i.enumerable || !1),
            (i.configurable = !0),
            'value' in i && (i.writable = !0),
            (0, n.default)(e, i.key, i)
        }
      }
      return function (t, r, i) {
        return r && e(t.prototype, r), i && e(t, i), t
      }
    })()
  },
  function (e, t) {
    var r = (e.exports = { version: '2.4.0' })
    'number' == typeof __e && (__e = r)
  },
  function (e, t, r) {
    'use strict'
    function i(e) {
      return e && e.__esModule ? e : { default: e }
    }
    Object.defineProperty(t, '__esModule', { value: !0 })
    var n = r(0),
      a = i(n),
      o = r(1),
      s = i(o),
      u = r(26),
      l = (function () {
        function e() {
          ;(0, a.default)(this, e)
        }
        return (
          (0, s.default)(e, null, [
            {
              key: 'formatMessage',
              value: function (t, r) {
                return '[' + e.currentTimeString() + '] [' + t + ']: ' + r
              },
            },
            {
              key: 'createTaggedLogger',
              value: function (t) {
                var r =
                    arguments.length > 1 && void 0 !== arguments[1]
                      ? arguments[1]
                      : 'log',
                  i = t
                return function (t) {
                  for (
                    var n = arguments.length,
                      a = Array(n > 1 ? n - 1 : 0),
                      o = 1;
                    o < n;
                    o++
                  )
                    a[o - 1] = arguments[o]
                  e[r].apply(e, [].concat(i, t, a))
                }
              },
            },
            {
              key: 'createTaggedLoggers',
              value: function (t) {
                return {
                  log: e.createTaggedLogger(t, 'log'),
                  warn: e.createTaggedLogger(t, 'warn'),
                  error: e.createTaggedLogger(t, 'error'),
                }
              },
            },
            {
              key: 'currentTimeString',
              value: function () {
                var e = new Date()
                return (
                  (0, u.leadingZero)(e.getHours(), 2) +
                  ':' +
                  (0, u.leadingZero)(e.getMinutes(), 2) +
                  ':' +
                  (0, u.leadingZero)(e.getSeconds(), 2) +
                  '.' +
                  (0, u.leadingZero)(e.getMilliseconds(), 3)
                )
              },
            },
            {
              key: 'error',
              value: function (t, r) {
                for (
                  var i = arguments.length,
                    n = Array(i > 2 ? i - 2 : 0),
                    a = 2;
                  a < i;
                  a++
                )
                  n[a - 2] = arguments[a]
                e.pushMessage.apply(
                  e,
                  [].concat('error', e.formatMessage(t, r), n)
                )
              },
            },
            {
              key: 'log',
              value: function (t, r) {
                for (
                  var i = arguments.length,
                    n = Array(i > 2 ? i - 2 : 0),
                    a = 2;
                  a < i;
                  a++
                )
                  n[a - 2] = arguments[a]
                e.pushMessage.apply(
                  e,
                  [].concat('log', e.formatMessage(t, r), n)
                )
              },
            },
            {
              key: 'pushMessage',
              value: function (e) {
                if (!0 === this.debugMode) {
                  for (
                    var t = arguments.length,
                      r = Array(t > 1 ? t - 1 : 0),
                      i = 1;
                    i < t;
                    i++
                  )
                    r[i - 1] = arguments[i]
                  console[e].apply(console, r)
                }
              },
            },
            {
              key: 'setDebugMode',
              value: function (e) {
                this.debugMode = e
              },
            },
            {
              key: 'warn',
              value: function (t, r) {
                for (
                  var i = arguments.length,
                    n = Array(i > 2 ? i - 2 : 0),
                    a = 2;
                  a < i;
                  a++
                )
                  n[a - 2] = arguments[a]
                e.pushMessage.apply(
                  e,
                  [].concat('warn', e.formatMessage(t, r), n)
                )
              },
            },
          ]),
          e
        )
      })()
    t.default = l
  },
  function (e, t, r) {
    var i = r(45)('wks'),
      n = r(33),
      a = r(5).Symbol,
      o = 'function' == typeof a
    ;(e.exports = function (e) {
      return i[e] || (i[e] = (o && a[e]) || (o ? a : n)('Symbol.' + e))
    }).store = i
  },
  function (e, t) {
    var r = (e.exports =
      'undefined' != typeof window && window.Math == Math
        ? window
        : 'undefined' != typeof self && self.Math == Math
        ? self
        : Function('return this')())
    'number' == typeof __g && (__g = r)
  },
  function (e, t, r) {
    'use strict'
    function i(e) {
      var t =
          arguments.length > 1 && void 0 !== arguments[1]
            ? arguments[1]
            : null,
        r = 'mjs-' + e
      return null !== t && (r += '__' + t), r
    }
    function n(e) {
      return '.' + i(e)
    }
    Object.defineProperty(t, '__esModule', { value: !0 }),
      (t.createCssClass = i),
      (t.createCssClassSelector = n)
  },
  function (e, t, r) {
    'use strict'
    Object.defineProperty(t, '__esModule', { value: !0 })
    ;(t.AD = 'ad-view'),
      (t.ERROR = 'error-view'),
      (t.HIT = 'hit-view'),
      (t.ROOT = 'root-view'),
      (t.SPINNER = 'spinner-view'),
      (t.VIDEO = 'video-view'),
      (t.VIDEO_ELEMENT = 'video-element')
  },
  function (e, t, r) {
    var i = r(20)
    e.exports = function (e) {
      if (!i(e)) throw TypeError(e + ' is not an object!')
      return e
    }
  },
  function (e, t, r) {
    e.exports = { default: r(93), __esModule: !0 }
  },
  function (e, t, r) {
    'use strict'
    Object.defineProperty(t, '__esModule', { value: !0 })
    ;(t.getAdDaiAccessKey = function (e) {
      return e.adDaiAccessKey
    }),
      (t.getAdExtraParams = function (e) {
        return e.adExtraParams
      }),
      (t.getAdNetworkCode = function (e) {
        return e.adNetworkCode
      }),
      (t.getAdPlaybackState = function (e) {
        return e.adPlaybackState
      }),
      (t.getAdUnit = function (e) {
        return e.adUnit
      }),
      (t.getAutoPlayState = function (e) {
        return e.autoPlayState
      }),
      (t.getBufferingState = function (e) {
        return e.bufferingState
      }),
      (t.getBusyState = function (e) {
        return e.busyState
      }),
      (t.getCurrentTime = function (e) {
        return e.currentTime
      }),
      (t.getDimensions = function (e) {
        return e.dimensions
      }),
      (t.getDuration = function (e) {
        return e.duration
      }),
      (t.getError = function (e) {
        return e.error
      }),
      (t.getFullScreenState = function (e) {
        return e.fullScreenState
      }),
      (t.getInitState = function (e) {
        return e.initState
      }),
      (t.getMediaState = function (e) {
        return e.mediaState
      }),
      (t.getMediaUrl = function (e) {
        return e.mediaUrl
      }),
      (t.getPlaybackType = function (e) {
        return e.playbackType
      }),
      (t.getPlaybackUrl = function (e) {
        return e.playbackUrl
      }),
      (t.getSdkState = function (e) {
        return e.sdkState
      }),
      (t.getSeekingState = function (e) {
        return e.seekingState
      }),
      (t.getThumbnailUrl = function (e) {
        return e.thumbnailUrl
      }),
      (t.isLiveContent = function (e) {
        return e.liveContent
      }),
      (t.isPlaybackReady = function (e) {
        return e.playbackReady
      }),
      (t.isPlaybackStart = function (e) {
        return e.playbackStart
      }),
      (t.isUserInitPlayback = function (e) {
        return e.userInitPlayback
      }),
      (t.isVolumeMute = function (e) {
        return e.volumeMute
      })
  },
  function (e, t, r) {
    var i = r(5),
      n = r(2),
      a = r(25),
      o = r(17),
      s = function (e, t, r) {
        var u,
          l,
          c,
          d = e & s.F,
          f = e & s.G,
          h = e & s.S,
          p = e & s.P,
          v = e & s.B,
          g = e & s.W,
          y = f ? n : n[t] || (n[t] = {}),
          m = y.prototype,
          _ = f ? i : h ? i[t] : (i[t] || {}).prototype
        f && (r = t)
        for (u in r)
          ((l = !d && _ && void 0 !== _[u]) && u in y) ||
            ((c = l ? _[u] : r[u]),
            (y[u] =
              f && 'function' != typeof _[u]
                ? r[u]
                : v && l
                ? a(c, i)
                : g && _[u] == c
                ? (function (e) {
                    var t = function (t, r, i) {
                      if (this instanceof e) {
                        switch (arguments.length) {
                          case 0:
                            return new e()
                          case 1:
                            return new e(t)
                          case 2:
                            return new e(t, r)
                        }
                        return new e(t, r, i)
                      }
                      return e.apply(this, arguments)
                    }
                    return (t.prototype = e.prototype), t
                  })(c)
                : p && 'function' == typeof c
                ? a(Function.call, c)
                : c),
            p &&
              (((y.virtual || (y.virtual = {}))[u] = c),
              e & s.R && m && !m[u] && o(m, u, c)))
      }
    ;(s.F = 1),
      (s.G = 2),
      (s.S = 4),
      (s.P = 8),
      (s.B = 16),
      (s.W = 32),
      (s.U = 64),
      (s.R = 128),
      (e.exports = s)
  },
  function (e, t, r) {
    var i = r(8),
      n = r(57),
      a = r(41),
      o = Object.defineProperty
    t.f = r(13)
      ? Object.defineProperty
      : function (e, t, r) {
          if ((i(e), (t = a(t, !0)), i(r), n))
            try {
              return o(e, t, r)
            } catch (e) {}
          if ('get' in r || 'set' in r)
            throw TypeError('Accessors not supported!')
          return 'value' in r && (e[t] = r.value), e
        }
  },
  function (e, t, r) {
    e.exports = !r(21)(function () {
      return (
        7 !=
        Object.defineProperty({}, 'a', {
          get: function () {
            return 7
          },
        }).a
      )
    })
  },
  function (e, t, r) {
    'use strict'
    t.__esModule = !0
    var i = r(61),
      n = (function (e) {
        return e && e.__esModule ? e : { default: e }
      })(i)
    t.default = function (e, t) {
      if (!e)
        throw new ReferenceError(
          "this hasn't been initialised - super() hasn't been called"
        )
      return !t ||
        ('object' !== (void 0 === t ? 'undefined' : (0, n.default)(t)) &&
          'function' != typeof t)
        ? e
        : t
    }
  },
  function (e, t, r) {
    var i = r(65),
      n = r(43)
    e.exports = function (e) {
      return i(n(e))
    }
  },
  function (e, t, r) {
    'use strict'
    function i(e) {
      return e && e.__esModule ? e : { default: e }
    }
    t.__esModule = !0
    var n = r(118),
      a = i(n),
      o = r(122),
      s = i(o),
      u = r(61),
      l = i(u)
    t.default = function (e, t) {
      if ('function' != typeof t && null !== t)
        throw new TypeError(
          'Super expression must either be null or a function, not ' +
            (void 0 === t ? 'undefined' : (0, l.default)(t))
        )
      ;(e.prototype = (0, s.default)(t && t.prototype, {
        constructor: {
          value: e,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
        t && (a.default ? (0, a.default)(e, t) : (e.__proto__ = t))
    }
  },
  function (e, t, r) {
    var i = r(12),
      n = r(32)
    e.exports = r(13)
      ? function (e, t, r) {
          return i.f(e, t, n(1, r))
        }
      : function (e, t, r) {
          return (e[t] = r), e
        }
  },
  function (e, t) {
    var r = {}.hasOwnProperty
    e.exports = function (e, t) {
      return r.call(e, t)
    }
  },
  function (e, t, r) {
    'use strict'
    function i(e) {
      return e && e.__esModule ? e : { default: e }
    }
    t.__esModule = !0
    var n = r(9),
      a = i(n),
      o = r(115),
      s = i(o)
    t.default = function e(t, r, i) {
      null === t && (t = Function.prototype)
      var n = (0, s.default)(t, r)
      if (void 0 === n) {
        var o = (0, a.default)(t)
        return null === o ? void 0 : e(o, r, i)
      }
      if ('value' in n) return n.value
      var u = n.get
      if (void 0 !== u) return u.call(i)
    }
  },
  function (e, t) {
    e.exports = function (e) {
      return 'object' == typeof e ? null !== e : 'function' == typeof e
    }
  },
  function (e, t) {
    e.exports = function (e) {
      try {
        return !!e()
      } catch (e) {
        return !0
      }
    }
  },
  function (e, t, r) {
    'use strict'
    function i(e) {
      return { type: T.AD_PLAYBACK_STATE_DID_CHANGE, payload: e }
    }
    function n(e) {
      return { type: T.AUTO_PLAY_STATE_DID_CHANGE, payload: e }
    }
    function a(e) {
      return { type: T.BUSY_STATE_DID_CHANGE, payload: e }
    }
    function o(e) {
      return { type: T.BUFFERING_STATE_DID_CHANGE, payload: e }
    }
    function s(e) {
      return { type: T.DIMENSIONS_DID_CHANGE, payload: e }
    }
    function u(e, t) {
      return { type: T.ERROR_DID_OCCUR, payload: { value: e, fatal: t } }
    }
    function l(e) {
      return { type: T.FULL_SCREEN_STATE_DID_CHANGE, payload: e }
    }
    function c(e) {
      return { type: T.INIT_STATE_DID_CHANGE, payload: e }
    }
    function d(e) {
      return { type: T.MEDIA_STATE_DID_CHANGE, payload: e }
    }
    function f(e) {
      return { type: T.PLAYBACK_READY_DID_CHANGE, payload: e }
    }
    function h(e) {
      return { type: T.PLAYBACK_START_DID_CHANGE, payload: e }
    }
    function p(e) {
      return { type: T.PLAYBACK_TYPE_DID_CHANGE, payload: e }
    }
    function v(e) {
      return { type: T.PLAYBACK_URL_DID_CHANGE, payload: e }
    }
    function g(e) {
      return { type: T.SDK_STATE_DID_CHANGE, payload: e }
    }
    function y(e) {
      return { type: T.SEEKING_STATE_DID_CHANGE, payload: e }
    }
    function m(e) {
      return { type: T.THUMBNAIL_URL_DID_CHANGE, payload: e }
    }
    function _(e) {
      return { type: T.USER_INIT_PLAYBACK_DID_CHANGE, payload: e }
    }
    function b(e) {
      return { type: T.DURATION_DID_CHANGE, payload: e }
    }
    function E(e) {
      return { type: T.CURRENT_TIME_DID_CHANGE, payload: e }
    }
    Object.defineProperty(t, '__esModule', { value: !0 }),
      (t.setAdPlaybackState = i),
      (t.setAutoPlayState = n),
      (t.setBusyState = a),
      (t.setBufferingState = o),
      (t.setDimensions = s),
      (t.setError = u),
      (t.setFullScreenState = l),
      (t.setInitState = c),
      (t.setMediaState = d),
      (t.setPlaybackReady = f),
      (t.setPlaybackStart = h),
      (t.setPlaybackType = p),
      (t.setPlaybackUrl = v),
      (t.setSdkReady = g),
      (t.setSeekingState = y),
      (t.setThumbnailUrl = m),
      (t.setUserInitPlayback = _),
      (t.updateDuration = b),
      (t.updateTime = E)
    var w = r(70),
      T = (function (e) {
        if (e && e.__esModule) return e
        var t = {}
        if (null != e)
          for (var r in e)
            Object.prototype.hasOwnProperty.call(e, r) && (t[r] = e[r])
        return (t.default = e), t
      })(w)
  },
  function (e, t, r) {
    'use strict'
    function i(e, t, r) {
      function i() {
        var i = t(e.getState())
        n !== i && ((n = i), r(n, a))
      }
      var n = void 0,
        a = e.subscribe(i)
      return i(), a
    }
    Object.defineProperty(t, '__esModule', { value: !0 }), (t.default = i)
  },
  function (e, t, r) {
    'use strict'
    function i(e) {
      return e && e.__esModule ? e : { default: e }
    }
    Object.defineProperty(t, '__esModule', { value: !0 })
    var n = r(0),
      a = i(n),
      o = r(1),
      s = i(o),
      u = (function () {
        function e(t) {
          ;(0, a.default)(this, e),
            (this.store = t),
            (this.view = this.initElements())
        }
        return (
          (0, s.default)(e, [
            {
              key: 'attachTo',
              value: function (e) {
                this.mountView(e), this.viewDidMount(), this.render()
              },
            },
            {
              key: 'dispose',
              value: function () {
                this.getView().remove()
              },
            },
            {
              key: 'getStore',
              value: function () {
                return this.store
              },
            },
            {
              key: 'getView',
              value: function () {
                return this.view
              },
            },
            {
              key: 'initElements',
              value: function () {
                return null
              },
            },
            {
              key: 'mountView',
              value: function (e) {
                e.appendChild(this.view)
              },
            },
            {
              key: 'querySelector',
              value: function (e) {
                return this.view.querySelector(e)
              },
            },
            { key: 'render', value: function () {} },
            { key: 'viewDidMount', value: function () {} },
          ]),
          e
        )
      })()
    t.default = u
  },
  function (e, t, r) {
    var i = r(39)
    e.exports = function (e, t, r) {
      if ((i(e), void 0 === t)) return e
      switch (r) {
        case 1:
          return function (r) {
            return e.call(t, r)
          }
        case 2:
          return function (r, i) {
            return e.call(t, r, i)
          }
        case 3:
          return function (r, i, n) {
            return e.call(t, r, i, n)
          }
      }
      return function () {
        return e.apply(t, arguments)
      }
    }
  },
  function (e, t, r) {
    'use strict'
    function i(e, t, r) {
      var i = e
      return !0 === n(t).device && !0 === r && (i = !1), i
    }
    function n(e) {
      var t = new f.default(e),
        r = t.getResult()
      return { device: void 0 !== r.device.type, iOs: 'iOS' === r.os.name }
    }
    function a(e, t, r) {
      var i = e,
        a = n(t),
        o = a.device,
        s = a.iOs
      return !0 === o && (!0 === s ? (i = !1) : !0 === r && (i = !0)), i
    }
    function o(e, t) {
      var r =
        arguments.length > 2 && void 0 !== arguments[2]
          ? arguments[2]
          : 2e3
      return void 0 === e || null === e || isNaN(e) || e < 0
        ? t
        : 1e3 * e + r
    }
    function s() {
      return window && window.navigator && window.navigator.userAgent
        ? window.navigator.userAgent
        : ''
    }
    function u(e) {
      var t = new f.default(e),
        r = t.getResult()
      return 'iOS' === r.os.name && 'tablet' === r.device.type
    }
    function l(e, t) {
      for (e = e.toString(); e.length < t; ) e = '0' + e
      return e
    }
    function c(e) {
      var t =
          arguments.length > 1 && void 0 !== arguments[1]
            ? arguments[1]
            : null,
        r = void 0,
        i = [],
        n =
          'function' == typeof t
            ? t
            : function (e) {
                return e
              }
      for (var a in e)
        e.hasOwnProperty(a) && ((r = e[a]), i.push(n(a) + '=' + n(r)))
      return i.join('&')
    }
    Object.defineProperty(t, '__esModule', { value: !0 }),
      (t.getAutoPlayState = i),
      (t.getMobileEnvironment = n),
      (t.getMutedState = a),
      (t.getPlaybackTimeout = o),
      (t.getUserAgent = s),
      (t.isIpad = u),
      (t.leadingZero = l),
      (t.objectAsQuery = c)
    var d = r(90),
      f = (function (e) {
        return e && e.__esModule ? e : { default: e }
      })(d)
  },
  function (e, t) {
    e.exports = {}
  },
  function (e, t, r) {
    var i = r(64),
      n = r(49)
    e.exports =
      Object.keys ||
      function (e) {
        return i(e, n)
      }
  },
  function (e, t) {
    var r = {}.toString
    e.exports = function (e) {
      return r.call(e).slice(8, -1)
    }
  },
  function (e, t, r) {
    'use strict'
    Object.defineProperty(t, '__esModule', { value: !0 })
    ;(t.AD_LOAD_TIMEOUT = 8e3),
      (t.AD_PLAY_TIMEOUT = 3e4),
      (t.AD_PLAYBACK_TIMEOUT = 2e3),
      (t.AD_TINY_HEIGHT = 250),
      (t.AD_TINY_WIDTH = 300),
      (t.AD_TYPE_PRE_ROLL = 'preroll'),
      (t.AD_TYPE_MID_ROLL = 'midroll'),
      (t.INITIAL_LIVE_TIMEOUT = 14e3),
      (t.MUX_PRODUCTION_KEY = 'nbqrqrsagh3fcybgvew9'),
      (t.MUX_STAGING_KEY = 'y2739brt8976raptqvx5'),
      (t.SDK_DAI_LOAD_TIMEOUT = 4e3),
      (t.SDK_IMA_DAI_URL =
        '//imasdk.googleapis.com/js/sdkloader/ima3_dai.js'),
      (t.SDK_IMA_URL = '//imasdk.googleapis.com/js/sdkloader/ima3.js'),
      (t.SDK_LOAD_CHECK_INTERVAL = 200),
      (t.SDK_LOAD_TIMEOUT = 4e3)
  },
  function (e, t, r) {
    e.exports = { default: r(134), __esModule: !0 }
  },
  function (e, t) {
    e.exports = function (e, t) {
      return {
        enumerable: !(1 & e),
        configurable: !(2 & e),
        writable: !(4 & e),
        value: t,
      }
    }
  },
  function (e, t) {
    var r = 0,
      i = Math.random()
    e.exports = function (e) {
      return 'Symbol('.concat(
        void 0 === e ? '' : e,
        ')_',
        (++r + i).toString(36)
      )
    }
  },
  function (e, t) {
    e.exports = !0
  },
  function (e, t, r) {
    var i = r(12).f,
      n = r(18),
      a = r(4)('toStringTag')
    e.exports = function (e, t, r) {
      e &&
        !n((e = r ? e : e.prototype), a) &&
        i(e, a, { configurable: !0, value: t })
    }
  },
  function (e, t) {
    t.f = {}.propertyIsEnumerable
  },
  function (e, t, r) {
    'use strict'
    Object.defineProperty(t, '__esModule', { value: !0 })
    ;(t.ABORT = 'abort'),
      (t.CAN_PLAY = 'canplay'),
      (t.CAN_PLAY_THROUGH = 'canplaythrough'),
      (t.DURATION_CHANGE = 'durationchange'),
      (t.EMPTIED = 'emptied'),
      (t.ENDED = 'ended'),
      (t.ERROR = 'error'),
      (t.INTERRUPT_BEGIN = 'interruptbegin'),
      (t.INTERRUPT_END = 'interruptend'),
      (t.LOADED_DATA = 'loadeddata'),
      (t.LOADED_META_DATA = 'loadedmetadata'),
      (t.LOAD_START = 'loadstart'),
      (t.PAUSE = 'pause'),
      (t.PLAY = 'play'),
      (t.PLAYING = 'playing'),
      (t.PROGRESS = 'progress'),
      (t.RATE_CHANGE = 'ratechange'),
      (t.SEEKED = 'seeked'),
      (t.SEEKING = 'seeking'),
      (t.STALLED = 'stalled'),
      (t.SUSPEND = 'suspend'),
      (t.TIME_UPDATE = 'timeupdate'),
      (t.VOLUME_CHANGE = 'volumechange'),
      (t.WAITING = 'waiting')
  },
  function (e, t, r) {
    'use strict'
    function i() {
      var e = n() ? window.document.referrer : window.location.href
      return { url: e, hostname: o.default.parse(e).hostname }
    }
    function n() {
      try {
        return window.self !== window.top
      } catch (e) {
        return !0
      }
    }
    Object.defineProperty(t, '__esModule', { value: !0 }),
      (t.getLocation = i),
      (t.isIframe = n)
    var a = r(77),
      o = (function (e) {
        return e && e.__esModule ? e : { default: e }
      })(a)
  },
  function (e, t) {
    e.exports = function (e) {
      if ('function' != typeof e)
        throw TypeError(e + ' is not a function!')
      return e
    }
  },
  function (e, t, r) {
    var i = r(20),
      n = r(5).document,
      a = i(n) && i(n.createElement)
    e.exports = function (e) {
      return a ? n.createElement(e) : {}
    }
  },
  function (e, t, r) {
    var i = r(20)
    e.exports = function (e, t) {
      if (!i(e)) return e
      var r, n
      if (
        t &&
        'function' == typeof (r = e.toString) &&
        !i((n = r.call(e)))
      )
        return n
      if ('function' == typeof (r = e.valueOf) && !i((n = r.call(e))))
        return n
      if (
        !t &&
        'function' == typeof (r = e.toString) &&
        !i((n = r.call(e)))
      )
        return n
      throw TypeError("Can't convert object to primitive value")
    }
  },
  function (e, t, r) {
    var i = r(43)
    e.exports = function (e) {
      return Object(i(e))
    }
  },
  function (e, t) {
    e.exports = function (e) {
      if (void 0 == e) throw TypeError("Can't call method on  " + e)
      return e
    }
  },
  function (e, t, r) {
    var i = r(45)('keys'),
      n = r(33)
    e.exports = function (e) {
      return i[e] || (i[e] = n(e))
    }
  },
  function (e, t, r) {
    var i = r(5),
      n = i['__core-js_shared__'] || (i['__core-js_shared__'] = {})
    e.exports = function (e) {
      return n[e] || (n[e] = {})
    }
  },
  function (e, t, r) {
    'use strict'
    var i = r(97)(!0)
    r(62)(
      String,
      'String',
      function (e) {
        ;(this._t = String(e)), (this._i = 0)
      },
      function () {
        var e,
          t = this._t,
          r = this._i
        return r >= t.length
          ? { value: void 0, done: !0 }
          : ((e = i(t, r)), (this._i += e.length), { value: e, done: !1 })
      }
    )
  },
  function (e, t) {
    var r = Math.ceil,
      i = Math.floor
    e.exports = function (e) {
      return isNaN((e = +e)) ? 0 : (e > 0 ? i : r)(e)
    }
  },
  function (e, t, r) {
    var i = r(8),
      n = r(99),
      a = r(49),
      o = r(44)('IE_PROTO'),
      s = function () {},
      u = function () {
        var e,
          t = r(40)('iframe'),
          i = a.length
        for (
          t.style.display = 'none',
            r(67).appendChild(t),
            t.src = 'javascript:',
            e = t.contentWindow.document,
            e.open(),
            e.write('<script>document.F=Object</script>'),
            e.close(),
            u = e.F;
          i--;

        )
          delete u.prototype[a[i]]
        return u()
      }
    e.exports =
      Object.create ||
      function (e, t) {
        var r
        return (
          null !== e
            ? ((s.prototype = i(e)),
              (r = new s()),
              (s.prototype = null),
              (r[o] = e))
            : (r = u()),
          void 0 === t ? r : n(r, t)
        )
      }
  },
  function (e, t) {
    e.exports =
      'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'.split(
        ','
      )
  },
  function (e, t, r) {
    r(102)
    for (
      var i = r(5),
        n = r(17),
        a = r(27),
        o = r(4)('toStringTag'),
        s = [
          'NodeList',
          'DOMTokenList',
          'MediaList',
          'StyleSheetList',
          'CSSRuleList',
        ],
        u = 0;
      u < 5;
      u++
    ) {
      var l = s[u],
        c = i[l],
        d = c && c.prototype
      d && !d[o] && n(d, o, l), (a[l] = a.Array)
    }
  },
  function (e, t, r) {
    t.f = r(4)
  },
  function (e, t, r) {
    var i = r(5),
      n = r(2),
      a = r(34),
      o = r(51),
      s = r(12).f
    e.exports = function (e) {
      var t = n.Symbol || (n.Symbol = a ? {} : i.Symbol || {})
      '_' == e.charAt(0) || e in t || s(t, e, { value: o.f(e) })
    }
  },
  function (e, t) {
    t.f = Object.getOwnPropertySymbols
  },
  function (e, t, r) {
    var i = r(36),
      n = r(32),
      a = r(15),
      o = r(41),
      s = r(18),
      u = r(57),
      l = Object.getOwnPropertyDescriptor
    t.f = r(13)
      ? l
      : function (e, t) {
          if (((e = a(e)), (t = o(t, !0)), u))
            try {
              return l(e, t)
            } catch (e) {}
          if (s(e, t)) return n(!i.f.call(e, t), e[t])
        }
  },
  function (e, t) {
    var r
    r = (function () {
      return this
    })()
    try {
      r = r || Function('return this')() || (0, eval)('this')
    } catch (e) {
      'object' == typeof window && (r = window)
    }
    e.exports = r
  },
  function (e, t, r) {
    e.exports = { default: r(88), __esModule: !0 }
  },
  function (e, t, r) {
    e.exports =
      !r(13) &&
      !r(21)(function () {
        return (
          7 !=
          Object.defineProperty(r(40)('div'), 'a', {
            get: function () {
              return 7
            },
          }).a
        )
      })
  },
  function (e, t, r) {
    'use strict'
    function i(e) {
      return e && e.__esModule ? e : { default: e }
    }
    Object.defineProperty(t, '__esModule', { value: !0 })
    var n = r(0),
      a = i(n),
      o = r(1),
      s = i(o),
      u = r(92),
      l = i(u),
      c = r(127),
      d = i(c),
      f = (function () {
        function e() {
          ;(0, a.default)(this, e)
        }
        return (
          (0, s.default)(
            e,
            [
              {
                key: 'createPlayback',
                value: function (e) {
                  var t = e.dai
                  return !0 === t
                    ? !0 === d.default.isSupported()
                      ? new d.default()
                      : new l.default()
                    : !0 === l.default.isSupported()
                    ? new l.default()
                    : new d.default()
                },
              },
            ],
            [
              {
                key: 'environmentSupported',
                value: function () {
                  return d.default.isSupported() || l.default.isSupported()
                },
              },
            ]
          ),
          e
        )
      })()
    t.default = f
  },
  function (e, t, r) {
    var i = r(18),
      n = r(42),
      a = r(44)('IE_PROTO'),
      o = Object.prototype
    e.exports =
      Object.getPrototypeOf ||
      function (e) {
        return (
          (e = n(e)),
          i(e, a)
            ? e[a]
            : 'function' == typeof e.constructor &&
              e instanceof e.constructor
            ? e.constructor.prototype
            : e instanceof Object
            ? o
            : null
        )
      }
  },
  function (e, t, r) {
    var i = r(11),
      n = r(2),
      a = r(21)
    e.exports = function (e, t) {
      var r = (n.Object || {})[e] || Object[e],
        o = {}
      ;(o[e] = t(r)),
        i(
          i.S +
            i.F *
              a(function () {
                r(1)
              }),
          'Object',
          o
        )
    }
  },
  function (e, t, r) {
    'use strict'
    function i(e) {
      return e && e.__esModule ? e : { default: e }
    }
    t.__esModule = !0
    var n = r(95),
      a = i(n),
      o = r(105),
      s = i(o),
      u =
        'function' == typeof s.default && 'symbol' == typeof a.default
          ? function (e) {
              return typeof e
            }
          : function (e) {
              return e &&
                'function' == typeof s.default &&
                e.constructor === s.default &&
                e !== s.default.prototype
                ? 'symbol'
                : typeof e
            }
    t.default =
      'function' == typeof s.default && 'symbol' === u(a.default)
        ? function (e) {
            return void 0 === e ? 'undefined' : u(e)
          }
        : function (e) {
            return e &&
              'function' == typeof s.default &&
              e.constructor === s.default &&
              e !== s.default.prototype
              ? 'symbol'
              : void 0 === e
              ? 'undefined'
              : u(e)
          }
  },
  function (e, t, r) {
    'use strict'
    var i = r(34),
      n = r(11),
      a = r(63),
      o = r(17),
      s = r(18),
      u = r(27),
      l = r(98),
      c = r(35),
      d = r(59),
      f = r(4)('iterator'),
      h = !([].keys && 'next' in [].keys()),
      p = function () {
        return this
      }
    e.exports = function (e, t, r, v, g, y, m) {
      l(r, t, v)
      var _,
        b,
        E,
        w = function (e) {
          if (!h && e in R) return R[e]
          switch (e) {
            case 'keys':
            case 'values':
              return function () {
                return new r(this, e)
              }
          }
          return function () {
            return new r(this, e)
          }
        },
        T = t + ' Iterator',
        S = 'values' == g,
        A = !1,
        R = e.prototype,
        k = R[f] || R['@@iterator'] || (g && R[g]),
        D = k || w(g),
        O = g ? (S ? w('entries') : D) : void 0,
        L = 'Array' == t ? R.entries || k : k
      if (
        (L &&
          (E = d(L.call(new e()))) !== Object.prototype &&
          (c(E, T, !0), i || s(E, f) || o(E, f, p)),
        S &&
          k &&
          'values' !== k.name &&
          ((A = !0),
          (D = function () {
            return k.call(this)
          })),
        (i && !m) || (!h && !A && R[f]) || o(R, f, D),
        (u[t] = D),
        (u[T] = p),
        g)
      )
        if (
          ((_ = {
            values: S ? D : w('values'),
            keys: y ? D : w('keys'),
            entries: O,
          }),
          m)
        )
          for (b in _) b in R || a(R, b, _[b])
        else n(n.P + n.F * (h || A), t, _)
      return _
    }
  },
  function (e, t, r) {
    e.exports = r(17)
  },
  function (e, t, r) {
    var i = r(18),
      n = r(15),
      a = r(100)(!1),
      o = r(44)('IE_PROTO')
    e.exports = function (e, t) {
      var r,
        s = n(e),
        u = 0,
        l = []
      for (r in s) r != o && i(s, r) && l.push(r)
      for (; t.length > u; ) i(s, (r = t[u++])) && (~a(l, r) || l.push(r))
      return l
    }
  },
  function (e, t, r) {
    var i = r(29)
    e.exports = Object('z').propertyIsEnumerable(0)
      ? Object
      : function (e) {
          return 'String' == i(e) ? e.split('') : Object(e)
        }
  },
  function (e, t, r) {
    var i = r(47),
      n = Math.min
    e.exports = function (e) {
      return e > 0 ? n(i(e), 9007199254740991) : 0
    }
  },
  function (e, t, r) {
    e.exports = r(5).document && document.documentElement
  },
  function (e, t, r) {
    var i = r(64),
      n = r(49).concat('length', 'prototype')
    t.f =
      Object.getOwnPropertyNames ||
      function (e) {
        return i(e, n)
      }
  },
  function (e, t) {},
  function (e, t, r) {
    'use strict'
    Object.defineProperty(t, '__esModule', { value: !0 })
    ;(t.AD_PLAYBACK_STATE_DID_CHANGE = 'adPlaybackStateDidChange'),
      (t.AUTO_PLAY_STATE_DID_CHANGE = 'autoPlayStateDidChange'),
      (t.BUFFERING_STATE_DID_CHANGE = 'bufferingStateDidChange'),
      (t.BUSY_STATE_DID_CHANGE = 'busyStateDidChange'),
      (t.CURRENT_TIME_DID_CHANGE = 'currentTimeDidChange'),
      (t.DIMENSIONS_DID_CHANGE = 'dimensionsDidChange'),
      (t.DURATION_DID_CHANGE = 'durationDidChange'),
      (t.ERROR_DID_OCCUR = 'errorDidOccur'),
      (t.FULL_SCREEN_STATE_DID_CHANGE = 'fullScreenStateDidChange'),
      (t.INIT_STATE_DID_CHANGE = 'initStateDidChange'),
      (t.MEDIA_STATE_DID_CHANGE = 'mediaStateDidChange'),
      (t.PLAYBACK_READY_DID_CHANGE = 'playbackReadyDidChange'),
      (t.PLAYBACK_START_DID_CHANGE = 'playbackStartDidChange'),
      (t.PLAYBACK_TYPE_DID_CHANGE = 'playbackTypeDidChange'),
      (t.PLAYBACK_URL_DID_CHANGE = 'playbackUrlDidChange'),
      (t.SDK_STATE_DID_CHANGE = 'sdkStateDidChange'),
      (t.SEEKING_STATE_DID_CHANGE = 'seekingStateDidChange'),
      (t.THUMBNAIL_URL_DID_CHANGE = 'thumbnailUrlDidChange'),
      (t.USER_INIT_PLAYBACK_DID_CHANGE = 'userInitPlaybackDidChange')
  },
  function (e, t, r) {
    'use strict'
    function i(e) {
      if (e && e.__esModule) return e
      var t = {}
      if (null != e)
        for (var r in e)
          Object.prototype.hasOwnProperty.call(e, r) && (t[r] = e[r])
      return (t.default = e), t
    }
    function n(e) {
      return e && e.__esModule ? e : { default: e }
    }
    Object.defineProperty(t, '__esModule', { value: !0 })
    var a = r(0),
      o = n(a),
      s = r(1),
      u = n(s),
      l = r(22),
      c = r(6),
      d = r(3),
      f = n(d),
      h = r(37),
      p = i(h),
      v = r(7),
      g = i(v),
      y = (function () {
        function e() {
          ;(0, o.default)(this, e),
            (this.logger = f.default.createTaggedLoggers('PlaybackBase')),
            (this.videoElement = null)
        }
        return (
          (0, u.default)(e, [
            {
              key: 'attachRootView',
              value: function (e) {
                var t = this
                ;(this.rootView = e),
                  (this.videoElement = this.getVideoElement()),
                  (this.videoElementEventListener = function (e) {
                    return t.videoElementDidChange(e)
                  })
                for (var r in p)
                  p.hasOwnProperty(r) &&
                    this.videoElement.addEventListener(
                      p[r],
                      this.videoElementEventListener
                    )
              },
            },
            {
              key: 'attachStore',
              value: function (e) {
                this.store = e
              },
            },
            {
              key: 'dispose',
              value: function () {
                if (null !== this.rootView) {
                  for (var e in p)
                    p.hasOwnProperty(e) &&
                      this.videoElement.removeEventListener(
                        p[e],
                        this.videoElementEventListener
                      )
                  ;(this.rootView = null), (this.videoElement = null)
                }
              },
            },
            {
              key: 'getRootView',
              value: function () {
                return this.rootView
              },
            },
            {
              key: 'getStore',
              value: function () {
                return this.store
              },
            },
            {
              key: 'getVideoElement',
              value: function () {
                return this.getRootView().querySelector(
                  (0, c.createCssClassSelector)(g.VIDEO_ELEMENT)
                )
              },
            },
            {
              key: 'pause',
              value: function () {
                this.videoElement.pause()
              },
            },
            {
              key: 'play',
              value: function () {
                this.videoElement.play()
              },
            },
            {
              key: 'videoElementDidChange',
              value: function (e) {
                switch (e.type) {
                  case p.TIME_UPDATE:
                    this.getStore().dispatch(
                      (0, l.updateTime)(this.videoElement.currentTime)
                    )
                    break
                  case p.DURATION_CHANGE:
                    this.getStore().dispatch(
                      (0, l.updateDuration)(this.videoElement.duration)
                    )
                    break
                  case p.PLAY:
                  case p.PLAYING:
                    this.getStore().dispatch((0, l.setMediaState)(e.type)),
                      this.getStore().dispatch((0, l.setPlaybackStart)(!0))
                    break
                  case p.PAUSE:
                  case p.ENDED:
                    this.getStore().dispatch((0, l.setMediaState)(e.type))
                    break
                  case p.SEEKING:
                    this.getStore().dispatch((0, l.setSeekingState)(!0))
                    break
                  case p.SEEKED:
                    this.getStore().dispatch((0, l.setSeekingState)(!1)),
                      this.getStore().dispatch(
                        (0, l.setBufferingState)(!1)
                      )
                    break
                  case p.CAN_PLAY:
                    this.getStore().dispatch((0, l.setBusyState)(!1)),
                      this.getStore().dispatch(
                        (0, l.setBufferingState)(!1)
                      )
                    break
                  case p.LOAD_START:
                  case p.WAITING:
                    this.getStore().dispatch((0, l.setBufferingState)(!0))
                }
              },
            },
          ]),
          e
        )
      })()
    t.default = y
  },
  function (e, t, r) {
    'use strict'
    Object.defineProperty(t, '__esModule', { value: !0 })
    ;(t.MEDIA_ERR_ABORTED = 1),
      (t.MEDIA_ERR_NETWORK = 2),
      (t.MEDIA_ERR_DECODE = 3),
      (t.MEDIA_ERR_SRC_NOT_SUPPORTED = 4)
  },
  function (e, t, r) {
    var i = r(29),
      n = r(4)('toStringTag'),
      a =
        'Arguments' ==
        i(
          (function () {
            return arguments
          })()
        ),
      o = function (e, t) {
        try {
          return e[t]
        } catch (e) {}
      }
    e.exports = function (e) {
      var t, r, s
      return void 0 === e
        ? 'Undefined'
        : null === e
        ? 'Null'
        : 'string' == typeof (r = o((t = Object(e)), n))
        ? r
        : a
        ? i(t)
        : 'Object' == (s = i(t)) && 'function' == typeof t.callee
        ? 'Arguments'
        : s
    }
  },
  function (e, t, r) {
    var i = r(73),
      n = r(4)('iterator'),
      a = r(27)
    e.exports = r(2).getIteratorMethod = function (e) {
      if (void 0 != e) return e[n] || e['@@iterator'] || a[i(e)]
    }
  },
  function (e, t, r) {
    var i,
      n,
      a,
      o = r(25),
      s = r(141),
      u = r(67),
      l = r(40),
      c = r(5),
      d = c.process,
      f = c.setImmediate,
      h = c.clearImmediate,
      p = c.MessageChannel,
      v = 0,
      g = {},
      y = function () {
        var e = +this
        if (g.hasOwnProperty(e)) {
          var t = g[e]
          delete g[e], t()
        }
      },
      m = function (e) {
        y.call(e.data)
      }
    ;(f && h) ||
      ((f = function (e) {
        for (var t = [], r = 1; arguments.length > r; )
          t.push(arguments[r++])
        return (
          (g[++v] = function () {
            s('function' == typeof e ? e : Function(e), t)
          }),
          i(v),
          v
        )
      }),
      (h = function (e) {
        delete g[e]
      }),
      'process' == r(29)(d)
        ? (i = function (e) {
            d.nextTick(o(y, e, 1))
          })
        : p
        ? ((n = new p()),
          (a = n.port2),
          (n.port1.onmessage = m),
          (i = o(a.postMessage, a, 1)))
        : c.addEventListener &&
          'function' == typeof postMessage &&
          !c.importScripts
        ? ((i = function (e) {
            c.postMessage(e + '', '*')
          }),
          c.addEventListener('message', m, !1))
        : (i =
            'onreadystatechange' in l('script')
              ? function (e) {
                  u.appendChild(l('script')).onreadystatechange =
                    function () {
                      u.removeChild(this), y.call(e)
                    }
                }
              : function (e) {
                  setTimeout(o(y, e, 1), 0)
                })),
      (e.exports = { set: f, clear: h })
  },
  function (e, t, r) {
    'use strict'
    Object.defineProperty(t, '__esModule', { value: !0 })
    ;(t.ENDED = 'ended'),
      (t.ERROR = 'error'),
      (t.PLAY = 'play'),
      (t.PLAYING = 'playing')
  },
  function (e, t, r) {
    var i, n, a
    /*!
     * URI.js - Mutating URLs
     *
     * Version: 1.18.10
     *
     * Author: Rodney Rehm
     * Web: http://medialize.github.io/URI.js/
     *
     * Licensed under
     *   MIT License http://www.opensource.org/licenses/mit-license
     *
     */
    !(function (o, s) {
      'use strict'
      'object' == typeof e && e.exports
        ? (e.exports = s(r(78), r(80), r(81)))
        : ((n = [r(78), r(80), r(81)]),
          (i = s),
          void 0 !== (a = 'function' == typeof i ? i.apply(t, n) : i) &&
            (e.exports = a))
    })(0, function (e, t, r, i) {
      'use strict'
      function n(e, t) {
        var r = arguments.length >= 1,
          i = arguments.length >= 2
        if (!(this instanceof n))
          return r ? (i ? new n(e, t) : new n(e)) : new n()
        if (void 0 === e) {
          if (r)
            throw new TypeError(
              'undefined is not a valid argument for URI'
            )
          e = 'undefined' != typeof location ? location.href + '' : ''
        }
        if (null === e && r)
          throw new TypeError('null is not a valid argument for URI')
        return this.href(e), void 0 !== t ? this.absoluteTo(t) : this
      }
      function a(e) {
        return e.replace(/([.*+?^=!:${}()|[\]\/\\])/g, '\\$1')
      }
      function o(e) {
        return void 0 === e
          ? 'Undefined'
          : String(Object.prototype.toString.call(e)).slice(8, -1)
      }
      function s(e) {
        return 'Array' === o(e)
      }
      function u(e, t) {
        var r,
          i,
          n = {}
        if ('RegExp' === o(t)) n = null
        else if (s(t)) for (r = 0, i = t.length; r < i; r++) n[t[r]] = !0
        else n[t] = !0
        for (r = 0, i = e.length; r < i; r++) {
          ;((n && void 0 !== n[e[r]]) || (!n && t.test(e[r]))) &&
            (e.splice(r, 1), i--, r--)
        }
        return e
      }
      function l(e, t) {
        var r, i
        if (s(t)) {
          for (r = 0, i = t.length; r < i; r++) if (!l(e, t[r])) return !1
          return !0
        }
        var n = o(t)
        for (r = 0, i = e.length; r < i; r++)
          if ('RegExp' === n) {
            if ('string' == typeof e[r] && e[r].match(t)) return !0
          } else if (e[r] === t) return !0
        return !1
      }
      function c(e, t) {
        if (!s(e) || !s(t)) return !1
        if (e.length !== t.length) return !1
        e.sort(), t.sort()
        for (var r = 0, i = e.length; r < i; r++)
          if (e[r] !== t[r]) return !1
        return !0
      }
      function d(e) {
        var t = /^\/+|\/+$/g
        return e.replace(t, '')
      }
      function f(e) {
        return escape(e)
      }
      function h(e) {
        return encodeURIComponent(e)
          .replace(/[!'()*]/g, f)
          .replace(/\*/g, '%2A')
      }
      function p(e) {
        return function (t, r) {
          return void 0 === t
            ? this._parts[e] || ''
            : ((this._parts[e] = t || null), this.build(!r), this)
        }
      }
      function v(e, t) {
        return function (r, i) {
          return void 0 === r
            ? this._parts[e] || ''
            : (null !== r &&
                ((r += ''), r.charAt(0) === t && (r = r.substring(1))),
              (this._parts[e] = r),
              this.build(!i),
              this)
        }
      }
      var g = i && i.URI
      n.version = '1.18.10'
      var y = n.prototype,
        m = Object.prototype.hasOwnProperty
      ;(n._parts = function () {
        return {
          protocol: null,
          username: null,
          password: null,
          hostname: null,
          urn: null,
          port: null,
          path: null,
          query: null,
          fragment: null,
          duplicateQueryParameters: n.duplicateQueryParameters,
          escapeQuerySpace: n.escapeQuerySpace,
        }
      }),
        (n.duplicateQueryParameters = !1),
        (n.escapeQuerySpace = !0),
        (n.protocol_expression = /^[a-z][a-z0-9.+-]*$/i),
        (n.idn_expression = /[^a-z0-9\.-]/i),
        (n.punycode_expression = /(xn--)/i),
        (n.ip4_expression = /^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/),
        (n.ip6_expression =
          /^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/),
        (n.find_uri_expression =
          /\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?«»“”‘’]))/gi),
        (n.findUri = {
          start: /\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,
          end: /[\s\r\n]|$/,
          trim: /[`!()\[\]{};:'".,<>?«»“”„‘’]+$/,
          parens: /(\([^\)]*\)|\[[^\]]*\]|\{[^}]*\}|<[^>]*>)/g,
        }),
        (n.defaultPorts = {
          http: '80',
          https: '443',
          ftp: '21',
          gopher: '70',
          ws: '80',
          wss: '443',
        }),
        (n.invalid_hostname_characters = /[^a-zA-Z0-9\.-]/),
        (n.domAttributes = {
          a: 'href',
          blockquote: 'cite',
          link: 'href',
          base: 'href',
          script: 'src',
          form: 'action',
          img: 'src',
          area: 'href',
          iframe: 'src',
          embed: 'src',
          source: 'src',
          track: 'src',
          input: 'src',
          audio: 'src',
          video: 'src',
        }),
        (n.getDomAttribute = function (e) {
          if (e && e.nodeName) {
            var t = e.nodeName.toLowerCase()
            if ('input' !== t || 'image' === e.type)
              return n.domAttributes[t]
          }
        }),
        (n.encode = h),
        (n.decode = decodeURIComponent),
        (n.iso8859 = function () {
          ;(n.encode = escape), (n.decode = unescape)
        }),
        (n.unicode = function () {
          ;(n.encode = h), (n.decode = decodeURIComponent)
        }),
        (n.characters = {
          pathname: {
            encode: {
              expression: /%(24|26|2B|2C|3B|3D|3A|40)/gi,
              map: {
                '%24': '$',
                '%26': '&',
                '%2B': '+',
                '%2C': ',',
                '%3B': ';',
                '%3D': '=',
                '%3A': ':',
                '%40': '@',
              },
            },
            decode: {
              expression: /[\/\?#]/g,
              map: { '/': '%2F', '?': '%3F', '#': '%23' },
            },
          },
          reserved: {
            encode: {
              expression:
                /%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/gi,
              map: {
                '%3A': ':',
                '%2F': '/',
                '%3F': '?',
                '%23': '#',
                '%5B': '[',
                '%5D': ']',
                '%40': '@',
                '%21': '!',
                '%24': '$',
                '%26': '&',
                '%27': "'",
                '%28': '(',
                '%29': ')',
                '%2A': '*',
                '%2B': '+',
                '%2C': ',',
                '%3B': ';',
                '%3D': '=',
              },
            },
          },
          urnpath: {
            encode: {
              expression: /%(21|24|27|28|29|2A|2B|2C|3B|3D|40)/gi,
              map: {
                '%21': '!',
                '%24': '$',
                '%27': "'",
                '%28': '(',
                '%29': ')',
                '%2A': '*',
                '%2B': '+',
                '%2C': ',',
                '%3B': ';',
                '%3D': '=',
                '%40': '@',
              },
            },
            decode: {
              expression: /[\/\?#:]/g,
              map: { '/': '%2F', '?': '%3F', '#': '%23', ':': '%3A' },
            },
          },
        }),
        (n.encodeQuery = function (e, t) {
          var r = n.encode(e + '')
          return (
            void 0 === t && (t = n.escapeQuerySpace),
            t ? r.replace(/%20/g, '+') : r
          )
        }),
        (n.decodeQuery = function (e, t) {
          ;(e += ''), void 0 === t && (t = n.escapeQuerySpace)
          try {
            return n.decode(t ? e.replace(/\+/g, '%20') : e)
          } catch (t) {
            return e
          }
        })
      var _,
        b = { encode: 'encode', decode: 'decode' },
        E = function (e, t) {
          return function (r) {
            try {
              return n[t](r + '').replace(
                n.characters[e][t].expression,
                function (r) {
                  return n.characters[e][t].map[r]
                }
              )
            } catch (e) {
              return r
            }
          }
        }
      for (_ in b)
        (n[_ + 'PathSegment'] = E('pathname', b[_])),
          (n[_ + 'UrnPathSegment'] = E('urnpath', b[_]))
      var w = function (e, t, r) {
        return function (i) {
          var a
          a = r
            ? function (e) {
                return n[t](n[r](e))
              }
            : n[t]
          for (var o = (i + '').split(e), s = 0, u = o.length; s < u; s++)
            o[s] = a(o[s])
          return o.join(e)
        }
      }
      ;(n.decodePath = w('/', 'decodePathSegment')),
        (n.decodeUrnPath = w(':', 'decodeUrnPathSegment')),
        (n.recodePath = w('/', 'encodePathSegment', 'decode')),
        (n.recodeUrnPath = w(':', 'encodeUrnPathSegment', 'decode')),
        (n.encodeReserved = E('reserved', 'encode')),
        (n.parse = function (e, t) {
          var r
          return (
            t || (t = {}),
            (r = e.indexOf('#')),
            r > -1 &&
              ((t.fragment = e.substring(r + 1) || null),
              (e = e.substring(0, r))),
            (r = e.indexOf('?')),
            r > -1 &&
              ((t.query = e.substring(r + 1) || null),
              (e = e.substring(0, r))),
            '//' === e.substring(0, 2)
              ? ((t.protocol = null),
                (e = e.substring(2)),
                (e = n.parseAuthority(e, t)))
              : (r = e.indexOf(':')) > -1 &&
                ((t.protocol = e.substring(0, r) || null),
                t.protocol && !t.protocol.match(n.protocol_expression)
                  ? (t.protocol = void 0)
                  : '//' === e.substring(r + 1, r + 3)
                  ? ((e = e.substring(r + 3)),
                    (e = n.parseAuthority(e, t)))
                  : ((e = e.substring(r + 1)), (t.urn = !0))),
            (t.path = e),
            t
          )
        }),
        (n.parseHost = function (e, t) {
          e = e.replace(/\\/g, '/')
          var r,
            i,
            n = e.indexOf('/')
          if ((-1 === n && (n = e.length), '[' === e.charAt(0)))
            (r = e.indexOf(']')),
              (t.hostname = e.substring(1, r) || null),
              (t.port = e.substring(r + 2, n) || null),
              '/' === t.port && (t.port = null)
          else {
            var a = e.indexOf(':'),
              o = e.indexOf('/'),
              s = e.indexOf(':', a + 1)
            ;-1 !== s && (-1 === o || s < o)
              ? ((t.hostname = e.substring(0, n) || null), (t.port = null))
              : ((i = e.substring(0, n).split(':')),
                (t.hostname = i[0] || null),
                (t.port = i[1] || null))
          }
          return (
            t.hostname &&
              '/' !== e.substring(n).charAt(0) &&
              (n++, (e = '/' + e)),
            e.substring(n) || '/'
          )
        }),
        (n.parseAuthority = function (e, t) {
          return (e = n.parseUserinfo(e, t)), n.parseHost(e, t)
        }),
        (n.parseUserinfo = function (e, t) {
          var r,
            i = e.indexOf('/'),
            a = e.lastIndexOf('@', i > -1 ? i : e.length - 1)
          return (
            a > -1 && (-1 === i || a < i)
              ? ((r = e.substring(0, a).split(':')),
                (t.username = r[0] ? n.decode(r[0]) : null),
                r.shift(),
                (t.password = r[0] ? n.decode(r.join(':')) : null),
                (e = e.substring(a + 1)))
              : ((t.username = null), (t.password = null)),
            e
          )
        }),
        (n.parseQuery = function (e, t) {
          if (!e) return {}
          if (!(e = e.replace(/&+/g, '&').replace(/^\?*&*|&+$/g, '')))
            return {}
          for (
            var r, i, a, o = {}, s = e.split('&'), u = s.length, l = 0;
            l < u;
            l++
          )
            (r = s[l].split('=')),
              (i = n.decodeQuery(r.shift(), t)),
              (a = r.length ? n.decodeQuery(r.join('='), t) : null),
              m.call(o, i)
                ? (('string' != typeof o[i] && null !== o[i]) ||
                    (o[i] = [o[i]]),
                  o[i].push(a))
                : (o[i] = a)
          return o
        }),
        (n.build = function (e) {
          var t = ''
          return (
            e.protocol && (t += e.protocol + ':'),
            e.urn || (!t && !e.hostname) || (t += '//'),
            (t += n.buildAuthority(e) || ''),
            'string' == typeof e.path &&
              ('/' !== e.path.charAt(0) &&
                'string' == typeof e.hostname &&
                (t += '/'),
              (t += e.path)),
            'string' == typeof e.query && e.query && (t += '?' + e.query),
            'string' == typeof e.fragment &&
              e.fragment &&
              (t += '#' + e.fragment),
            t
          )
        }),
        (n.buildHost = function (e) {
          var t = ''
          return e.hostname
            ? (n.ip6_expression.test(e.hostname)
                ? (t += '[' + e.hostname + ']')
                : (t += e.hostname),
              e.port && (t += ':' + e.port),
              t)
            : ''
        }),
        (n.buildAuthority = function (e) {
          return n.buildUserinfo(e) + n.buildHost(e)
        }),
        (n.buildUserinfo = function (e) {
          var t = ''
          return (
            e.username && (t += n.encode(e.username)),
            e.password && (t += ':' + n.encode(e.password)),
            t && (t += '@'),
            t
          )
        }),
        (n.buildQuery = function (e, t, r) {
          var i,
            a,
            o,
            u,
            l = ''
          for (a in e)
            if (m.call(e, a) && a)
              if (s(e[a]))
                for (i = {}, o = 0, u = e[a].length; o < u; o++)
                  void 0 !== e[a][o] &&
                    void 0 === i[e[a][o] + ''] &&
                    ((l += '&' + n.buildQueryParameter(a, e[a][o], r)),
                    !0 !== t && (i[e[a][o] + ''] = !0))
              else
                void 0 !== e[a] &&
                  (l += '&' + n.buildQueryParameter(a, e[a], r))
          return l.substring(1)
        }),
        (n.buildQueryParameter = function (e, t, r) {
          return (
            n.encodeQuery(e, r) +
            (null !== t ? '=' + n.encodeQuery(t, r) : '')
          )
        }),
        (n.addQuery = function (e, t, r) {
          if ('object' == typeof t)
            for (var i in t) m.call(t, i) && n.addQuery(e, i, t[i])
          else {
            if ('string' != typeof t)
              throw new TypeError(
                'URI.addQuery() accepts an object, string as the name parameter'
              )
            if (void 0 === e[t]) return void (e[t] = r)
            'string' == typeof e[t] && (e[t] = [e[t]]),
              s(r) || (r = [r]),
              (e[t] = (e[t] || []).concat(r))
          }
        }),
        (n.removeQuery = function (e, t, r) {
          var i, a, l
          if (s(t)) for (i = 0, a = t.length; i < a; i++) e[t[i]] = void 0
          else if ('RegExp' === o(t))
            for (l in e) t.test(l) && (e[l] = void 0)
          else if ('object' == typeof t)
            for (l in t) m.call(t, l) && n.removeQuery(e, l, t[l])
          else {
            if ('string' != typeof t)
              throw new TypeError(
                'URI.removeQuery() accepts an object, string, RegExp as the first parameter'
              )
            void 0 !== r
              ? 'RegExp' === o(r)
                ? !s(e[t]) && r.test(e[t])
                  ? (e[t] = void 0)
                  : (e[t] = u(e[t], r))
                : e[t] !== String(r) || (s(r) && 1 !== r.length)
                ? s(e[t]) && (e[t] = u(e[t], r))
                : (e[t] = void 0)
              : (e[t] = void 0)
          }
        }),
        (n.hasQuery = function (e, t, r, i) {
          switch (o(t)) {
            case 'String':
              break
            case 'RegExp':
              for (var a in e)
                if (
                  m.call(e, a) &&
                  t.test(a) &&
                  (void 0 === r || n.hasQuery(e, a, r))
                )
                  return !0
              return !1
            case 'Object':
              for (var u in t)
                if (m.call(t, u) && !n.hasQuery(e, u, t[u])) return !1
              return !0
            default:
              throw new TypeError(
                'URI.hasQuery() accepts a string, regular expression or object as the name parameter'
              )
          }
          switch (o(r)) {
            case 'Undefined':
              return t in e
            case 'Boolean':
              return r === Boolean(s(e[t]) ? e[t].length : e[t])
            case 'Function':
              return !!r(e[t], t, e)
            case 'Array':
              if (!s(e[t])) return !1
              return (i ? l : c)(e[t], r)
            case 'RegExp':
              return s(e[t])
                ? !!i && l(e[t], r)
                : Boolean(e[t] && e[t].match(r))
            case 'Number':
              r = String(r)
            case 'String':
              return s(e[t]) ? !!i && l(e[t], r) : e[t] === r
            default:
              throw new TypeError(
                'URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter'
              )
          }
        }),
        (n.joinPaths = function () {
          for (
            var e = [], t = [], r = 0, i = 0;
            i < arguments.length;
            i++
          ) {
            var a = new n(arguments[i])
            e.push(a)
            for (var o = a.segment(), s = 0; s < o.length; s++)
              'string' == typeof o[s] && t.push(o[s]), o[s] && r++
          }
          if (!t.length || !r) return new n('')
          var u = new n('').segment(t)
          return (
            ('' !== e[0].path() && '/' !== e[0].path().slice(0, 1)) ||
              u.path('/' + u.path()),
            u.normalize()
          )
        }),
        (n.commonPath = function (e, t) {
          var r,
            i = Math.min(e.length, t.length)
          for (r = 0; r < i; r++)
            if (e.charAt(r) !== t.charAt(r)) {
              r--
              break
            }
          return r < 1
            ? e.charAt(0) === t.charAt(0) && '/' === e.charAt(0)
              ? '/'
              : ''
            : (('/' === e.charAt(r) && '/' === t.charAt(r)) ||
                (r = e.substring(0, r).lastIndexOf('/')),
              e.substring(0, r + 1))
        }),
        (n.withinString = function (e, t, r) {
          r || (r = {})
          var i = r.start || n.findUri.start,
            a = r.end || n.findUri.end,
            o = r.trim || n.findUri.trim,
            s = r.parens || n.findUri.parens,
            u = /[a-z0-9-]=["']?$/i
          for (i.lastIndex = 0; ; ) {
            var l = i.exec(e)
            if (!l) break
            var c = l.index
            if (r.ignoreHtml) {
              var d = e.slice(Math.max(c - 3, 0), c)
              if (d && u.test(d)) continue
            }
            for (
              var f = c + e.slice(c).search(a), h = e.slice(c, f), p = -1;
              ;

            ) {
              var v = s.exec(h)
              if (!v) break
              var g = v.index + v[0].length
              p = Math.max(p, g)
            }
            if (
              ((h =
                p > -1
                  ? h.slice(0, p) + h.slice(p).replace(o, '')
                  : h.replace(o, '')),
              !(h.length <= l[0].length || (r.ignore && r.ignore.test(h))))
            ) {
              f = c + h.length
              var y = t(h, c, f, e)
              void 0 !== y
                ? ((y = String(y)),
                  (e = e.slice(0, c) + y + e.slice(f)),
                  (i.lastIndex = c + y.length))
                : (i.lastIndex = f)
            }
          }
          return (i.lastIndex = 0), e
        }),
        (n.ensureValidHostname = function (t) {
          if (t.match(n.invalid_hostname_characters)) {
            if (!e)
              throw new TypeError(
                'Hostname "' +
                  t +
                  '" contains characters other than [A-Z0-9.-] and Punycode.js is not available'
              )
            if (e.toASCII(t).match(n.invalid_hostname_characters))
              throw new TypeError(
                'Hostname "' +
                  t +
                  '" contains characters other than [A-Z0-9.-]'
              )
          }
        }),
        (n.noConflict = function (e) {
          if (e) {
            var t = { URI: this.noConflict() }
            return (
              i.URITemplate &&
                'function' == typeof i.URITemplate.noConflict &&
                (t.URITemplate = i.URITemplate.noConflict()),
              i.IPv6 &&
                'function' == typeof i.IPv6.noConflict &&
                (t.IPv6 = i.IPv6.noConflict()),
              i.SecondLevelDomains &&
                'function' == typeof i.SecondLevelDomains.noConflict &&
                (t.SecondLevelDomains = i.SecondLevelDomains.noConflict()),
              t
            )
          }
          return i.URI === this && (i.URI = g), this
        }),
        (y.build = function (e) {
          return (
            !0 === e
              ? (this._deferred_build = !0)
              : (void 0 === e || this._deferred_build) &&
                ((this._string = n.build(this._parts)),
                (this._deferred_build = !1)),
            this
          )
        }),
        (y.clone = function () {
          return new n(this)
        }),
        (y.valueOf = y.toString =
          function () {
            return this.build(!1)._string
          }),
        (y.protocol = p('protocol')),
        (y.username = p('username')),
        (y.password = p('password')),
        (y.hostname = p('hostname')),
        (y.port = p('port')),
        (y.query = v('query', '?')),
        (y.fragment = v('fragment', '#')),
        (y.search = function (e, t) {
          var r = this.query(e, t)
          return 'string' == typeof r && r.length ? '?' + r : r
        }),
        (y.hash = function (e, t) {
          var r = this.fragment(e, t)
          return 'string' == typeof r && r.length ? '#' + r : r
        }),
        (y.pathname = function (e, t) {
          if (void 0 === e || !0 === e) {
            var r = this._parts.path || (this._parts.hostname ? '/' : '')
            return e
              ? (this._parts.urn ? n.decodeUrnPath : n.decodePath)(r)
              : r
          }
          return (
            this._parts.urn
              ? (this._parts.path = e ? n.recodeUrnPath(e) : '')
              : (this._parts.path = e ? n.recodePath(e) : '/'),
            this.build(!t),
            this
          )
        }),
        (y.path = y.pathname),
        (y.href = function (e, t) {
          var r
          if (void 0 === e) return this.toString()
          ;(this._string = ''), (this._parts = n._parts())
          var i = e instanceof n,
            a =
              'object' == typeof e && (e.hostname || e.path || e.pathname)
          if (e.nodeName) {
            ;(e = e[n.getDomAttribute(e)] || ''), (a = !1)
          }
          if (
            (!i && a && void 0 !== e.pathname && (e = e.toString()),
            'string' == typeof e || e instanceof String)
          )
            this._parts = n.parse(String(e), this._parts)
          else {
            if (!i && !a) throw new TypeError('invalid input')
            var o = i ? e._parts : e
            for (r in o) m.call(this._parts, r) && (this._parts[r] = o[r])
          }
          return this.build(!t), this
        }),
        (y.is = function (e) {
          var t = !1,
            i = !1,
            a = !1,
            o = !1,
            s = !1,
            u = !1,
            l = !1,
            c = !this._parts.urn
          switch (
            (this._parts.hostname &&
              ((c = !1),
              (i = n.ip4_expression.test(this._parts.hostname)),
              (a = n.ip6_expression.test(this._parts.hostname)),
              (t = i || a),
              (o = !t),
              (s = o && r && r.has(this._parts.hostname)),
              (u = o && n.idn_expression.test(this._parts.hostname)),
              (l = o && n.punycode_expression.test(this._parts.hostname))),
            e.toLowerCase())
          ) {
            case 'relative':
              return c
            case 'absolute':
              return !c
            case 'domain':
            case 'name':
              return o
            case 'sld':
              return s
            case 'ip':
              return t
            case 'ip4':
            case 'ipv4':
            case 'inet4':
              return i
            case 'ip6':
            case 'ipv6':
            case 'inet6':
              return a
            case 'idn':
              return u
            case 'url':
              return !this._parts.urn
            case 'urn':
              return !!this._parts.urn
            case 'punycode':
              return l
          }
          return null
        })
      var T = y.protocol,
        S = y.port,
        A = y.hostname
      ;(y.protocol = function (e, t) {
        if (
          void 0 !== e &&
          e &&
          ((e = e.replace(/:(\/\/)?$/, '')),
          !e.match(n.protocol_expression))
        )
          throw new TypeError(
            'Protocol "' +
              e +
              '" contains characters other than [A-Z0-9.+-] or doesn\'t start with [A-Z]'
          )
        return T.call(this, e, t)
      }),
        (y.scheme = y.protocol),
        (y.port = function (e, t) {
          if (this._parts.urn) return void 0 === e ? '' : this
          if (
            void 0 !== e &&
            (0 === e && (e = null),
            e &&
              ((e += ''),
              ':' === e.charAt(0) && (e = e.substring(1)),
              e.match(/[^0-9]/)))
          )
            throw new TypeError(
              'Port "' + e + '" contains characters other than [0-9]'
            )
          return S.call(this, e, t)
        }),
        (y.hostname = function (e, t) {
          if (this._parts.urn) return void 0 === e ? '' : this
          if (void 0 !== e) {
            var r = {}
            if ('/' !== n.parseHost(e, r))
              throw new TypeError(
                'Hostname "' +
                  e +
                  '" contains characters other than [A-Z0-9.-]'
              )
            e = r.hostname
          }
          return A.call(this, e, t)
        }),
        (y.origin = function (e, t) {
          if (this._parts.urn) return void 0 === e ? '' : this
          if (void 0 === e) {
            var r = this.protocol()
            return this.authority()
              ? (r ? r + '://' : '') + this.authority()
              : ''
          }
          var i = n(e)
          return (
            this.protocol(i.protocol()).authority(i.authority()).build(!t),
            this
          )
        }),
        (y.host = function (e, t) {
          if (this._parts.urn) return void 0 === e ? '' : this
          if (void 0 === e)
            return this._parts.hostname ? n.buildHost(this._parts) : ''
          if ('/' !== n.parseHost(e, this._parts))
            throw new TypeError(
              'Hostname "' +
                e +
                '" contains characters other than [A-Z0-9.-]'
            )
          return this.build(!t), this
        }),
        (y.authority = function (e, t) {
          if (this._parts.urn) return void 0 === e ? '' : this
          if (void 0 === e)
            return this._parts.hostname
              ? n.buildAuthority(this._parts)
              : ''
          if ('/' !== n.parseAuthority(e, this._parts))
            throw new TypeError(
              'Hostname "' +
                e +
                '" contains characters other than [A-Z0-9.-]'
            )
          return this.build(!t), this
        }),
        (y.userinfo = function (e, t) {
          if (this._parts.urn) return void 0 === e ? '' : this
          if (void 0 === e) {
            var r = n.buildUserinfo(this._parts)
            return r ? r.substring(0, r.length - 1) : r
          }
          return (
            '@' !== e[e.length - 1] && (e += '@'),
            n.parseUserinfo(e, this._parts),
            this.build(!t),
            this
          )
        }),
        (y.resource = function (e, t) {
          var r
          return void 0 === e
            ? this.path() + this.search() + this.hash()
            : ((r = n.parse(e)),
              (this._parts.path = r.path),
              (this._parts.query = r.query),
              (this._parts.fragment = r.fragment),
              this.build(!t),
              this)
        }),
        (y.subdomain = function (e, t) {
          if (this._parts.urn) return void 0 === e ? '' : this
          if (void 0 === e) {
            if (!this._parts.hostname || this.is('IP')) return ''
            var r = this._parts.hostname.length - this.domain().length - 1
            return this._parts.hostname.substring(0, r) || ''
          }
          var i = this._parts.hostname.length - this.domain().length,
            o = this._parts.hostname.substring(0, i),
            s = new RegExp('^' + a(o))
          return (
            e && '.' !== e.charAt(e.length - 1) && (e += '.'),
            e && n.ensureValidHostname(e),
            (this._parts.hostname = this._parts.hostname.replace(s, e)),
            this.build(!t),
            this
          )
        }),
        (y.domain = function (e, t) {
          if (this._parts.urn) return void 0 === e ? '' : this
          if (
            ('boolean' == typeof e && ((t = e), (e = void 0)),
            void 0 === e)
          ) {
            if (!this._parts.hostname || this.is('IP')) return ''
            var r = this._parts.hostname.match(/\./g)
            if (r && r.length < 2) return this._parts.hostname
            var i = this._parts.hostname.length - this.tld(t).length - 1
            return (
              (i = this._parts.hostname.lastIndexOf('.', i - 1) + 1),
              this._parts.hostname.substring(i) || ''
            )
          }
          if (!e) throw new TypeError('cannot set domain empty')
          if (
            (n.ensureValidHostname(e),
            !this._parts.hostname || this.is('IP'))
          )
            this._parts.hostname = e
          else {
            var o = new RegExp(a(this.domain()) + '$')
            this._parts.hostname = this._parts.hostname.replace(o, e)
          }
          return this.build(!t), this
        }),
        (y.tld = function (e, t) {
          if (this._parts.urn) return void 0 === e ? '' : this
          if (
            ('boolean' == typeof e && ((t = e), (e = void 0)),
            void 0 === e)
          ) {
            if (!this._parts.hostname || this.is('IP')) return ''
            var i = this._parts.hostname.lastIndexOf('.'),
              n = this._parts.hostname.substring(i + 1)
            return !0 !== t && r && r.list[n.toLowerCase()]
              ? r.get(this._parts.hostname) || n
              : n
          }
          var o
          if (!e) throw new TypeError('cannot set TLD empty')
          if (e.match(/[^a-zA-Z0-9-]/)) {
            if (!r || !r.is(e))
              throw new TypeError(
                'TLD "' + e + '" contains characters other than [A-Z0-9]'
              )
            ;(o = new RegExp(a(this.tld()) + '$')),
              (this._parts.hostname = this._parts.hostname.replace(o, e))
          } else {
            if (!this._parts.hostname || this.is('IP'))
              throw new ReferenceError('cannot set TLD on non-domain host')
            ;(o = new RegExp(a(this.tld()) + '$')),
              (this._parts.hostname = this._parts.hostname.replace(o, e))
          }
          return this.build(!t), this
        }),
        (y.directory = function (e, t) {
          if (this._parts.urn) return void 0 === e ? '' : this
          if (void 0 === e || !0 === e) {
            if (!this._parts.path && !this._parts.hostname) return ''
            if ('/' === this._parts.path) return '/'
            var r = this._parts.path.length - this.filename().length - 1,
              i =
                this._parts.path.substring(0, r) ||
                (this._parts.hostname ? '/' : '')
            return e ? n.decodePath(i) : i
          }
          var o = this._parts.path.length - this.filename().length,
            s = this._parts.path.substring(0, o),
            u = new RegExp('^' + a(s))
          return (
            this.is('relative') ||
              (e || (e = '/'), '/' !== e.charAt(0) && (e = '/' + e)),
            e && '/' !== e.charAt(e.length - 1) && (e += '/'),
            (e = n.recodePath(e)),
            (this._parts.path = this._parts.path.replace(u, e)),
            this.build(!t),
            this
          )
        }),
        (y.filename = function (e, t) {
          if (this._parts.urn) return void 0 === e ? '' : this
          if ('string' != typeof e) {
            if (!this._parts.path || '/' === this._parts.path) return ''
            var r = this._parts.path.lastIndexOf('/'),
              i = this._parts.path.substring(r + 1)
            return e ? n.decodePathSegment(i) : i
          }
          var o = !1
          '/' === e.charAt(0) && (e = e.substring(1)),
            e.match(/\.?\//) && (o = !0)
          var s = new RegExp(a(this.filename()) + '$')
          return (
            (e = n.recodePath(e)),
            (this._parts.path = this._parts.path.replace(s, e)),
            o ? this.normalizePath(t) : this.build(!t),
            this
          )
        }),
        (y.suffix = function (e, t) {
          if (this._parts.urn) return void 0 === e ? '' : this
          if (void 0 === e || !0 === e) {
            if (!this._parts.path || '/' === this._parts.path) return ''
            var r,
              i,
              o = this.filename(),
              s = o.lastIndexOf('.')
            return -1 === s
              ? ''
              : ((r = o.substring(s + 1)),
                (i = /^[a-z0-9%]+$/i.test(r) ? r : ''),
                e ? n.decodePathSegment(i) : i)
          }
          '.' === e.charAt(0) && (e = e.substring(1))
          var u,
            l = this.suffix()
          if (l)
            u = e ? new RegExp(a(l) + '$') : new RegExp(a('.' + l) + '$')
          else {
            if (!e) return this
            this._parts.path += '.' + n.recodePath(e)
          }
          return (
            u &&
              ((e = n.recodePath(e)),
              (this._parts.path = this._parts.path.replace(u, e))),
            this.build(!t),
            this
          )
        }),
        (y.segment = function (e, t, r) {
          var i = this._parts.urn ? ':' : '/',
            n = this.path(),
            a = '/' === n.substring(0, 1),
            o = n.split(i)
          if (
            (void 0 !== e &&
              'number' != typeof e &&
              ((r = t), (t = e), (e = void 0)),
            void 0 !== e && 'number' != typeof e)
          )
            throw new Error(
              'Bad segment "' + e + '", must be 0-based integer'
            )
          if (
            (a && o.shift(),
            e < 0 && (e = Math.max(o.length + e, 0)),
            void 0 === t)
          )
            return void 0 === e ? o : o[e]
          if (null === e || void 0 === o[e])
            if (s(t)) {
              o = []
              for (var u = 0, l = t.length; u < l; u++)
                (t[u].length || (o.length && o[o.length - 1].length)) &&
                  (o.length && !o[o.length - 1].length && o.pop(),
                  o.push(d(t[u])))
            } else
              (t || 'string' == typeof t) &&
                ((t = d(t)),
                '' === o[o.length - 1] ? (o[o.length - 1] = t) : o.push(t))
          else t ? (o[e] = d(t)) : o.splice(e, 1)
          return a && o.unshift(''), this.path(o.join(i), r)
        }),
        (y.segmentCoded = function (e, t, r) {
          var i, a, o
          if (
            ('number' != typeof e && ((r = t), (t = e), (e = void 0)),
            void 0 === t)
          ) {
            if (((i = this.segment(e, t, r)), s(i)))
              for (a = 0, o = i.length; a < o; a++) i[a] = n.decode(i[a])
            else i = void 0 !== i ? n.decode(i) : void 0
            return i
          }
          if (s(t))
            for (a = 0, o = t.length; a < o; a++) t[a] = n.encode(t[a])
          else
            t =
              'string' == typeof t || t instanceof String ? n.encode(t) : t
          return this.segment(e, t, r)
        })
      var R = y.query
      return (
        (y.query = function (e, t) {
          if (!0 === e)
            return n.parseQuery(
              this._parts.query,
              this._parts.escapeQuerySpace
            )
          if ('function' == typeof e) {
            var r = n.parseQuery(
                this._parts.query,
                this._parts.escapeQuerySpace
              ),
              i = e.call(this, r)
            return (
              (this._parts.query = n.buildQuery(
                i || r,
                this._parts.duplicateQueryParameters,
                this._parts.escapeQuerySpace
              )),
              this.build(!t),
              this
            )
          }
          return void 0 !== e && 'string' != typeof e
            ? ((this._parts.query = n.buildQuery(
                e,
                this._parts.duplicateQueryParameters,
                this._parts.escapeQuerySpace
              )),
              this.build(!t),
              this)
            : R.call(this, e, t)
        }),
        (y.setQuery = function (e, t, r) {
          var i = n.parseQuery(
            this._parts.query,
            this._parts.escapeQuerySpace
          )
          if ('string' == typeof e || e instanceof String)
            i[e] = void 0 !== t ? t : null
          else {
            if ('object' != typeof e)
              throw new TypeError(
                'URI.addQuery() accepts an object, string as the name parameter'
              )
            for (var a in e) m.call(e, a) && (i[a] = e[a])
          }
          return (
            (this._parts.query = n.buildQuery(
              i,
              this._parts.duplicateQueryParameters,
              this._parts.escapeQuerySpace
            )),
            'string' != typeof e && (r = t),
            this.build(!r),
            this
          )
        }),
        (y.addQuery = function (e, t, r) {
          var i = n.parseQuery(
            this._parts.query,
            this._parts.escapeQuerySpace
          )
          return (
            n.addQuery(i, e, void 0 === t ? null : t),
            (this._parts.query = n.buildQuery(
              i,
              this._parts.duplicateQueryParameters,
              this._parts.escapeQuerySpace
            )),
            'string' != typeof e && (r = t),
            this.build(!r),
            this
          )
        }),
        (y.removeQuery = function (e, t, r) {
          var i = n.parseQuery(
            this._parts.query,
            this._parts.escapeQuerySpace
          )
          return (
            n.removeQuery(i, e, t),
            (this._parts.query = n.buildQuery(
              i,
              this._parts.duplicateQueryParameters,
              this._parts.escapeQuerySpace
            )),
            'string' != typeof e && (r = t),
            this.build(!r),
            this
          )
        }),
        (y.hasQuery = function (e, t, r) {
          var i = n.parseQuery(
            this._parts.query,
            this._parts.escapeQuerySpace
          )
          return n.hasQuery(i, e, t, r)
        }),
        (y.setSearch = y.setQuery),
        (y.addSearch = y.addQuery),
        (y.removeSearch = y.removeQuery),
        (y.hasSearch = y.hasQuery),
        (y.normalize = function () {
          return this._parts.urn
            ? this.normalizeProtocol(!1)
                .normalizePath(!1)
                .normalizeQuery(!1)
                .normalizeFragment(!1)
                .build()
            : this.normalizeProtocol(!1)
                .normalizeHostname(!1)
                .normalizePort(!1)
                .normalizePath(!1)
                .normalizeQuery(!1)
                .normalizeFragment(!1)
                .build()
        }),
        (y.normalizeProtocol = function (e) {
          return (
            'string' == typeof this._parts.protocol &&
              ((this._parts.protocol = this._parts.protocol.toLowerCase()),
              this.build(!e)),
            this
          )
        }),
        (y.normalizeHostname = function (r) {
          return (
            this._parts.hostname &&
              (this.is('IDN') && e
                ? (this._parts.hostname = e.toASCII(this._parts.hostname))
                : this.is('IPv6') &&
                  t &&
                  (this._parts.hostname = t.best(this._parts.hostname)),
              (this._parts.hostname = this._parts.hostname.toLowerCase()),
              this.build(!r)),
            this
          )
        }),
        (y.normalizePort = function (e) {
          return (
            'string' == typeof this._parts.protocol &&
              this._parts.port === n.defaultPorts[this._parts.protocol] &&
              ((this._parts.port = null), this.build(!e)),
            this
          )
        }),
        (y.normalizePath = function (e) {
          var t = this._parts.path
          if (!t) return this
          if (this._parts.urn)
            return (
              (this._parts.path = n.recodeUrnPath(this._parts.path)),
              this.build(!e),
              this
            )
          if ('/' === this._parts.path) return this
          t = n.recodePath(t)
          var r,
            i,
            a,
            o = ''
          for (
            '/' !== t.charAt(0) && ((r = !0), (t = '/' + t)),
              ('/..' !== t.slice(-3) && '/.' !== t.slice(-2)) ||
                (t += '/'),
              t = t
                .replace(/(\/(\.\/)+)|(\/\.$)/g, '/')
                .replace(/\/{2,}/g, '/'),
              r &&
                (o = t.substring(1).match(/^(\.\.\/)+/) || '') &&
                (o = o[0]);
            ;

          ) {
            if (-1 === (i = t.search(/\/\.\.(\/|$)/))) break
            0 !== i
              ? ((a = t.substring(0, i).lastIndexOf('/')),
                -1 === a && (a = i),
                (t = t.substring(0, a) + t.substring(i + 3)))
              : (t = t.substring(3))
          }
          return (
            r && this.is('relative') && (t = o + t.substring(1)),
            (this._parts.path = t),
            this.build(!e),
            this
          )
        }),
        (y.normalizePathname = y.normalizePath),
        (y.normalizeQuery = function (e) {
          return (
            'string' == typeof this._parts.query &&
              (this._parts.query.length
                ? this.query(
                    n.parseQuery(
                      this._parts.query,
                      this._parts.escapeQuerySpace
                    )
                  )
                : (this._parts.query = null),
              this.build(!e)),
            this
          )
        }),
        (y.normalizeFragment = function (e) {
          return (
            this._parts.fragment ||
              ((this._parts.fragment = null), this.build(!e)),
            this
          )
        }),
        (y.normalizeSearch = y.normalizeQuery),
        (y.normalizeHash = y.normalizeFragment),
        (y.iso8859 = function () {
          var e = n.encode,
            t = n.decode
          ;(n.encode = escape), (n.decode = decodeURIComponent)
          try {
            this.normalize()
          } finally {
            ;(n.encode = e), (n.decode = t)
          }
          return this
        }),
        (y.unicode = function () {
          var e = n.encode,
            t = n.decode
          ;(n.encode = h), (n.decode = unescape)
          try {
            this.normalize()
          } finally {
            ;(n.encode = e), (n.decode = t)
          }
          return this
        }),
        (y.readable = function () {
          var t = this.clone()
          t.username('').password('').normalize()
          var r = ''
          if (
            (t._parts.protocol && (r += t._parts.protocol + '://'),
            t._parts.hostname &&
              (t.is('punycode') && e
                ? ((r += e.toUnicode(t._parts.hostname)),
                  t._parts.port && (r += ':' + t._parts.port))
                : (r += t.host())),
            t._parts.hostname &&
              t._parts.path &&
              '/' !== t._parts.path.charAt(0) &&
              (r += '/'),
            (r += t.path(!0)),
            t._parts.query)
          ) {
            for (
              var i = '',
                a = 0,
                o = t._parts.query.split('&'),
                s = o.length;
              a < s;
              a++
            ) {
              var u = (o[a] || '').split('=')
              ;(i +=
                '&' +
                n
                  .decodeQuery(u[0], this._parts.escapeQuerySpace)
                  .replace(/&/g, '%26')),
                void 0 !== u[1] &&
                  (i +=
                    '=' +
                    n
                      .decodeQuery(u[1], this._parts.escapeQuerySpace)
                      .replace(/&/g, '%26'))
            }
            r += '?' + i.substring(1)
          }
          return (r += n.decodeQuery(t.hash(), !0))
        }),
        (y.absoluteTo = function (e) {
          var t,
            r,
            i,
            a = this.clone(),
            o = ['protocol', 'username', 'password', 'hostname', 'port']
          if (this._parts.urn)
            throw new Error(
              'URNs do not have any generally defined hierarchical components'
            )
          if ((e instanceof n || (e = new n(e)), a._parts.protocol))
            return a
          if (
            ((a._parts.protocol = e._parts.protocol), this._parts.hostname)
          )
            return a
          for (r = 0; (i = o[r]); r++) a._parts[i] = e._parts[i]
          return (
            a._parts.path
              ? ('..' === a._parts.path.substring(-2) &&
                  (a._parts.path += '/'),
                '/' !== a.path().charAt(0) &&
                  ((t = e.directory()),
                  (t = t || (0 === e.path().indexOf('/') ? '/' : '')),
                  (a._parts.path = (t ? t + '/' : '') + a._parts.path),
                  a.normalizePath()))
              : ((a._parts.path = e._parts.path),
                a._parts.query || (a._parts.query = e._parts.query)),
            a.build(),
            a
          )
        }),
        (y.relativeTo = function (e) {
          var t,
            r,
            i,
            a,
            o,
            s = this.clone().normalize()
          if (s._parts.urn)
            throw new Error(
              'URNs do not have any generally defined hierarchical components'
            )
          if (
            ((e = new n(e).normalize()),
            (t = s._parts),
            (r = e._parts),
            (a = s.path()),
            (o = e.path()),
            '/' !== a.charAt(0))
          )
            throw new Error('URI is already relative')
          if ('/' !== o.charAt(0))
            throw new Error(
              'Cannot calculate a URI relative to another relative URI'
            )
          if (
            (t.protocol === r.protocol && (t.protocol = null),
            t.username !== r.username || t.password !== r.password)
          )
            return s.build()
          if (
            null !== t.protocol ||
            null !== t.username ||
            null !== t.password
          )
            return s.build()
          if (t.hostname !== r.hostname || t.port !== r.port)
            return s.build()
          if (((t.hostname = null), (t.port = null), a === o))
            return (t.path = ''), s.build()
          if (!(i = n.commonPath(a, o))) return s.build()
          var u = r.path
            .substring(i.length)
            .replace(/[^\/]*$/, '')
            .replace(/.*?\//g, '../')
          return (
            (t.path = u + t.path.substring(i.length) || './'), s.build()
          )
        }),
        (y.equals = function (e) {
          var t,
            r,
            i,
            a = this.clone(),
            o = new n(e),
            u = {},
            l = {},
            d = {}
          if (
            (a.normalize(), o.normalize(), a.toString() === o.toString())
          )
            return !0
          if (
            ((t = a.query()),
            (r = o.query()),
            a.query(''),
            o.query(''),
            a.toString() !== o.toString())
          )
            return !1
          if (t.length !== r.length) return !1
          ;(u = n.parseQuery(t, this._parts.escapeQuerySpace)),
            (l = n.parseQuery(r, this._parts.escapeQuerySpace))
          for (i in u)
            if (m.call(u, i)) {
              if (s(u[i])) {
                if (!c(u[i], l[i])) return !1
              } else if (u[i] !== l[i]) return !1
              d[i] = !0
            }
          for (i in l) if (m.call(l, i) && !d[i]) return !1
          return !0
        }),
        (y.duplicateQueryParameters = function (e) {
          return (this._parts.duplicateQueryParameters = !!e), this
        }),
        (y.escapeQuerySpace = function (e) {
          return (this._parts.escapeQuerySpace = !!e), this
        }),
        n
      )
    })
  },
  function (e, t, r) {
    ;(function (e, i) {
      var n
      !(function (a) {
        function o(e) {
          throw new RangeError(x[e])
        }
        function s(e, t) {
          for (var r = e.length, i = []; r--; ) i[r] = t(e[r])
          return i
        }
        function u(e, t) {
          var r = e.split('@'),
            i = ''
          return (
            r.length > 1 && ((i = r[0] + '@'), (e = r[1])),
            (e = e.replace(P, '.')),
            i + s(e.split('.'), t).join('.')
          )
        }
        function l(e) {
          for (var t, r, i = [], n = 0, a = e.length; n < a; )
            (t = e.charCodeAt(n++)),
              t >= 55296 && t <= 56319 && n < a
                ? ((r = e.charCodeAt(n++)),
                  56320 == (64512 & r)
                    ? i.push(((1023 & t) << 10) + (1023 & r) + 65536)
                    : (i.push(t), n--))
                : i.push(t)
          return i
        }
        function c(e) {
          return s(e, function (e) {
            var t = ''
            return (
              e > 65535 &&
                ((e -= 65536),
                (t += M(((e >>> 10) & 1023) | 55296)),
                (e = 56320 | (1023 & e))),
              (t += M(e))
            )
          }).join('')
        }
        function d(e) {
          return e - 48 < 10
            ? e - 22
            : e - 65 < 26
            ? e - 65
            : e - 97 < 26
            ? e - 97
            : E
        }
        function f(e, t) {
          return e + 22 + 75 * (e < 26) - ((0 != t) << 5)
        }
        function h(e, t, r) {
          var i = 0
          for (
            e = r ? C(e / A) : e >> 1, e += C(e / t);
            e > (I * T) >> 1;
            i += E
          )
            e = C(e / I)
          return C(i + ((I + 1) * e) / (e + S))
        }
        function p(e) {
          var t,
            r,
            i,
            n,
            a,
            s,
            u,
            l,
            f,
            p,
            v = [],
            g = e.length,
            y = 0,
            m = k,
            _ = R
          for (r = e.lastIndexOf(D), r < 0 && (r = 0), i = 0; i < r; ++i)
            e.charCodeAt(i) >= 128 && o('not-basic'),
              v.push(e.charCodeAt(i))
          for (n = r > 0 ? r + 1 : 0; n < g; ) {
            for (
              a = y, s = 1, u = E;
              n >= g && o('invalid-input'),
                (l = d(e.charCodeAt(n++))),
                (l >= E || l > C((b - y) / s)) && o('overflow'),
                (y += l * s),
                (f = u <= _ ? w : u >= _ + T ? T : u - _),
                !(l < f);
              u += E
            )
              (p = E - f), s > C(b / p) && o('overflow'), (s *= p)
            ;(t = v.length + 1),
              (_ = h(y - a, t, 0 == a)),
              C(y / t) > b - m && o('overflow'),
              (m += C(y / t)),
              (y %= t),
              v.splice(y++, 0, m)
          }
          return c(v)
        }
        function v(e) {
          var t,
            r,
            i,
            n,
            a,
            s,
            u,
            c,
            d,
            p,
            v,
            g,
            y,
            m,
            _,
            S = []
          for (
            e = l(e), g = e.length, t = k, r = 0, a = R, s = 0;
            s < g;
            ++s
          )
            (v = e[s]) < 128 && S.push(M(v))
          for (i = n = S.length, n && S.push(D); i < g; ) {
            for (u = b, s = 0; s < g; ++s)
              (v = e[s]) >= t && v < u && (u = v)
            for (
              y = i + 1,
                u - t > C((b - r) / y) && o('overflow'),
                r += (u - t) * y,
                t = u,
                s = 0;
              s < g;
              ++s
            )
              if (
                ((v = e[s]), v < t && ++r > b && o('overflow'), v == t)
              ) {
                for (
                  c = r, d = E;
                  (p = d <= a ? w : d >= a + T ? T : d - a), !(c < p);
                  d += E
                )
                  (_ = c - p),
                    (m = E - p),
                    S.push(M(f(p + (_ % m), 0))),
                    (c = C(_ / m))
                S.push(M(f(c, 0))), (a = h(r, y, i == n)), (r = 0), ++i
              }
            ++r, ++t
          }
          return S.join('')
        }
        function g(e) {
          return u(e, function (e) {
            return O.test(e) ? p(e.slice(4).toLowerCase()) : e
          })
        }
        function y(e) {
          return u(e, function (e) {
            return L.test(e) ? 'xn--' + v(e) : e
          })
        }
        var m =
          ('object' == typeof t && t && t.nodeType,
          'object' == typeof e && e && e.nodeType,
          'object' == typeof i && i)
        var _,
          b = 2147483647,
          E = 36,
          w = 1,
          T = 26,
          S = 38,
          A = 700,
          R = 72,
          k = 128,
          D = '-',
          O = /^xn--/,
          L = /[^\x20-\x7E]/,
          P = /[\x2E\u3002\uFF0E\uFF61]/g,
          x = {
            'overflow': 'Overflow: input needs wider integers to process',
            'not-basic': 'Illegal input >= 0x80 (not a basic code point)',
            'invalid-input': 'Invalid input',
          },
          I = E - w,
          C = Math.floor,
          M = String.fromCharCode
        ;(_ = {
          version: '1.3.2',
          ucs2: { decode: l, encode: c },
          decode: p,
          encode: v,
          toASCII: y,
          toUnicode: g,
        }),
          void 0 !==
            (n = function () {
              return _
            }.call(t, r, t, e)) && (e.exports = n)
      })()
    }).call(t, r(79)(e), r(55))
  },
  function (e, t) {
    e.exports = function (e) {
      return (
        e.webpackPolyfill ||
          ((e.deprecate = function () {}),
          (e.paths = []),
          e.children || (e.children = []),
          Object.defineProperty(e, 'loaded', {
            enumerable: !0,
            get: function () {
              return e.l
            },
          }),
          Object.defineProperty(e, 'id', {
            enumerable: !0,
            get: function () {
              return e.i
            },
          }),
          (e.webpackPolyfill = 1)),
        e
      )
    }
  },
  function (e, t, r) {
    var i, n
    /*!
     * URI.js - Mutating URLs
     * IPv6 Support
     *
     * Version: 1.18.10
     *
     * Author: Rodney Rehm
     * Web: http://medialize.github.io/URI.js/
     *
     * Licensed under
     *   MIT License http://www.opensource.org/licenses/mit-license
     *
     */
    !(function (a, o) {
      'use strict'
      'object' == typeof e && e.exports
        ? (e.exports = o())
        : ((i = o),
          void 0 !==
            (n = 'function' == typeof i ? i.call(t, r, t, e) : i) &&
            (e.exports = n))
    })(0, function (e) {
      'use strict'
      function t(e) {
        var t = e.toLowerCase(),
          r = t.split(':'),
          i = r.length,
          n = 8
        '' === r[0] && '' === r[1] && '' === r[2]
          ? (r.shift(), r.shift())
          : '' === r[0] && '' === r[1]
          ? r.shift()
          : '' === r[i - 1] && '' === r[i - 2] && r.pop(),
          (i = r.length),
          -1 !== r[i - 1].indexOf('.') && (n = 7)
        var a
        for (a = 0; a < i && '' !== r[a]; a++);
        if (a < n)
          for (r.splice(a, 1, '0000'); r.length < n; )
            r.splice(a, 0, '0000')
        for (var o, s = 0; s < n; s++) {
          o = r[s].split('')
          for (var u = 0; u < 3 && '0' === o[0] && o.length > 1; u++)
            o.splice(0, 1)
          r[s] = o.join('')
        }
        var l = -1,
          c = 0,
          d = 0,
          f = -1,
          h = !1
        for (s = 0; s < n; s++)
          h
            ? '0' === r[s]
              ? (d += 1)
              : ((h = !1), d > c && ((l = f), (c = d)))
            : '0' === r[s] && ((h = !0), (f = s), (d = 1))
        d > c && ((l = f), (c = d)),
          c > 1 && r.splice(l, c, ''),
          (i = r.length)
        var p = ''
        for (
          '' === r[0] && (p = ':'), s = 0;
          s < i && ((p += r[s]), s !== i - 1);
          s++
        )
          p += ':'
        return '' === r[i - 1] && (p += ':'), p
      }
      function r() {
        return e.IPv6 === this && (e.IPv6 = i), this
      }
      var i = e && e.IPv6
      return { best: t, noConflict: r }
    })
  },
  function (e, t, r) {
    var i, n
    /*!
     * URI.js - Mutating URLs
     * Second Level Domain (SLD) Support
     *
     * Version: 1.18.10
     *
     * Author: Rodney Rehm
     * Web: http://medialize.github.io/URI.js/
     *
     * Licensed under
     *   MIT License http://www.opensource.org/licenses/mit-license
     *
     */
    !(function (a, o) {
      'use strict'
      'object' == typeof e && e.exports
        ? (e.exports = o())
        : ((i = o),
          void 0 !==
            (n = 'function' == typeof i ? i.call(t, r, t, e) : i) &&
            (e.exports = n))
    })(0, function (e) {
      'use strict'
      var t = e && e.SecondLevelDomains,
        r = {
          list: {
            ac: ' com gov mil net org ',
            ae: ' ac co gov mil name net org pro sch ',
            af: ' com edu gov net org ',
            al: ' com edu gov mil net org ',
            ao: ' co ed gv it og pb ',
            ar: ' com edu gob gov int mil net org tur ',
            at: ' ac co gv or ',
            au: ' asn com csiro edu gov id net org ',
            ba: ' co com edu gov mil net org rs unbi unmo unsa untz unze ',
            bb: ' biz co com edu gov info net org store tv ',
            bh: ' biz cc com edu gov info net org ',
            bn: ' com edu gov net org ',
            bo: ' com edu gob gov int mil net org tv ',
            br: ' adm adv agr am arq art ato b bio blog bmd cim cng cnt com coop ecn edu eng esp etc eti far flog fm fnd fot fst g12 ggf gov imb ind inf jor jus lel mat med mil mus net nom not ntr odo org ppg pro psc psi qsl rec slg srv tmp trd tur tv vet vlog wiki zlg ',
            bs: ' com edu gov net org ',
            bz: ' du et om ov rg ',
            ca: ' ab bc mb nb nf nl ns nt nu on pe qc sk yk ',
            ck: ' biz co edu gen gov info net org ',
            cn: ' ac ah bj com cq edu fj gd gov gs gx gz ha hb he hi hl hn jl js jx ln mil net nm nx org qh sc sd sh sn sx tj tw xj xz yn zj ',
            co: ' com edu gov mil net nom org ',
            cr: ' ac c co ed fi go or sa ',
            cy: ' ac biz com ekloges gov ltd name net org parliament press pro tm ',
            do: ' art com edu gob gov mil net org sld web ',
            dz: ' art asso com edu gov net org pol ',
            ec: ' com edu fin gov info med mil net org pro ',
            eg: ' com edu eun gov mil name net org sci ',
            er: ' com edu gov ind mil net org rochest w ',
            es: ' com edu gob nom org ',
            et: ' biz com edu gov info name net org ',
            fj: ' ac biz com info mil name net org pro ',
            fk: ' ac co gov net nom org ',
            fr: ' asso com f gouv nom prd presse tm ',
            gg: ' co net org ',
            gh: ' com edu gov mil org ',
            gn: ' ac com gov net org ',
            gr: ' com edu gov mil net org ',
            gt: ' com edu gob ind mil net org ',
            gu: ' com edu gov net org ',
            hk: ' com edu gov idv net org ',
            hu: ' 2000 agrar bolt casino city co erotica erotika film forum games hotel info ingatlan jogasz konyvelo lakas media news org priv reklam sex shop sport suli szex tm tozsde utazas video ',
            id: ' ac co go mil net or sch web ',
            il: ' ac co gov idf k12 muni net org ',
            in: ' ac co edu ernet firm gen gov i ind mil net nic org res ',
            iq: ' com edu gov i mil net org ',
            ir: ' ac co dnssec gov i id net org sch ',
            it: ' edu gov ',
            je: ' co net org ',
            jo: ' com edu gov mil name net org sch ',
            jp: ' ac ad co ed go gr lg ne or ',
            ke: ' ac co go info me mobi ne or sc ',
            kh: ' com edu gov mil net org per ',
            ki: ' biz com de edu gov info mob net org tel ',
            km: ' asso com coop edu gouv k medecin mil nom notaires pharmaciens presse tm veterinaire ',
            kn: ' edu gov net org ',
            kr: ' ac busan chungbuk chungnam co daegu daejeon es gangwon go gwangju gyeongbuk gyeonggi gyeongnam hs incheon jeju jeonbuk jeonnam k kg mil ms ne or pe re sc seoul ulsan ',
            kw: ' com edu gov net org ',
            ky: ' com edu gov net org ',
            kz: ' com edu gov mil net org ',
            lb: ' com edu gov net org ',
            lk: ' assn com edu gov grp hotel int ltd net ngo org sch soc web ',
            lr: ' com edu gov net org ',
            lv: ' asn com conf edu gov id mil net org ',
            ly: ' com edu gov id med net org plc sch ',
            ma: ' ac co gov m net org press ',
            mc: ' asso tm ',
            me: ' ac co edu gov its net org priv ',
            mg: ' com edu gov mil nom org prd tm ',
            mk: ' com edu gov inf name net org pro ',
            ml: ' com edu gov net org presse ',
            mn: ' edu gov org ',
            mo: ' com edu gov net org ',
            mt: ' com edu gov net org ',
            mv: ' aero biz com coop edu gov info int mil museum name net org pro ',
            mw: ' ac co com coop edu gov int museum net org ',
            mx: ' com edu gob net org ',
            my: ' com edu gov mil name net org sch ',
            nf: ' arts com firm info net other per rec store web ',
            ng: ' biz com edu gov mil mobi name net org sch ',
            ni: ' ac co com edu gob mil net nom org ',
            np: ' com edu gov mil net org ',
            nr: ' biz com edu gov info net org ',
            om: ' ac biz co com edu gov med mil museum net org pro sch ',
            pe: ' com edu gob mil net nom org sld ',
            ph: ' com edu gov i mil net ngo org ',
            pk: ' biz com edu fam gob gok gon gop gos gov net org web ',
            pl: ' art bialystok biz com edu gda gdansk gorzow gov info katowice krakow lodz lublin mil net ngo olsztyn org poznan pwr radom slupsk szczecin torun warszawa waw wroc wroclaw zgora ',
            pr: ' ac biz com edu est gov info isla name net org pro prof ',
            ps: ' com edu gov net org plo sec ',
            pw: ' belau co ed go ne or ',
            ro: ' arts com firm info nom nt org rec store tm www ',
            rs: ' ac co edu gov in org ',
            sb: ' com edu gov net org ',
            sc: ' com edu gov net org ',
            sh: ' co com edu gov net nom org ',
            sl: ' com edu gov net org ',
            st: ' co com consulado edu embaixada gov mil net org principe saotome store ',
            sv: ' com edu gob org red ',
            sz: ' ac co org ',
            tr: ' av bbs bel biz com dr edu gen gov info k12 name net org pol tel tsk tv web ',
            tt: ' aero biz cat co com coop edu gov info int jobs mil mobi museum name net org pro tel travel ',
            tw: ' club com ebiz edu game gov idv mil net org ',
            mu: ' ac co com gov net or org ',
            mz: ' ac co edu gov org ',
            na: ' co com ',
            nz: ' ac co cri geek gen govt health iwi maori mil net org parliament school ',
            pa: ' abo ac com edu gob ing med net nom org sld ',
            pt: ' com edu gov int net nome org publ ',
            py: ' com edu gov mil net org ',
            qa: ' com edu gov mil net org ',
            re: ' asso com nom ',
            ru: ' ac adygeya altai amur arkhangelsk astrakhan bashkiria belgorod bir bryansk buryatia cbg chel chelyabinsk chita chukotka chuvashia com dagestan e-burg edu gov grozny int irkutsk ivanovo izhevsk jar joshkar-ola kalmykia kaluga kamchatka karelia kazan kchr kemerovo khabarovsk khakassia khv kirov koenig komi kostroma kranoyarsk kuban kurgan kursk lipetsk magadan mari mari-el marine mil mordovia mosreg msk murmansk nalchik net nnov nov novosibirsk nsk omsk orenburg org oryol penza perm pp pskov ptz rnd ryazan sakhalin samara saratov simbirsk smolensk spb stavropol stv surgut tambov tatarstan tom tomsk tsaritsyn tsk tula tuva tver tyumen udm udmurtia ulan-ude vladikavkaz vladimir vladivostok volgograd vologda voronezh vrn vyatka yakutia yamal yekaterinburg yuzhno-sakhalinsk ',
            rw: ' ac co com edu gouv gov int mil net ',
            sa: ' com edu gov med net org pub sch ',
            sd: ' com edu gov info med net org tv ',
            se: ' a ac b bd c d e f g h i k l m n o org p parti pp press r s t tm u w x y z ',
            sg: ' com edu gov idn net org per ',
            sn: ' art com edu gouv org perso univ ',
            sy: ' com edu gov mil net news org ',
            th: ' ac co go in mi net or ',
            tj: ' ac biz co com edu go gov info int mil name net nic org test web ',
            tn: ' agrinet com defense edunet ens fin gov ind info intl mincom nat net org perso rnrt rns rnu tourism ',
            tz: ' ac co go ne or ',
            ua: ' biz cherkassy chernigov chernovtsy ck cn co com crimea cv dn dnepropetrovsk donetsk dp edu gov if in ivano-frankivsk kh kharkov kherson khmelnitskiy kiev kirovograd km kr ks kv lg lugansk lutsk lviv me mk net nikolaev od odessa org pl poltava pp rovno rv sebastopol sumy te ternopil uzhgorod vinnica vn zaporizhzhe zhitomir zp zt ',
            ug: ' ac co go ne or org sc ',
            uk: ' ac bl british-library co cym gov govt icnet jet lea ltd me mil mod national-library-scotland nel net nhs nic nls org orgn parliament plc police sch scot soc ',
            us: ' dni fed isa kids nsn ',
            uy: ' com edu gub mil net org ',
            ve: ' co com edu gob info mil net org web ',
            vi: ' co com k12 net org ',
            vn: ' ac biz com edu gov health info int name net org pro ',
            ye: ' co com gov ltd me net org plc ',
            yu: ' ac co edu gov org ',
            za: ' ac agric alt bourse city co cybernet db edu gov grondar iaccess imt inca landesign law mil net ngo nis nom olivetti org pix school tm web ',
            zm: ' ac co com edu gov net org sch ',
            com: 'ar br cn de eu gb gr hu jpn kr no qc ru sa se uk us uy za ',
            net: 'gb jp se uk ',
            org: 'ae',
            de: 'com ',
          },
          has: function (e) {
            var t = e.lastIndexOf('.')
            if (t <= 0 || t >= e.length - 1) return !1
            var i = e.lastIndexOf('.', t - 1)
            if (i <= 0 || i >= t - 1) return !1
            var n = r.list[e.slice(t + 1)]
            return !!n && n.indexOf(' ' + e.slice(i + 1, t) + ' ') >= 0
          },
          is: function (e) {
            var t = e.lastIndexOf('.')
            if (t <= 0 || t >= e.length - 1) return !1
            if (e.lastIndexOf('.', t - 1) >= 0) return !1
            var i = r.list[e.slice(t + 1)]
            return !!i && i.indexOf(' ' + e.slice(0, t) + ' ') >= 0
          },
          get: function (e) {
            var t = e.lastIndexOf('.')
            if (t <= 0 || t >= e.length - 1) return null
            var i = e.lastIndexOf('.', t - 1)
            if (i <= 0 || i >= t - 1) return null
            var n = r.list[e.slice(t + 1)]
            return n
              ? n.indexOf(' ' + e.slice(i + 1, t) + ' ') < 0
                ? null
                : e.slice(i + 1)
              : null
          },
          noConflict: function () {
            return (
              e.SecondLevelDomains === this && (e.SecondLevelDomains = t),
              this
            )
          },
        }
      return r
    })
  },
  function (e, t, r) {
    'use strict'
    function i(e) {
      return e && e.__esModule ? e : { default: e }
    }
    Object.defineProperty(t, '__esModule', { value: !0 })
    var n = r(38),
      a = r(3),
      o = i(a),
      s = r(154),
      u = i(s),
      l = r(77),
      c = i(l),
      d = (function () {
        function e(e) {
          var t = ''
          return (
            null !== e &&
              (t = e
                .map(function (e) {
                  return e.id
                })
                .sort()
                .join(',')),
            t
          )
        }
        function t() {
          var t = null
          return {
            dispose: function () {
              null !== t && u.default.destroyMonitor(t), (t = null)
            },
            emit: function (e, r) {
              null !== t && u.default.emit(t, e, r)
            },
            monitor: function (r, i, a, o, s, l, d) {
              var f = void 0,
                h = c.default.parse(o),
                p = h.path,
                v = e(l)
              ;(f = {
                debug: !0 === d,
                data: {
                  property_key: r,
                  page_type: (0, n.isIframe)() ? 'iframe' : 'watchpage',
                  experiment_name: v,
                  player_name: 'Player M',
                  player_version: '2.6.0',
                  player_init_time: Date.now(),
                  video_title: p,
                  video_is_live: a,
                  video_cdn: a ? 'Akamai' : 'Fastly',
                  video_stream_type: a ? 'live' : 'on-demand',
                },
              }),
                null !== s && (f.sampleRate = s),
                u.default.monitor(i, f),
                (t = i)
            },
          }
        }
        var r = (o.default.createTaggedLoggers('MuxAnalytics'), null)
        return {
          sharedInstance: function () {
            return null === r && (r = t()), r
          },
        }
      })()
    t.default = d
  },
  function (e, t, r) {
    'use strict'
    function i() {
      return (0, n.createSelector)(
        a.getAutoPlayState,
        a.getInitState,
        function (e, t) {
          return null === t ? null : !0 === t && !0 === e
        }
      )
    }
    Object.defineProperty(t, '__esModule', { value: !0 }), (t.default = i)
    var n = r(177),
      a = r(10)
  },
  function (e, t, r) {
    'use strict'
    function i(e) {
      return e && e.__esModule ? e : { default: e }
    }
    function n() {
      return f.default.environmentSupported()
    }
    function a(e, t) {
      var r = (c.default.createTaggedLoggers('Player M'), new u.default()),
        i = new p.default(e, t, r)
      ;(this.addListener = function (e, t, i) {
        return r.on(e, t, i)
      }),
        (this.dispose = function () {
          null !== r && r.removeAllListeners(),
            null !== i && i.dispose(),
            (i = null),
            (r = null)
        }),
        (this.getBufferingState = function () {
          return i.getBufferingState()
        }),
        (this.getFullScreenState = function () {
          return i.getFullScreenState()
        }),
        (this.getMetadata = function () {
          return { mediaUrl: i.getMediaUrl() }
        }),
        (this.getPlaybackType = function () {
          return i.getPlaybackType()
        }),
        (this.getSeekingState = function () {
          return i.getSeekingState()
        }),
        (this.getTime = function () {
          return {
            position: i.getCurrentTime(),
            duration: i.getDuration(),
          }
        }),
        (this.pause = function () {
          return i.pause()
        }),
        (this.play = function () {
          return i.play()
        }),
        (this.removeListener = function (e, t) {
          return r.removeListener(e, t)
        }),
        (this.setThumbnail = function (e) {
          return i.setThumbnail(e)
        })
    }
    Object.defineProperty(t, '__esModule', { value: !0 }),
      (t.initWithView = t.canPlay = void 0)
    var o = r(85),
      s = (i(o), r(87)),
      u = i(s),
      l = r(3),
      c = i(l),
      d = r(58),
      f = i(d),
      h = r(129),
      p = i(h)
    r(183), (t.canPlay = n), (t.initWithView = a)
  },
  function (e, t, r) {
    e.exports = { default: r(86), __esModule: !0 }
  },
  function (e, t, r) {
    var i = r(2),
      n = i.JSON || (i.JSON = { stringify: JSON.stringify })
    e.exports = function (e) {
      return n.stringify.apply(n, arguments)
    }
  },
  function (e, t, r) {
    'use strict'
    function i() {}
    function n(e, t, r) {
      ;(this.fn = e), (this.context = t), (this.once = r || !1)
    }
    function a() {
      ;(this._events = new i()), (this._eventsCount = 0)
    }
    var o = Object.prototype.hasOwnProperty,
      s = '~'
    Object.create &&
      ((i.prototype = Object.create(null)), new i().__proto__ || (s = !1)),
      (a.prototype.eventNames = function () {
        var e,
          t,
          r = []
        if (0 === this._eventsCount) return r
        for (t in (e = this._events))
          o.call(e, t) && r.push(s ? t.slice(1) : t)
        return Object.getOwnPropertySymbols
          ? r.concat(Object.getOwnPropertySymbols(e))
          : r
      }),
      (a.prototype.listeners = function (e, t) {
        var r = s ? s + e : e,
          i = this._events[r]
        if (t) return !!i
        if (!i) return []
        if (i.fn) return [i.fn]
        for (var n = 0, a = i.length, o = new Array(a); n < a; n++)
          o[n] = i[n].fn
        return o
      }),
      (a.prototype.emit = function (e, t, r, i, n, a) {
        var o = s ? s + e : e
        if (!this._events[o]) return !1
        var u,
          l,
          c = this._events[o],
          d = arguments.length
        if (c.fn) {
          switch (
            (c.once && this.removeListener(e, c.fn, void 0, !0), d)
          ) {
            case 1:
              return c.fn.call(c.context), !0
            case 2:
              return c.fn.call(c.context, t), !0
            case 3:
              return c.fn.call(c.context, t, r), !0
            case 4:
              return c.fn.call(c.context, t, r, i), !0
            case 5:
              return c.fn.call(c.context, t, r, i, n), !0
            case 6:
              return c.fn.call(c.context, t, r, i, n, a), !0
          }
          for (l = 1, u = new Array(d - 1); l < d; l++)
            u[l - 1] = arguments[l]
          c.fn.apply(c.context, u)
        } else {
          var f,
            h = c.length
          for (l = 0; l < h; l++)
            switch (
              (c[l].once && this.removeListener(e, c[l].fn, void 0, !0), d)
            ) {
              case 1:
                c[l].fn.call(c[l].context)
                break
              case 2:
                c[l].fn.call(c[l].context, t)
                break
              case 3:
                c[l].fn.call(c[l].context, t, r)
                break
              case 4:
                c[l].fn.call(c[l].context, t, r, i)
                break
              default:
                if (!u)
                  for (f = 1, u = new Array(d - 1); f < d; f++)
                    u[f - 1] = arguments[f]
                c[l].fn.apply(c[l].context, u)
            }
        }
        return !0
      }),
      (a.prototype.on = function (e, t, r) {
        var i = new n(t, r || this),
          a = s ? s + e : e
        return (
          this._events[a]
            ? this._events[a].fn
              ? (this._events[a] = [this._events[a], i])
              : this._events[a].push(i)
            : ((this._events[a] = i), this._eventsCount++),
          this
        )
      }),
      (a.prototype.once = function (e, t, r) {
        var i = new n(t, r || this, !0),
          a = s ? s + e : e
        return (
          this._events[a]
            ? this._events[a].fn
              ? (this._events[a] = [this._events[a], i])
              : this._events[a].push(i)
            : ((this._events[a] = i), this._eventsCount++),
          this
        )
      }),
      (a.prototype.removeListener = function (e, t, r, n) {
        var a = s ? s + e : e
        if (!this._events[a]) return this
        if (!t)
          return (
            0 == --this._eventsCount
              ? (this._events = new i())
              : delete this._events[a],
            this
          )
        var o = this._events[a]
        if (o.fn)
          o.fn !== t ||
            (n && !o.once) ||
            (r && o.context !== r) ||
            (0 == --this._eventsCount
              ? (this._events = new i())
              : delete this._events[a])
        else {
          for (var u = 0, l = [], c = o.length; u < c; u++)
            (o[u].fn !== t ||
              (n && !o[u].once) ||
              (r && o[u].context !== r)) &&
              l.push(o[u])
          l.length
            ? (this._events[a] = 1 === l.length ? l[0] : l)
            : 0 == --this._eventsCount
            ? (this._events = new i())
            : delete this._events[a]
        }
        return this
      }),
      (a.prototype.removeAllListeners = function (e) {
        var t
        return (
          e
            ? ((t = s ? s + e : e),
              this._events[t] &&
                (0 == --this._eventsCount
                  ? (this._events = new i())
                  : delete this._events[t]))
            : ((this._events = new i()), (this._eventsCount = 0)),
          this
        )
      }),
      (a.prototype.off = a.prototype.removeListener),
      (a.prototype.addListener = a.prototype.on),
      (a.prototype.setMaxListeners = function () {
        return this
      }),
      (a.prefixed = s),
      (a.EventEmitter = a),
      (e.exports = a)
  },
  function (e, t, r) {
    r(89)
    var i = r(2).Object
    e.exports = function (e, t, r) {
      return i.defineProperty(e, t, r)
    }
  },
  function (e, t, r) {
    var i = r(11)
    i(i.S + i.F * !r(13), 'Object', { defineProperty: r(12).f })
  },
  function (e, t, r) {
    var i
    !(function (n, a) {
      'use strict'
      var o = 'model',
        s = 'name',
        u = 'type',
        l = 'vendor',
        c = 'version',
        d = 'mobile',
        f = 'tablet',
        h = {
          extend: function (e, t) {
            var r = {}
            for (var i in e)
              t[i] && t[i].length % 2 == 0
                ? (r[i] = t[i].concat(e[i]))
                : (r[i] = e[i])
            return r
          },
          has: function (e, t) {
            return (
              'string' == typeof e &&
              -1 !== t.toLowerCase().indexOf(e.toLowerCase())
            )
          },
          lowerize: function (e) {
            return e.toLowerCase()
          },
          major: function (e) {
            return 'string' == typeof e
              ? e.replace(/[^\d\.]/g, '').split('.')[0]
              : void 0
          },
          trim: function (e) {
            return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, '')
          },
        },
        p = {
          rgx: function () {
            for (
              var e, t, r, i, n, a, o, s = 0, u = arguments;
              s < u.length && !a;

            ) {
              var l = u[s],
                c = u[s + 1]
              if (void 0 === e) {
                e = {}
                for (i in c)
                  c.hasOwnProperty(i) &&
                    ((n = c[i]),
                    'object' == typeof n
                      ? (e[n[0]] = void 0)
                      : (e[n] = void 0))
              }
              for (t = r = 0; t < l.length && !a; )
                if ((a = l[t++].exec(this.getUA())))
                  for (i = 0; i < c.length; i++)
                    (o = a[++r]),
                      (n = c[i]),
                      'object' == typeof n && n.length > 0
                        ? 2 == n.length
                          ? 'function' == typeof n[1]
                            ? (e[n[0]] = n[1].call(this, o))
                            : (e[n[0]] = n[1])
                          : 3 == n.length
                          ? 'function' != typeof n[1] ||
                            (n[1].exec && n[1].test)
                            ? (e[n[0]] = o
                                ? o.replace(n[1], n[2])
                                : void 0)
                            : (e[n[0]] = o
                                ? n[1].call(this, o, n[2])
                                : void 0)
                          : 4 == n.length &&
                            (e[n[0]] = o
                              ? n[3].call(this, o.replace(n[1], n[2]))
                              : void 0)
                        : (e[n] = o || void 0)
              s += 2
            }
            return e
          },
          str: function (e, t) {
            for (var r in t)
              if ('object' == typeof t[r] && t[r].length > 0) {
                for (var i = 0; i < t[r].length; i++)
                  if (h.has(t[r][i], e)) return '?' === r ? void 0 : r
              } else if (h.has(t[r], e)) return '?' === r ? void 0 : r
            return e
          },
        },
        v = {
          browser: {
            oldsafari: {
              version: {
                '1.0': '/8',
                '1.2': '/1',
                '1.3': '/3',
                '2.0': '/412',
                '2.0.2': '/416',
                '2.0.3': '/417',
                '2.0.4': '/419',
                '?': '/',
              },
            },
          },
          device: {
            amazon: { model: { 'Fire Phone': ['SD', 'KF'] } },
            sprint: {
              model: { 'Evo Shift 4G': '7373KT' },
              vendor: { HTC: 'APA', Sprint: 'Sprint' },
            },
          },
          os: {
            windows: {
              version: {
                'ME': '4.90',
                'NT 3.11': 'NT3.51',
                'NT 4.0': 'NT4.0',
                '2000': 'NT 5.0',
                'XP': ['NT 5.1', 'NT 5.2'],
                'Vista': 'NT 6.0',
                '7': 'NT 6.1',
                '8': 'NT 6.2',
                '8.1': 'NT 6.3',
                '10': ['NT 6.4', 'NT 10.0'],
                'RT': 'ARM',
              },
            },
          },
        },
        g = {
          browser: [
            [
              /(opera\smini)\/([\w\.-]+)/i,
              /(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,
              /(opera).+version\/([\w\.]+)/i,
              /(opera)[\/\s]+([\w\.]+)/i,
            ],
            [s, c],
            [/(opios)[\/\s]+([\w\.]+)/i],
            [[s, 'Opera Mini'], c],
            [/\s(opr)\/([\w\.]+)/i],
            [[s, 'Opera'], c],
            [
              /(kindle)\/([\w\.]+)/i,
              /(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]+)*/i,
              /(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,
              /(?:ms|\()(ie)\s([\w\.]+)/i,
              /(rekonq)\/([\w\.]+)*/i,
              /(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs)\/([\w\.-]+)/i,
            ],
            [s, c],
            [/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],
            [[s, 'IE'], c],
            [/(edge)\/((\d+)?[\w\.]+)/i],
            [s, c],
            [/(yabrowser)\/([\w\.]+)/i],
            [[s, 'Yandex'], c],
            [/(comodo_dragon)\/([\w\.]+)/i],
            [[s, /_/g, ' '], c],
            [/(micromessenger)\/([\w\.]+)/i],
            [[s, 'WeChat'], c],
            [/xiaomi\/miuibrowser\/([\w\.]+)/i],
            [c, [s, 'MIUI Browser']],
            [/\swv\).+(chrome)\/([\w\.]+)/i],
            [[s, /(.+)/, '$1 WebView'], c],
            [
              /android.+samsungbrowser\/([\w\.]+)/i,
              /android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i,
            ],
            [c, [s, 'Android Browser']],
            [
              /(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i,
              /(qqbrowser)[\/\s]?([\w\.]+)/i,
            ],
            [s, c],
            [
              /(uc\s?browser)[\/\s]?([\w\.]+)/i,
              /ucweb.+(ucbrowser)[\/\s]?([\w\.]+)/i,
              /juc.+(ucweb)[\/\s]?([\w\.]+)/i,
            ],
            [[s, 'UCBrowser'], c],
            [/(dolfin)\/([\w\.]+)/i],
            [[s, 'Dolphin'], c],
            [/((?:android.+)crmo|crios)\/([\w\.]+)/i],
            [[s, 'Chrome'], c],
            [/;fbav\/([\w\.]+);/i],
            [c, [s, 'Facebook']],
            [/fxios\/([\w\.-]+)/i],
            [c, [s, 'Firefox']],
            [/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],
            [c, [s, 'Mobile Safari']],
            [/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],
            [c, s],
            [/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],
            [s, [c, p.str, v.browser.oldsafari.version]],
            [/(konqueror)\/([\w\.]+)/i, /(webkit|khtml)\/([\w\.]+)/i],
            [s, c],
            [/(navigator|netscape)\/([\w\.-]+)/i],
            [[s, 'Netscape'], c],
            [
              /(swiftfox)/i,
              /(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,
              /(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/([\w\.-]+)/i,
              /(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,
              /(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,
              /(links)\s\(([\w\.]+)/i,
              /(gobrowser)\/?([\w\.]+)*/i,
              /(ice\s?browser)\/v?([\w\._]+)/i,
              /(mosaic)[\/\s]([\w\.]+)/i,
            ],
            [s, c],
          ],
          cpu: [
            [/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],
            [['architecture', 'amd64']],
            [/(ia32(?=;))/i],
            [['architecture', h.lowerize]],
            [/((?:i[346]|x)86)[;\)]/i],
            [['architecture', 'ia32']],
            [/windows\s(ce|mobile);\sppc;/i],
            [['architecture', 'arm']],
            [/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],
            [['architecture', /ower/, '', h.lowerize]],
            [/(sun4\w)[;\)]/i],
            [['architecture', 'sparc']],
            [
              /((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+;))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i,
            ],
            [['architecture', h.lowerize]],
          ],
          device: [
            [/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],
            [o, l, [u, f]],
            [/applecoremedia\/[\w\.]+ \((ipad)/],
            [o, [l, 'Apple'], [u, f]],
            [/(apple\s{0,1}tv)/i],
            [
              [o, 'Apple TV'],
              [l, 'Apple'],
            ],
            [
              /(archos)\s(gamepad2?)/i,
              /(hp).+(touchpad)/i,
              /(hp).+(tablet)/i,
              /(kindle)\/([\w\.]+)/i,
              /\s(nook)[\w\s]+build\/(\w+)/i,
              /(dell)\s(strea[kpr\s\d]*[\dko])/i,
            ],
            [l, o, [u, f]],
            [/(kf[A-z]+)\sbuild\/[\w\.]+.*silk\//i],
            [o, [l, 'Amazon'], [u, f]],
            [/(sd|kf)[0349hijorstuw]+\sbuild\/[\w\.]+.*silk\//i],
            [
              [o, p.str, v.device.amazon.model],
              [l, 'Amazon'],
              [u, d],
            ],
            [/\((ip[honed|\s\w*]+);.+(apple)/i],
            [o, l, [u, d]],
            [/\((ip[honed|\s\w*]+);/i],
            [o, [l, 'Apple'], [u, d]],
            [
              /(blackberry)[\s-]?(\w+)/i,
              /(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|huawei|meizu|motorola|polytron)[\s_-]?([\w-]+)*/i,
              /(hp)\s([\w\s]+\w)/i,
              /(asus)-?(\w+)/i,
            ],
            [l, o, [u, d]],
            [/\(bb10;\s(\w+)/i],
            [o, [l, 'BlackBerry'], [u, d]],
            [
              /android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone)/i,
            ],
            [o, [l, 'Asus'], [u, f]],
            [
              /(sony)\s(tablet\s[ps])\sbuild\//i,
              /(sony)?(?:sgp.+)\sbuild\//i,
            ],
            [
              [l, 'Sony'],
              [o, 'Xperia Tablet'],
              [u, f],
            ],
            [/(?:sony)?(?:(?:(?:c|d)\d{4})|(?:so[-l].+))\sbuild\//i],
            [
              [l, 'Sony'],
              [o, 'Xperia Phone'],
              [u, d],
            ],
            [/\s(ouya)\s/i, /(nintendo)\s([wids3u]+)/i],
            [l, o, [u, 'console']],
            [/android.+;\s(shield)\sbuild/i],
            [o, [l, 'Nvidia'], [u, 'console']],
            [/(playstation\s[34portablevi]+)/i],
            [o, [l, 'Sony'], [u, 'console']],
            [/(sprint\s(\w+))/i],
            [
              [l, p.str, v.device.sprint.vendor],
              [o, p.str, v.device.sprint.model],
              [u, d],
            ],
            [/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],
            [l, o, [u, f]],
            [
              /(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,
              /(zte)-(\w+)*/i,
              /(alcatel|geeksphone|huawei|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i,
            ],
            [l, [o, /_/g, ' '], [u, d]],
            [/(nexus\s9)/i],
            [o, [l, 'HTC'], [u, f]],
            [/(nexus\s6p)/i],
            [o, [l, 'Huawei'], [u, d]],
            [/(microsoft);\s(lumia[\s\w]+)/i],
            [l, o, [u, d]],
            [/[\s\(;](xbox(?:\sone)?)[\s\);]/i],
            [o, [l, 'Microsoft'], [u, 'console']],
            [/(kin\.[onetw]{3})/i],
            [
              [o, /\./g, ' '],
              [l, 'Microsoft'],
              [u, d],
            ],
            [
              /\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?)[\w\s]+build\//i,
              /mot[\s-]?(\w+)*/i,
              /(XT\d{3,4}) build\//i,
              /(nexus\s6)/i,
            ],
            [o, [l, 'Motorola'], [u, d]],
            [/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],
            [o, [l, 'Motorola'], [u, f]],
            [/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],
            [
              [l, h.trim],
              [o, h.trim],
              [u, 'smarttv'],
            ],
            [/hbbtv.+maple;(\d+)/i],
            [
              [o, /^/, 'SmartTV'],
              [l, 'Samsung'],
              [u, 'smarttv'],
            ],
            [/\(dtv[\);].+(aquos)/i],
            [o, [l, 'Sharp'], [u, 'smarttv']],
            [
              /android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,
              /((SM-T\w+))/i,
            ],
            [[l, 'Samsung'], o, [u, f]],
            [/smart-tv.+(samsung)/i],
            [l, [u, 'smarttv'], o],
            [
              /((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,
              /(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,
              /sec-((sgh\w+))/i,
            ],
            [[l, 'Samsung'], o, [u, d]],
            [/sie-(\w+)*/i],
            [o, [l, 'Siemens'], [u, d]],
            [
              /(maemo|nokia).*(n900|lumia\s\d+)/i,
              /(nokia)[\s_-]?([\w-]+)*/i,
            ],
            [[l, 'Nokia'], o, [u, d]],
            [/android\s3\.[\s\w;-]{10}(a\d{3})/i],
            [o, [l, 'Acer'], [u, f]],
            [/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],
            [[l, 'LG'], o, [u, f]],
            [/(lg) netcast\.tv/i],
            [l, o, [u, 'smarttv']],
            [/(nexus\s[45])/i, /lg[e;\s\/-]+(\w+)*/i],
            [o, [l, 'LG'], [u, d]],
            [/android.+(ideatab[a-z0-9\-\s]+)/i],
            [o, [l, 'Lenovo'], [u, f]],
            [/linux;.+((jolla));/i],
            [l, o, [u, d]],
            [/((pebble))app\/[\d\.]+\s/i],
            [l, o, [u, 'wearable']],
            [/android.+;\s(glass)\s\d/i],
            [o, [l, 'Google'], [u, 'wearable']],
            [
              /android.+(\w+)\s+build\/hm\1/i,
              /android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,
              /android.+(mi[\s\-_]*(?:one|one[\s_]plus|note lte)?[\s_]*(?:\d\w)?)\s+build/i,
            ],
            [
              [o, /_/g, ' '],
              [l, 'Xiaomi'],
              [u, d],
            ],
            [/android.+a000(1)\s+build/i],
            [o, [l, 'OnePlus'], [u, d]],
            [/\s(tablet)[;\/]/i, /\s(mobile)(?:[;\/]|\ssafari)/i],
            [[u, h.lowerize], l, o],
          ],
          engine: [
            [/windows.+\sedge\/([\w\.]+)/i],
            [c, [s, 'EdgeHTML']],
            [
              /(presto)\/([\w\.]+)/i,
              /(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,
              /(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,
              /(icab)[\/\s]([23]\.[\d\.]+)/i,
            ],
            [s, c],
            [/rv\:([\w\.]+).*(gecko)/i],
            [c, s],
          ],
          os: [
            [/microsoft\s(windows)\s(vista|xp)/i],
            [s, c],
            [
              /(windows)\snt\s6\.2;\s(arm)/i,
              /(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s]+\w)*/i,
              /(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i,
            ],
            [s, [c, p.str, v.os.windows.version]],
            [/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],
            [
              [s, 'Windows'],
              [c, p.str, v.os.windows.version],
            ],
            [/\((bb)(10);/i],
            [[s, 'BlackBerry'], c],
            [
              /(blackberry)\w*\/?([\w\.]+)*/i,
              /(tizen)[\/\s]([\w\.]+)/i,
              /(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i,
              /linux;.+(sailfish);/i,
            ],
            [s, c],
            [/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],
            [[s, 'Symbian'], c],
            [/\((series40);/i],
            [s],
            [/mozilla.+\(mobile;.+gecko.+firefox/i],
            [[s, 'Firefox OS'], c],
            [
              /(nintendo|playstation)\s([wids34portablevu]+)/i,
              /(mint)[\/\s\(]?(\w+)*/i,
              /(mageia|vectorlinux)[;\s]/i,
              /(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]+)*/i,
              /(hurd|linux)\s?([\w\.]+)*/i,
              /(gnu)\s?([\w\.]+)*/i,
            ],
            [s, c],
            [/(cros)\s[\w]+\s([\w\.]+\w)/i],
            [[s, 'Chromium OS'], c],
            [/(sunos)\s?([\w\.]+\d)*/i],
            [[s, 'Solaris'], c],
            [/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],
            [s, c],
            [/(haiku)\s(\w+)/i],
            [s, c],
            [/(ip[honead]+)(?:.*os\s([\w]+)*\slike\smac|;\sopera)/i],
            [
              [s, 'iOS'],
              [c, /_/g, '.'],
            ],
            [
              /(mac\sos\sx)\s?([\w\s\.]+\w)*/i,
              /(macintosh|mac(?=_powerpc)\s)/i,
            ],
            [
              [s, 'Mac OS'],
              [c, /_/g, '.'],
            ],
            [
              /((?:open)?solaris)[\/\s-]?([\w\.]+)*/i,
              /(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,
              /(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,
              /(unix)\s?([\w\.]+)*/i,
            ],
            [s, c],
          ],
        },
        y = function (e, t) {
          if (!(this instanceof y)) return new y(e, t).getResult()
          var r =
              e ||
              (n && n.navigator && n.navigator.userAgent
                ? n.navigator.userAgent
                : ''),
            i = t ? h.extend(g, t) : g
          return (
            (this.getBrowser = function () {
              var e = p.rgx.apply(this, i.browser)
              return (e.major = h.major(e.version)), e
            }),
            (this.getCPU = function () {
              return p.rgx.apply(this, i.cpu)
            }),
            (this.getDevice = function () {
              return p.rgx.apply(this, i.device)
            }),
            (this.getEngine = function () {
              return p.rgx.apply(this, i.engine)
            }),
            (this.getOS = function () {
              return p.rgx.apply(this, i.os)
            }),
            (this.getResult = function () {
              return {
                ua: this.getUA(),
                browser: this.getBrowser(),
                engine: this.getEngine(),
                os: this.getOS(),
                device: this.getDevice(),
                cpu: this.getCPU(),
              }
            }),
            (this.getUA = function () {
              return r
            }),
            (this.setUA = function (e) {
              return (r = e), this
            }),
            this
          )
        }
      ;(y.VERSION = '0.7.12'),
        (y.BROWSER = { NAME: s, MAJOR: 'major', VERSION: c }),
        (y.CPU = { ARCHITECTURE: 'architecture' }),
        (y.DEVICE = {
          MODEL: o,
          VENDOR: l,
          TYPE: u,
          CONSOLE: 'console',
          MOBILE: d,
          SMARTTV: 'smarttv',
          TABLET: f,
          WEARABLE: 'wearable',
          EMBEDDED: 'embedded',
        }),
        (y.ENGINE = { NAME: s, VERSION: c }),
        (y.OS = { NAME: s, VERSION: c }),
        void 0 !== t
          ? (void 0 !== e && e.exports && (t = e.exports = y),
            (t.UAParser = y))
          : r(91)
          ? void 0 !==
              (i = function () {
                return y
              }.call(t, r, t, e)) && (e.exports = i)
          : (n.UAParser = y)
      var m = n.jQuery || n.Zepto
      if (void 0 !== m) {
        var _ = new y()
        ;(m.ua = _.getResult()),
          (m.ua.get = function () {
            return _.getUA()
          }),
          (m.ua.set = function (e) {
            _.setUA(e)
            var t = _.getResult()
            for (var r in t) m.ua[r] = t[r]
          })
      }
    })('object' == typeof window ? window : this)
  },
  function (e, t) {
    ;(function (t) {
      e.exports = t
    }).call(t, {})
  },
  function (e, t, r) {
    'use strict'
    function i(e) {
      return e && e.__esModule ? e : { default: e }
    }
    Object.defineProperty(t, '__esModule', { value: !0 })
    var n = r(9),
      a = i(n),
      o = r(0),
      s = i(o),
      u = r(1),
      l = i(u),
      c = r(14),
      d = i(c),
      f = r(19),
      h = i(f),
      p = r(16),
      v = i(p),
      g = r(22),
      y = r(3),
      m = i(y),
      _ = r(71),
      b = i(_),
      E = r(125),
      w = i(E),
      T = r(126),
      S = i(T),
      A = r(10),
      R = (function (e) {
        function t() {
          ;(0, s.default)(this, t)
          var e = (0, d.default)(
            this,
            (t.__proto__ || (0, a.default)(t)).call(this)
          )
          return (
            (e.logger = m.default.createTaggedLoggers('PlaybackHtml5')),
            (e.retryManager = null),
            (e.playbackDetector = null),
            e
          )
        }
        return (
          (0, v.default)(t, e),
          (0, l.default)(
            t,
            [
              {
                key: 'dispose',
                value: function () {
                  null !== this.retryManager &&
                    (this.retryManager.dispose(),
                    (this.retryManager = null)),
                    null !== this.playbackDetector &&
                      (this.playbackDetector.dispose(),
                      (this.playbackDetector = null)),
                    (0, h.default)(
                      t.prototype.__proto__ || (0, a.default)(t.prototype),
                      'dispose',
                      this
                    ).call(this)
                },
              },
              {
                key: 'load',
                value: function () {
                  var e = this,
                    t = this.getVideoElement()
                  t.setAttribute(
                    'src',
                    (0, A.getPlaybackUrl)(this.getStore().getState())
                  ),
                    t.load(),
                    this.getStore().dispatch((0, g.setPlaybackReady)(!0)),
                    (this.retryManager = new S.default(t)),
                    (this.playbackDetector = new w.default(t)),
                    this.retryManager.setRetryHandler(function (t) {
                      return e.retryWillOccur(t)
                    }),
                    this.playbackDetector.setDetectionListener(function (
                      t
                    ) {
                      return e.playbackDidOccur(t)
                    }),
                    this.playbackDetector.start()
                },
              },
              {
                key: 'playbackDidOccur',
                value: function (e) {
                  this.playbackDetector.reset(),
                    null === e
                      ? (this.retryManager.reset(),
                        this.getStore().dispatch((0, g.setBusyState)(!1)))
                      : this.retryManager.scheduleRetry()
                },
              },
              {
                key: 'retryWillOccur',
                value: function (e) {
                  var t = null !== e
                  this.getStore().dispatch((0, g.setError)(e, t)),
                    !1 === t &&
                      (this.playbackDetector.reset(),
                      this.playbackDetector.start())
                },
              },
            ],
            [
              {
                key: 'isSupported',
                value: function () {
                  var e = document.createElement('video'),
                    t = e.canPlayType('application/x-mpegurl')
                  return 'probably' === t || 'maybe' === t
                },
              },
            ]
          ),
          t
        )
      })(b.default)
    t.default = R
  },
  function (e, t, r) {
    r(94), (e.exports = r(2).Object.getPrototypeOf)
  },
  function (e, t, r) {
    var i = r(42),
      n = r(59)
    r(60)('getPrototypeOf', function () {
      return function (e) {
        return n(i(e))
      }
    })
  },
  function (e, t, r) {
    e.exports = { default: r(96), __esModule: !0 }
  },
  function (e, t, r) {
    r(46), r(50), (e.exports = r(51).f('iterator'))
  },
  function (e, t, r) {
    var i = r(47),
      n = r(43)
    e.exports = function (e) {
      return function (t, r) {
        var a,
          o,
          s = String(n(t)),
          u = i(r),
          l = s.length
        return u < 0 || u >= l
          ? e
            ? ''
            : void 0
          : ((a = s.charCodeAt(u)),
            a < 55296 ||
            a > 56319 ||
            u + 1 === l ||
            (o = s.charCodeAt(u + 1)) < 56320 ||
            o > 57343
              ? e
                ? s.charAt(u)
                : a
              : e
              ? s.slice(u, u + 2)
              : o - 56320 + ((a - 55296) << 10) + 65536)
      }
    }
  },
  function (e, t, r) {
    'use strict'
    var i = r(48),
      n = r(32),
      a = r(35),
      o = {}
    r(17)(o, r(4)('iterator'), function () {
      return this
    }),
      (e.exports = function (e, t, r) {
        ;(e.prototype = i(o, { next: n(1, r) })), a(e, t + ' Iterator')
      })
  },
  function (e, t, r) {
    var i = r(12),
      n = r(8),
      a = r(28)
    e.exports = r(13)
      ? Object.defineProperties
      : function (e, t) {
          n(e)
          for (var r, o = a(t), s = o.length, u = 0; s > u; )
            i.f(e, (r = o[u++]), t[r])
          return e
        }
  },
  function (e, t, r) {
    var i = r(15),
      n = r(66),
      a = r(101)
    e.exports = function (e) {
      return function (t, r, o) {
        var s,
          u = i(t),
          l = n(u.length),
          c = a(o, l)
        if (e && r != r) {
          for (; l > c; ) if ((s = u[c++]) != s) return !0
        } else
          for (; l > c; c++)
            if ((e || c in u) && u[c] === r) return e || c || 0
        return !e && -1
      }
    }
  },
  function (e, t, r) {
    var i = r(47),
      n = Math.max,
      a = Math.min
    e.exports = function (e, t) {
      return (e = i(e)), e < 0 ? n(e + t, 0) : a(e, t)
    }
  },
  function (e, t, r) {
    'use strict'
    var i = r(103),
      n = r(104),
      a = r(27),
      o = r(15)
    ;(e.exports = r(62)(
      Array,
      'Array',
      function (e, t) {
        ;(this._t = o(e)), (this._i = 0), (this._k = t)
      },
      function () {
        var e = this._t,
          t = this._k,
          r = this._i++
        return !e || r >= e.length
          ? ((this._t = void 0), n(1))
          : 'keys' == t
          ? n(0, r)
          : 'values' == t
          ? n(0, e[r])
          : n(0, [r, e[r]])
      },
      'values'
    )),
      (a.Arguments = a.Array),
      i('keys'),
      i('values'),
      i('entries')
  },
  function (e, t) {
    e.exports = function () {}
  },
  function (e, t) {
    e.exports = function (e, t) {
      return { value: t, done: !!e }
    }
  },
  function (e, t, r) {
    e.exports = { default: r(106), __esModule: !0 }
  },
  function (e, t, r) {
    r(107), r(69), r(113), r(114), (e.exports = r(2).Symbol)
  },
  function (e, t, r) {
    'use strict'
    var i = r(5),
      n = r(18),
      a = r(13),
      o = r(11),
      s = r(63),
      u = r(108).KEY,
      l = r(21),
      c = r(45),
      d = r(35),
      f = r(33),
      h = r(4),
      p = r(51),
      v = r(52),
      g = r(109),
      y = r(110),
      m = r(111),
      _ = r(8),
      b = r(15),
      E = r(41),
      w = r(32),
      T = r(48),
      S = r(112),
      A = r(54),
      R = r(12),
      k = r(28),
      D = A.f,
      O = R.f,
      L = S.f,
      P = i.Symbol,
      x = i.JSON,
      I = x && x.stringify,
      C = h('_hidden'),
      M = h('toPrimitive'),
      N = {}.propertyIsEnumerable,
      F = c('symbol-registry'),
      U = c('symbols'),
      B = c('op-symbols'),
      j = Object.prototype,
      G = 'function' == typeof P,
      H = i.QObject,
      q = !H || !H.prototype || !H.prototype.findChild,
      V =
        a &&
        l(function () {
          return (
            7 !=
            T(
              O({}, 'a', {
                get: function () {
                  return O(this, 'a', { value: 7 }).a
                },
              })
            ).a
          )
        })
          ? function (e, t, r) {
              var i = D(j, t)
              i && delete j[t], O(e, t, r), i && e !== j && O(j, t, i)
            }
          : O,
      K = function (e) {
        var t = (U[e] = T(P.prototype))
        return (t._k = e), t
      },
      z =
        G && 'symbol' == typeof P.iterator
          ? function (e) {
              return 'symbol' == typeof e
            }
          : function (e) {
              return e instanceof P
            },
      W = function (e, t, r) {
        return (
          e === j && W(B, t, r),
          _(e),
          (t = E(t, !0)),
          _(r),
          n(U, t)
            ? (r.enumerable
                ? (n(e, C) && e[C][t] && (e[C][t] = !1),
                  (r = T(r, { enumerable: w(0, !1) })))
                : (n(e, C) || O(e, C, w(1, {})), (e[C][t] = !0)),
              V(e, t, r))
            : O(e, t, r)
        )
      },
      Y = function (e, t) {
        _(e)
        for (var r, i = y((t = b(t))), n = 0, a = i.length; a > n; )
          W(e, (r = i[n++]), t[r])
        return e
      },
      Q = function (e, t) {
        return void 0 === t ? T(e) : Y(T(e), t)
      },
      X = function (e) {
        var t = N.call(this, (e = E(e, !0)))
        return (
          !(this === j && n(U, e) && !n(B, e)) &&
          (!(t || !n(this, e) || !n(U, e) || (n(this, C) && this[C][e])) ||
            t)
        )
      },
      $ = function (e, t) {
        if (((e = b(e)), (t = E(t, !0)), e !== j || !n(U, t) || n(B, t))) {
          var r = D(e, t)
          return (
            !r || !n(U, t) || (n(e, C) && e[C][t]) || (r.enumerable = !0),
            r
          )
        }
      },
      J = function (e) {
        for (var t, r = L(b(e)), i = [], a = 0; r.length > a; )
          n(U, (t = r[a++])) || t == C || t == u || i.push(t)
        return i
      },
      Z = function (e) {
        for (
          var t, r = e === j, i = L(r ? B : b(e)), a = [], o = 0;
          i.length > o;

        )
          !n(U, (t = i[o++])) || (r && !n(j, t)) || a.push(U[t])
        return a
      }
    G ||
      ((P = function () {
        if (this instanceof P)
          throw TypeError('Symbol is not a constructor!')
        var e = f(arguments.length > 0 ? arguments[0] : void 0),
          t = function (r) {
            this === j && t.call(B, r),
              n(this, C) && n(this[C], e) && (this[C][e] = !1),
              V(this, e, w(1, r))
          }
        return a && q && V(j, e, { configurable: !0, set: t }), K(e)
      }),
      s(P.prototype, 'toString', function () {
        return this._k
      }),
      (A.f = $),
      (R.f = W),
      (r(68).f = S.f = J),
      (r(36).f = X),
      (r(53).f = Z),
      a && !r(34) && s(j, 'propertyIsEnumerable', X, !0),
      (p.f = function (e) {
        return K(h(e))
      })),
      o(o.G + o.W + o.F * !G, { Symbol: P })
    for (
      var ee =
          'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'.split(
            ','
          ),
        te = 0;
      ee.length > te;

    )
      h(ee[te++])
    for (var ee = k(h.store), te = 0; ee.length > te; ) v(ee[te++])
    o(o.S + o.F * !G, 'Symbol', {
      for: function (e) {
        return n(F, (e += '')) ? F[e] : (F[e] = P(e))
      },
      keyFor: function (e) {
        if (z(e)) return g(F, e)
        throw TypeError(e + ' is not a symbol!')
      },
      useSetter: function () {
        q = !0
      },
      useSimple: function () {
        q = !1
      },
    }),
      o(o.S + o.F * !G, 'Object', {
        create: Q,
        defineProperty: W,
        defineProperties: Y,
        getOwnPropertyDescriptor: $,
        getOwnPropertyNames: J,
        getOwnPropertySymbols: Z,
      }),
      x &&
        o(
          o.S +
            o.F *
              (!G ||
                l(function () {
                  var e = P()
                  return (
                    '[null]' != I([e]) ||
                    '{}' != I({ a: e }) ||
                    '{}' != I(Object(e))
                  )
                })),
          'JSON',
          {
            stringify: function (e) {
              if (void 0 !== e && !z(e)) {
                for (var t, r, i = [e], n = 1; arguments.length > n; )
                  i.push(arguments[n++])
                return (
                  (t = i[1]),
                  'function' == typeof t && (r = t),
                  (!r && m(t)) ||
                    (t = function (e, t) {
                      if ((r && (t = r.call(this, e, t)), !z(t))) return t
                    }),
                  (i[1] = t),
                  I.apply(x, i)
                )
              }
            },
          }
        ),
      P.prototype[M] || r(17)(P.prototype, M, P.prototype.valueOf),
      d(P, 'Symbol'),
      d(Math, 'Math', !0),
      d(i.JSON, 'JSON', !0)
  },
  function (e, t, r) {
    var i = r(33)('meta'),
      n = r(20),
      a = r(18),
      o = r(12).f,
      s = 0,
      u =
        Object.isExtensible ||
        function () {
          return !0
        },
      l = !r(21)(function () {
        return u(Object.preventExtensions({}))
      }),
      c = function (e) {
        o(e, i, { value: { i: 'O' + ++s, w: {} } })
      },
      d = function (e, t) {
        if (!n(e))
          return 'symbol' == typeof e
            ? e
            : ('string' == typeof e ? 'S' : 'P') + e
        if (!a(e, i)) {
          if (!u(e)) return 'F'
          if (!t) return 'E'
          c(e)
        }
        return e[i].i
      },
      f = function (e, t) {
        if (!a(e, i)) {
          if (!u(e)) return !0
          if (!t) return !1
          c(e)
        }
        return e[i].w
      },
      h = function (e) {
        return l && p.NEED && u(e) && !a(e, i) && c(e), e
      },
      p = (e.exports = {
        KEY: i,
        NEED: !1,
        fastKey: d,
        getWeak: f,
        onFreeze: h,
      })
  },
  function (e, t, r) {
    var i = r(28),
      n = r(15)
    e.exports = function (e, t) {
      for (var r, a = n(e), o = i(a), s = o.length, u = 0; s > u; )
        if (a[(r = o[u++])] === t) return r
    }
  },
  function (e, t, r) {
    var i = r(28),
      n = r(53),
      a = r(36)
    e.exports = function (e) {
      var t = i(e),
        r = n.f
      if (r)
        for (var o, s = r(e), u = a.f, l = 0; s.length > l; )
          u.call(e, (o = s[l++])) && t.push(o)
      return t
    }
  },
  function (e, t, r) {
    var i = r(29)
    e.exports =
      Array.isArray ||
      function (e) {
        return 'Array' == i(e)
      }
  },
  function (e, t, r) {
    var i = r(15),
      n = r(68).f,
      a = {}.toString,
      o =
        'object' == typeof window && window && Object.getOwnPropertyNames
          ? Object.getOwnPropertyNames(window)
          : [],
      s = function (e) {
        try {
          return n(e)
        } catch (e) {
          return o.slice()
        }
      }
    e.exports.f = function (e) {
      return o && '[object Window]' == a.call(e) ? s(e) : n(i(e))
    }
  },
  function (e, t, r) {
    r(52)('asyncIterator')
  },
  function (e, t, r) {
    r(52)('observable')
  },
  function (e, t, r) {
    e.exports = { default: r(116), __esModule: !0 }
  },
  function (e, t, r) {
    r(117)
    var i = r(2).Object
    e.exports = function (e, t) {
      return i.getOwnPropertyDescriptor(e, t)
    }
  },
  function (e, t, r) {
    var i = r(15),
      n = r(54).f
    r(60)('getOwnPropertyDescriptor', function () {
      return function (e, t) {
        return n(i(e), t)
      }
    })
  },
  function (e, t, r) {
    e.exports = { default: r(119), __esModule: !0 }
  },
  function (e, t, r) {
    r(120), (e.exports = r(2).Object.setPrototypeOf)
  },
  function (e, t, r) {
    var i = r(11)
    i(i.S, 'Object', { setPrototypeOf: r(121).set })
  },
  function (e, t, r) {
    var i = r(20),
      n = r(8),
      a = function (e, t) {
        if ((n(e), !i(t) && null !== t))
          throw TypeError(t + ": can't set as prototype!")
      }
    e.exports = {
      set:
        Object.setPrototypeOf ||
        ('__proto__' in {}
          ? (function (e, t, i) {
              try {
                ;(i = r(25)(
                  Function.call,
                  r(54).f(Object.prototype, '__proto__').set,
                  2
                )),
                  i(e, []),
                  (t = !(e instanceof Array))
              } catch (e) {
                t = !0
              }
              return function (e, r) {
                return a(e, r), t ? (e.__proto__ = r) : i(e, r), e
              }
            })({}, !1)
          : void 0),
      check: a,
    }
  },
  function (e, t, r) {
    e.exports = { default: r(123), __esModule: !0 }
  },
  function (e, t, r) {
    r(124)
    var i = r(2).Object
    e.exports = function (e, t) {
      return i.create(e, t)
    }
  },
  function (e, t, r) {
    var i = r(11)
    i(i.S, 'Object', { create: r(48) })
  },
  function (e, t, r) {
    'use strict'
    function i(e) {
      if (e && e.__esModule) return e
      var t = {}
      if (null != e)
        for (var r in e)
          Object.prototype.hasOwnProperty.call(e, r) && (t[r] = e[r])
      return (t.default = e), t
    }
    function n(e) {
      return e && e.__esModule ? e : { default: e }
    }
    Object.defineProperty(t, '__esModule', { value: !0 })
    var a = r(0),
      o = n(a),
      s = r(1),
      u = n(s),
      l = r(3),
      c = n(l),
      d = r(37),
      f = (i(d), r(72)),
      h =
        (i(f),
        (function () {
          function e(t) {
            var r =
              arguments.length > 1 && void 0 !== arguments[1]
                ? arguments[1]
                : 8e3
            ;(0, o.default)(this, e),
              (this.logger =
                c.default.createTaggedLoggers('PlaybackDetector')),
              (this.mediaElement = t),
              (this.pollDelay = r),
              (this.pollResults = []),
              (this.detectionListener = function () {}),
              this.reset()
          }
          return (
            (0, u.default)(e, [
              {
                key: 'check',
                value: function () {
                  var e = this,
                    t = void 0
                  Date.now() - this.startedAt >= this.pollDelay
                    ? this.detectionListener(
                        new Error(
                          'Timeout has been reached. Playback is not detected.'
                        )
                      )
                    : ((t = this.mediaElement.currentTime),
                      null === this.previousTime ||
                      void 0 === this.previousTime ||
                      isNaN(this.previousTime)
                        ? this.pollResults.push(!1)
                        : this.pollResults.push(this.previousTime < t),
                      (this.previousTime = t),
                      this.isValidPlayback(this.pollResults, 10)
                        ? this.detectionListener(null)
                        : (this.pollTimeoutId = setTimeout(function () {
                            return e.check()
                          }, 20)))
                },
              },
              {
                key: 'dispose',
                value: function () {
                  this.reset(),
                    (this.mediaElement = null),
                    (this.detectionListener = function () {})
                },
              },
              {
                key: 'isValidPlayback',
                value: function (e, t) {
                  var r = e.length,
                    i = !1,
                    n = void 0
                  if (r >= t)
                    for (n = r - t, i = !0; n < r; ++n)
                      if (!0 !== e[n]) {
                        i = !1
                        break
                      }
                  return i
                },
              },
              {
                key: 'reset',
                value: function () {
                  clearTimeout(this.pollTimeoutId),
                    (this.pollResults.length = 0),
                    (this.startedAt = null),
                    (this.previousTime = null),
                    (this.pollTimeoutId = null)
                },
              },
              {
                key: 'setDetectionListener',
                value: function (e) {
                  this.detectionListener = e
                },
              },
              {
                key: 'start',
                value: function () {
                  if (null !== this.startedAt)
                    throw new Error(
                      'It is not possible to have multiple starts. Previous check is still in the progress. "reset()" method should be used to start a new check.'
                    )
                  ;(this.startedAt = Date.now()), this.check()
                },
              },
            ]),
            e
          )
        })())
    t.default = h
  },
  function (e, t, r) {
    'use strict'
    function i(e) {
      if (e && e.__esModule) return e
      var t = {}
      if (null != e)
        for (var r in e)
          Object.prototype.hasOwnProperty.call(e, r) && (t[r] = e[r])
      return (t.default = e), t
    }
    function n(e) {
      return e && e.__esModule ? e : { default: e }
    }
    Object.defineProperty(t, '__esModule', { value: !0 })
    var a = r(0),
      o = n(a),
      s = r(1),
      u = n(s),
      l = r(3),
      c = n(l),
      d = r(37),
      f = i(d),
      h = r(72),
      p = i(h),
      v = (function () {
        function e(t) {
          var r =
              arguments.length > 1 && void 0 !== arguments[1]
                ? arguments[1]
                : 4e3,
            i = this,
            n =
              arguments.length > 2 && void 0 !== arguments[2]
                ? arguments[2]
                : 1e3,
            a =
              arguments.length > 3 && void 0 !== arguments[3]
                ? arguments[3]
                : 8e4
          ;(0, o.default)(this, e),
            (this.logger = c.default.createTaggedLoggers('RetryManager')),
            (this.errorListener = function (e) {
              return i.errorDidOccur(e)
            }),
            (this.mediaElement = t),
            this.mediaElement.addEventListener(
              f.ERROR,
              this.errorListener
            ),
            (this.delay =
              r + (Math.random() > 0.5 ? 1 : -1) * Math.random() * n),
            (this.overallDuration = a),
            this.reset()
        }
        return (
          (0, u.default)(e, [
            {
              key: 'dispose',
              value: function () {
                this.reset(),
                  null !== this.mediaElement &&
                    (this.mediaElement.removeEventListener(
                      f.ERROR,
                      this.errorListener
                    ),
                    (this.mediaElement = null))
              },
            },
            {
              key: 'errorDidOccur',
              value: function (e) {
                var t = e.target.error.code
                ;(t !== p.MEDIA_ERR_SRC_NOT_SUPPORTED &&
                  t !== p.MEDIA_ERR_DECODE) ||
                  this.scheduleRetry()
              },
            },
            {
              key: 'reset',
              value: function () {
                clearTimeout(this.retryTimeoutId),
                  (this.retryTimeoutId = null),
                  (this.startedAt = null),
                  (this.retryHandler = function () {})
              },
            },
            {
              key: 'retry',
              value: function () {
                var e = this,
                  t = Date.now() - this.startedAt
                t >= this.overallDuration
                  ? this.retryHandler(
                      new Error('Timeout. Retry attempts are expired.')
                    )
                  : (this.retryHandler(null),
                    (this.retryTimeoutId = setTimeout(function () {
                      return e.retryNow()
                    }, this.delay)))
              },
            },
            {
              key: 'retryNow',
              value: function () {
                clearTimeout(this.retryTimeoutId),
                  (this.retryTimeoutId = null),
                  this.mediaElement.pause(),
                  this.mediaElement.load(),
                  this.mediaElement.play()
              },
            },
            {
              key: 'scheduleRetry',
              value: function () {
                null === this.retryTimeoutId &&
                  (null === this.startedAt &&
                    (this.startedAt = Date.now()),
                  this.retry())
              },
            },
            {
              key: 'setRetryHandler',
              value: function (e) {
                this.retryHandler = e
              },
            },
          ]),
          e
        )
      })()
    t.default = v
  },
  function (e, t, r) {
    'use strict'
    function i(e) {
      return e && e.__esModule ? e : { default: e }
    }
    Object.defineProperty(t, '__esModule', { value: !0 })
    var n = r(9),
      a = i(n),
      o = r(0),
      s = i(o),
      u = r(1),
      l = i(u),
      c = r(14),
      d = i(c),
      f = r(19),
      h = i(f),
      p = r(16),
      v = i(p),
      g = r(128),
      y = i(g),
      m = r(22),
      _ = r(30),
      b = (function (e) {
        if (e && e.__esModule) return e
        var t = {}
        if (null != e)
          for (var r in e)
            Object.prototype.hasOwnProperty.call(e, r) && (t[r] = e[r])
        return (t.default = e), t
      })(_),
      E = r(3),
      w = i(E),
      T = r(71),
      S = i(T),
      A = r(10),
      R = (function (e) {
        function t() {
          ;(0, s.default)(this, t)
          var e = (0, d.default)(
            this,
            (t.__proto__ || (0, a.default)(t)).call(this)
          )
          return (
            (e.logger = w.default.createTaggedLoggers('PlaybackMse')),
            (e.masterManifestTimeoutId = null),
            (e.masterRetryStartedAt = null),
            (e.hls = new y.default({
              autoStartLoad: !0,
              fragLoadingMaxRetry: 4,
              fragLoadingRetryDelay: 500,
              fragLoadingMaxRetryTimeout: 2e3,
              initialLiveManifestSize: 3,
              levelLoadingMaxRetry: 8,
              levelLoadingRetryDelay: 1e3,
              levelLoadingMaxRetryTimeout: 8e3,
              liveDurationInfinity: !0,
              liveMaxLatencyDuration: 40,
              liveSyncDuration: 20,
              maxBufferLength: 20,
              maxMaxBufferLength: 40,
            })),
            e.hls.on(y.default.Events.ERROR, function (t, r) {
              return e.errorDidOccur(t, r)
            }),
            e.hls.on(y.default.Events.MANIFEST_PARSED, function (t, r) {
              return e.manifestDidParse(t, r)
            }),
            e
          )
        }
        return (
          (0, v.default)(t, e),
          (0, l.default)(
            t,
            [
              {
                key: 'dispatchError',
                value: function (e, t, r) {
                  this.getStore().dispatch(
                    (0, m.setError)(new Error(r), t)
                  )
                },
              },
              {
                key: 'dispose',
                value: function () {
                  null !== this.hls &&
                    (this.hls.destroy(), (this.hls = null)),
                    null !== this.masterManifestTimeoutId &&
                      (clearTimeout(this.masterManifestTimeoutId),
                      (this.masterManifestTimeoutId = null)),
                    (0, h.default)(
                      t.prototype.__proto__ || (0, a.default)(t.prototype),
                      'dispose',
                      this
                    ).call(this)
                },
              },
              {
                key: 'errorDidOccur',
                value: function (e, t) {
                  var r = this,
                    i = t.type,
                    n = t.fatal,
                    a = t.details,
                    o = void 0,
                    s = void 0
                  n
                    ? ((o = this.getStore().getState()),
                      a === y.default.ErrorDetails.MANIFEST_LOAD_ERROR &&
                      !0 === (0, A.isLiveContent)(o)
                        ? (null === this.masterRetryStartedAt &&
                            (this.masterRetryStartedAt = Date.now()),
                          (s = Date.now() - this.masterRetryStartedAt),
                          s >= b.INITIAL_LIVE_TIMEOUT
                            ? this.dispatchError(i, n, a)
                            : (this.masterManifestTimeoutId = setTimeout(
                                function () {
                                  return r.hls.loadSource(
                                    (0, A.getPlaybackUrl)(o)
                                  )
                                },
                                1e3
                              )))
                        : this.dispatchError(i, n, a))
                    : a ===
                        y.default.ErrorDetails.BUFFER_APPENDING_ERROR &&
                      this.hls.recoverMediaError()
                },
              },
              {
                key: 'load',
                value: function () {
                  var e = this.getVideoElement(),
                    t = (0, A.getPlaybackUrl)(this.getStore().getState())
                  this.hls.attachMedia(e), this.hls.loadSource(t)
                },
              },
              {
                key: 'manifestDidParse',
                value: function (e, t) {
                  this.getStore().dispatch((0, m.setPlaybackReady)(!0))
                },
              },
            ],
            [
              {
                key: 'isSupported',
                value: function () {
                  return y.default.isSupported()
                },
              },
            ]
          ),
          t
        )
      })(S.default)
    t.default = R
  },
  function (e, t, r) {
    !(function (t, r) {
      e.exports = r()
    })(0, function () {
      return (function (e) {
        function t(i) {
          if (r[i]) return r[i].exports
          var n = (r[i] = { i: i, l: !1, exports: {} })
          return (
            e[i].call(n.exports, n, n.exports, t), (n.l = !0), n.exports
          )
        }
        var r = {}
        return (
          (t.m = e),
          (t.c = r),
          (t.d = function (e, r, i) {
            t.o(e, r) ||
              Object.defineProperty(e, r, {
                configurable: !1,
                enumerable: !0,
                get: i,
              })
          }),
          (t.n = function (e) {
            var r =
              e && e.__esModule
                ? function () {
                    return e.default
                  }
                : function () {
                    return e
                  }
            return t.d(r, 'a', r), r
          }),
          (t.o = function (e, t) {
            return Object.prototype.hasOwnProperty.call(e, t)
          }),
          (t.p = '/dist/'),
          t((t.s = 8))
        )
      })([
        function (e, t, r) {
          'use strict'
          function i() {}
          function n(e, t) {
            return (t = '[' + e + '] > ' + t)
          }
          function a(e) {
            var t = self.console[e]
            return t
              ? function () {
                  for (
                    var r = arguments.length, i = Array(r), a = 0;
                    a < r;
                    a++
                  )
                    i[a] = arguments[a]
                  i[0] && (i[0] = n(e, i[0])), t.apply(self.console, i)
                }
              : i
          }
          function o(e) {
            for (
              var t = arguments.length,
                r = Array(t > 1 ? t - 1 : 0),
                i = 1;
              i < t;
              i++
            )
              r[i - 1] = arguments[i]
            r.forEach(function (t) {
              l[t] = e[t] ? e[t].bind(e) : a(t)
            })
          }
          r.d(t, 'a', function () {
            return c
          }),
            r.d(t, 'b', function () {
              return d
            })
          var s =
              'function' == typeof Symbol &&
              'symbol' == typeof Symbol.iterator
                ? function (e) {
                    return typeof e
                  }
                : function (e) {
                    return e &&
                      'function' == typeof Symbol &&
                      e.constructor === Symbol &&
                      e !== Symbol.prototype
                      ? 'symbol'
                      : typeof e
                  },
            u = { trace: i, debug: i, log: i, warn: i, info: i, error: i },
            l = u,
            c = function (e) {
              if (
                !0 === e ||
                'object' === (void 0 === e ? 'undefined' : s(e))
              ) {
                o(e, 'debug', 'log', 'info', 'warn', 'error')
                try {
                  l.log()
                } catch (e) {
                  l = u
                }
              } else l = u
            },
            d = l
        },
        function (e, t, r) {
          'use strict'
          t.a = {
            MEDIA_ATTACHING: 'hlsMediaAttaching',
            MEDIA_ATTACHED: 'hlsMediaAttached',
            MEDIA_DETACHING: 'hlsMediaDetaching',
            MEDIA_DETACHED: 'hlsMediaDetached',
            BUFFER_RESET: 'hlsBufferReset',
            BUFFER_CODECS: 'hlsBufferCodecs',
            BUFFER_CREATED: 'hlsBufferCreated',
            BUFFER_APPENDING: 'hlsBufferAppending',
            BUFFER_APPENDED: 'hlsBufferAppended',
            BUFFER_EOS: 'hlsBufferEos',
            BUFFER_FLUSHING: 'hlsBufferFlushing',
            BUFFER_FLUSHED: 'hlsBufferFlushed',
            MANIFEST_LOADING: 'hlsManifestLoading',
            MANIFEST_LOADED: 'hlsManifestLoaded',
            MANIFEST_PARSED: 'hlsManifestParsed',
            LEVEL_SWITCH: 'hlsLevelSwitch',
            LEVEL_SWITCHING: 'hlsLevelSwitching',
            LEVEL_SWITCHED: 'hlsLevelSwitched',
            LEVEL_LOADING: 'hlsLevelLoading',
            LEVEL_LOADED: 'hlsLevelLoaded',
            LEVEL_UPDATED: 'hlsLevelUpdated',
            LEVEL_PTS_UPDATED: 'hlsLevelPtsUpdated',
            AUDIO_TRACKS_UPDATED: 'hlsAudioTracksUpdated',
            AUDIO_TRACK_SWITCH: 'hlsAudioTrackSwitch',
            AUDIO_TRACK_SWITCHING: 'hlsAudioTrackSwitching',
            AUDIO_TRACK_SWITCHED: 'hlsAudioTrackSwitched',
            AUDIO_TRACK_LOADING: 'hlsAudioTrackLoading',
            AUDIO_TRACK_LOADED: 'hlsAudioTrackLoaded',
            SUBTITLE_TRACKS_UPDATED: 'hlsSubtitleTracksUpdated',
            SUBTITLE_TRACK_SWITCH: 'hlsSubtitleTrackSwitch',
            SUBTITLE_TRACK_LOADING: 'hlsSubtitleTrackLoading',
            SUBTITLE_TRACK_LOADED: 'hlsSubtitleTrackLoaded',
            SUBTITLE_FRAG_PROCESSED: 'hlsSubtitleFragProcessed',
            INIT_PTS_FOUND: 'hlsInitPtsFound',
            FRAG_LOADING: 'hlsFragLoading',
            FRAG_LOAD_PROGRESS: 'hlsFragLoadProgress',
            FRAG_LOAD_EMERGENCY_ABORTED: 'hlsFragLoadEmergencyAborted',
            FRAG_LOADED: 'hlsFragLoaded',
            FRAG_DECRYPTED: 'hlsFragDecrypted',
            FRAG_PARSING_INIT_SEGMENT: 'hlsFragParsingInitSegment',
            FRAG_PARSING_USERDATA: 'hlsFragParsingUserdata',
            FRAG_PARSING_METADATA: 'hlsFragParsingMetadata',
            FRAG_PARSING_DATA: 'hlsFragParsingData',
            FRAG_PARSED: 'hlsFragParsed',
            FRAG_BUFFERED: 'hlsFragBuffered',
            FRAG_CHANGED: 'hlsFragChanged',
            FPS_DROP: 'hlsFpsDrop',
            FPS_DROP_LEVEL_CAPPING: 'hlsFpsDropLevelCapping',
            ERROR: 'hlsError',
            DESTROYING: 'hlsDestroying',
            KEY_LOADING: 'hlsKeyLoading',
            KEY_LOADED: 'hlsKeyLoaded',
            STREAM_STATE_TRANSITION: 'hlsStreamStateTransition',
          }
        },
        function (e, t, r) {
          'use strict'
          r.d(t, 'b', function () {
            return i
          }),
            r.d(t, 'a', function () {
              return n
            })
          var i = {
              NETWORK_ERROR: 'networkError',
              MEDIA_ERROR: 'mediaError',
              MUX_ERROR: 'muxError',
              OTHER_ERROR: 'otherError',
            },
            n = {
              MANIFEST_LOAD_ERROR: 'manifestLoadError',
              MANIFEST_LOAD_TIMEOUT: 'manifestLoadTimeOut',
              MANIFEST_PARSING_ERROR: 'manifestParsingError',
              MANIFEST_INCOMPATIBLE_CODECS_ERROR:
                'manifestIncompatibleCodecsError',
              LEVEL_LOAD_ERROR: 'levelLoadError',
              LEVEL_LOAD_TIMEOUT: 'levelLoadTimeOut',
              LEVEL_SWITCH_ERROR: 'levelSwitchError',
              AUDIO_TRACK_LOAD_ERROR: 'audioTrackLoadError',
              AUDIO_TRACK_LOAD_TIMEOUT: 'audioTrackLoadTimeOut',
              FRAG_LOAD_ERROR: 'fragLoadError',
              FRAG_LOOP_LOADING_ERROR: 'fragLoopLoadingError',
              FRAG_LOAD_TIMEOUT: 'fragLoadTimeOut',
              FRAG_DECRYPT_ERROR: 'fragDecryptError',
              FRAG_PARSING_ERROR: 'fragParsingError',
              REMUX_ALLOC_ERROR: 'remuxAllocError',
              KEY_LOAD_ERROR: 'keyLoadError',
              KEY_LOAD_TIMEOUT: 'keyLoadTimeOut',
              BUFFER_ADD_CODEC_ERROR: 'bufferAddCodecError',
              BUFFER_APPEND_ERROR: 'bufferAppendError',
              BUFFER_APPENDING_ERROR: 'bufferAppendingError',
              BUFFER_STALLED_ERROR: 'bufferStalledError',
              BUFFER_FULL_ERROR: 'bufferFullError',
              BUFFER_SEEK_OVER_HOLE: 'bufferSeekOverHole',
              BUFFER_NUDGE_ON_STALL: 'bufferNudgeOnStall',
              INTERNAL_EXCEPTION: 'internalException',
            }
        },
        function (e, t, r) {
          'use strict'
          function i(e, t) {
            if (!(e instanceof t))
              throw new TypeError('Cannot call a class as a function')
          }
          r.d(t, 'b', function () {
            return a
          })
          var n = (function () {
              function e() {
                i(this, e)
              }
              return (
                (e.isHeader = function (e, t) {
                  return (
                    t + 10 <= e.length &&
                    73 === e[t] &&
                    68 === e[t + 1] &&
                    51 === e[t + 2] &&
                    e[t + 3] < 255 &&
                    e[t + 4] < 255 &&
                    e[t + 6] < 128 &&
                    e[t + 7] < 128 &&
                    e[t + 8] < 128 &&
                    e[t + 9] < 128
                  )
                }),
                (e.isFooter = function (e, t) {
                  return (
                    t + 10 <= e.length &&
                    51 === e[t] &&
                    68 === e[t + 1] &&
                    73 === e[t + 2] &&
                    e[t + 3] < 255 &&
                    e[t + 4] < 255 &&
                    e[t + 6] < 128 &&
                    e[t + 7] < 128 &&
                    e[t + 8] < 128 &&
                    e[t + 9] < 128
                  )
                }),
                (e.getID3Data = function (t, r) {
                  for (var i = r, n = 0; e.isHeader(t, r); ) {
                    n += 10
                    ;(n += e._readSize(t, r + 6)),
                      e.isFooter(t, r + 10) && (n += 10),
                      (r += n)
                  }
                  if (n > 0) return t.subarray(i, i + n)
                }),
                (e._readSize = function (e, t) {
                  var r = 0
                  return (
                    (r = (127 & e[t]) << 21),
                    (r |= (127 & e[t + 1]) << 14),
                    (r |= (127 & e[t + 2]) << 7),
                    (r |= 127 & e[t + 3])
                  )
                }),
                (e.getTimeStamp = function (t) {
                  for (
                    var r = e.getID3Frames(t), i = 0;
                    i < r.length;
                    i++
                  ) {
                    var n = r[i]
                    if (e.isTimeStampFrame(n)) return e._readTimeStamp(n)
                  }
                }),
                (e.isTimeStampFrame = function (e) {
                  return (
                    e &&
                    'PRIV' === e.key &&
                    'com.apple.streaming.transportStreamTimestamp' ===
                      e.info
                  )
                }),
                (e._getFrameData = function (t) {
                  var r = String.fromCharCode(t[0], t[1], t[2], t[3]),
                    i = e._readSize(t, 4)
                  return { type: r, size: i, data: t.subarray(10, 10 + i) }
                }),
                (e.getID3Frames = function (t) {
                  for (var r = 0, i = []; e.isHeader(t, r); ) {
                    var n = e._readSize(t, r + 6)
                    r += 10
                    for (var a = r + n; r + 8 < a; ) {
                      var o = e._getFrameData(t.subarray(r)),
                        s = e._decodeFrame(o)
                      s && i.push(s), (r += o.size + 10)
                    }
                    e.isFooter(t, r) && (r += 10)
                  }
                  return i
                }),
                (e._decodeFrame = function (t) {
                  return 'PRIV' === t.type
                    ? e._decodePrivFrame(t)
                    : 'T' === t.type[0]
                    ? e._decodeTextFrame(t)
                    : 'W' === t.type[0]
                    ? e._decodeURLFrame(t)
                    : void 0
                }),
                (e._readTimeStamp = function (e) {
                  if (8 === e.data.byteLength) {
                    var t = new Uint8Array(e.data),
                      r = 1 & t[3],
                      i = (t[4] << 23) + (t[5] << 15) + (t[6] << 7) + t[7]
                    return (
                      (i /= 45), r && (i += 47721858.84), Math.round(i)
                    )
                  }
                }),
                (e._decodePrivFrame = function (t) {
                  if (!(t.size < 2)) {
                    var r = e._utf8ArrayToStr(t.data, !0),
                      i = new Uint8Array(t.data.subarray(r.length + 1))
                    return { key: t.type, info: r, data: i.buffer }
                  }
                }),
                (e._decodeTextFrame = function (t) {
                  if (!(t.size < 2)) {
                    if ('TXXX' === t.type) {
                      var r = 1,
                        i = e._utf8ArrayToStr(t.data.subarray(r))
                      r += i.length + 1
                      var n = e._utf8ArrayToStr(t.data.subarray(r))
                      return { key: t.type, info: i, data: n }
                    }
                    var a = e._utf8ArrayToStr(t.data.subarray(1))
                    return { key: t.type, data: a }
                  }
                }),
                (e._decodeURLFrame = function (t) {
                  if ('WXXX' === t.type) {
                    if (t.size < 2) return
                    var r = 1,
                      i = e._utf8ArrayToStr(t.data.subarray(r))
                    r += i.length + 1
                    var n = e._utf8ArrayToStr(t.data.subarray(r))
                    return { key: t.type, info: i, data: n }
                  }
                  var a = e._utf8ArrayToStr(t.data)
                  return { key: t.type, data: a }
                }),
                (e._utf8ArrayToStr = function (e) {
                  for (
                    var t =
                        arguments.length > 1 &&
                        void 0 !== arguments[1] &&
                        arguments[1],
                      r = e.length,
                      i = void 0,
                      n = void 0,
                      a = void 0,
                      o = '',
                      s = 0;
                    s < r;

                  ) {
                    if (0 === (i = e[s++]) && t) return o
                    if (0 !== i && 3 !== i)
                      switch (i >> 4) {
                        case 0:
                        case 1:
                        case 2:
                        case 3:
                        case 4:
                        case 5:
                        case 6:
                        case 7:
                          o += String.fromCharCode(i)
                          break
                        case 12:
                        case 13:
                          ;(n = e[s++]),
                            (o += String.fromCharCode(
                              ((31 & i) << 6) | (63 & n)
                            ))
                          break
                        case 14:
                          ;(n = e[s++]),
                            (a = e[s++]),
                            (o += String.fromCharCode(
                              ((15 & i) << 12) |
                                ((63 & n) << 6) |
                                ((63 & a) << 0)
                            ))
                      }
                  }
                  return o
                }),
                e
              )
            })(),
            a = n._utf8ArrayToStr
          t.a = n
        },
        function (e, t, r) {
          'use strict'
          function i(e, t) {
            if (!(e instanceof t))
              throw new TypeError('Cannot call a class as a function')
          }
          function n(e, t) {
            if (!(e instanceof t))
              throw new TypeError('Cannot call a class as a function')
          }
          function a(e, t) {
            if (!(e instanceof t))
              throw new TypeError('Cannot call a class as a function')
          }
          function o(e, t) {
            if (!(e instanceof t))
              throw new TypeError('Cannot call a class as a function')
          }
          var s = (function () {
              function e(t, r) {
                i(this, e), (this.subtle = t), (this.aesIV = r)
              }
              return (
                (e.prototype.decrypt = function (e, t) {
                  return this.subtle.decrypt(
                    { name: 'AES-CBC', iv: this.aesIV },
                    t,
                    e
                  )
                }),
                e
              )
            })(),
            u = s,
            l = (function () {
              function e(t, r) {
                n(this, e), (this.subtle = t), (this.key = r)
              }
              return (
                (e.prototype.expandKey = function () {
                  return this.subtle.importKey(
                    'raw',
                    this.key,
                    { name: 'AES-CBC' },
                    !1,
                    ['encrypt', 'decrypt']
                  )
                }),
                e
              )
            })(),
            c = l,
            d = (function () {
              function e() {
                a(this, e),
                  (this.rcon = [0, 1, 2, 4, 8, 16, 32, 64, 128, 27, 54]),
                  (this.subMix = [
                    new Uint32Array(256),
                    new Uint32Array(256),
                    new Uint32Array(256),
                    new Uint32Array(256),
                  ]),
                  (this.invSubMix = [
                    new Uint32Array(256),
                    new Uint32Array(256),
                    new Uint32Array(256),
                    new Uint32Array(256),
                  ]),
                  (this.sBox = new Uint32Array(256)),
                  (this.invSBox = new Uint32Array(256)),
                  (this.key = new Uint32Array(0)),
                  this.initTable()
              }
              return (
                (e.prototype.uint8ArrayToUint32Array_ = function (e) {
                  for (
                    var t = new DataView(e), r = new Uint32Array(4), i = 0;
                    i < 4;
                    i++
                  )
                    r[i] = t.getUint32(4 * i)
                  return r
                }),
                (e.prototype.initTable = function () {
                  var e = this.sBox,
                    t = this.invSBox,
                    r = this.subMix,
                    i = r[0],
                    n = r[1],
                    a = r[2],
                    o = r[3],
                    s = this.invSubMix,
                    u = s[0],
                    l = s[1],
                    c = s[2],
                    d = s[3],
                    f = new Uint32Array(256),
                    h = 0,
                    p = 0,
                    v = 0
                  for (v = 0; v < 256; v++)
                    f[v] = v < 128 ? v << 1 : (v << 1) ^ 283
                  for (v = 0; v < 256; v++) {
                    var g = p ^ (p << 1) ^ (p << 2) ^ (p << 3) ^ (p << 4)
                    ;(g = (g >>> 8) ^ (255 & g) ^ 99),
                      (e[h] = g),
                      (t[g] = h)
                    var y = f[h],
                      m = f[y],
                      _ = f[m],
                      b = (257 * f[g]) ^ (16843008 * g)
                    ;(i[h] = (b << 24) | (b >>> 8)),
                      (n[h] = (b << 16) | (b >>> 16)),
                      (a[h] = (b << 8) | (b >>> 24)),
                      (o[h] = b),
                      (b =
                        (16843009 * _) ^
                        (65537 * m) ^
                        (257 * y) ^
                        (16843008 * h)),
                      (u[g] = (b << 24) | (b >>> 8)),
                      (l[g] = (b << 16) | (b >>> 16)),
                      (c[g] = (b << 8) | (b >>> 24)),
                      (d[g] = b),
                      h
                        ? ((h = y ^ f[f[f[_ ^ y]]]), (p ^= f[f[p]]))
                        : (h = p = 1)
                  }
                }),
                (e.prototype.expandKey = function (e) {
                  for (
                    var t = this.uint8ArrayToUint32Array_(e),
                      r = !0,
                      i = 0;
                    i < t.length && r;

                  )
                    (r = t[i] === this.key[i]), i++
                  if (!r) {
                    this.key = t
                    var n = (this.keySize = t.length)
                    if (4 !== n && 6 !== n && 8 !== n)
                      throw new Error('Invalid aes key size=' + n)
                    var a = (this.ksRows = 4 * (n + 6 + 1)),
                      o = void 0,
                      s = void 0,
                      u = (this.keySchedule = new Uint32Array(a)),
                      l = (this.invKeySchedule = new Uint32Array(a)),
                      c = this.sBox,
                      d = this.rcon,
                      f = this.invSubMix,
                      h = f[0],
                      p = f[1],
                      v = f[2],
                      g = f[3],
                      y = void 0,
                      m = void 0
                    for (o = 0; o < a; o++)
                      o < n
                        ? (y = u[o] = t[o])
                        : ((m = y),
                          o % n == 0
                            ? ((m = (m << 8) | (m >>> 24)),
                              (m =
                                (c[m >>> 24] << 24) |
                                (c[(m >>> 16) & 255] << 16) |
                                (c[(m >>> 8) & 255] << 8) |
                                c[255 & m]),
                              (m ^= d[(o / n) | 0] << 24))
                            : n > 6 &&
                              o % n == 4 &&
                              (m =
                                (c[m >>> 24] << 24) |
                                (c[(m >>> 16) & 255] << 16) |
                                (c[(m >>> 8) & 255] << 8) |
                                c[255 & m]),
                          (u[o] = y = (u[o - n] ^ m) >>> 0))
                    for (s = 0; s < a; s++)
                      (o = a - s),
                        (m = 3 & s ? u[o] : u[o - 4]),
                        (l[s] =
                          s < 4 || o <= 4
                            ? m
                            : h[c[m >>> 24]] ^
                              p[c[(m >>> 16) & 255]] ^
                              v[c[(m >>> 8) & 255]] ^
                              g[c[255 & m]]),
                        (l[s] = l[s] >>> 0)
                  }
                }),
                (e.prototype.networkToHostOrderSwap = function (e) {
                  return (
                    (e << 24) |
                    ((65280 & e) << 8) |
                    ((16711680 & e) >> 8) |
                    (e >>> 24)
                  )
                }),
                (e.prototype.decrypt = function (e, t, r) {
                  for (
                    var i,
                      n,
                      a = this.keySize + 6,
                      o = this.invKeySchedule,
                      s = this.invSBox,
                      u = this.invSubMix,
                      l = u[0],
                      c = u[1],
                      d = u[2],
                      f = u[3],
                      h = this.uint8ArrayToUint32Array_(r),
                      p = h[0],
                      v = h[1],
                      g = h[2],
                      y = h[3],
                      m = new Int32Array(e),
                      _ = new Int32Array(m.length),
                      b = void 0,
                      E = void 0,
                      w = void 0,
                      T = void 0,
                      S = void 0,
                      A = void 0,
                      R = void 0,
                      k = void 0,
                      D = void 0,
                      O = void 0,
                      L = void 0,
                      P = void 0,
                      x = this.networkToHostOrderSwap;
                    t < m.length;

                  ) {
                    for (
                      D = x(m[t]),
                        O = x(m[t + 1]),
                        L = x(m[t + 2]),
                        P = x(m[t + 3]),
                        S = D ^ o[0],
                        A = P ^ o[1],
                        R = L ^ o[2],
                        k = O ^ o[3],
                        i = 4,
                        n = 1;
                      n < a;
                      n++
                    )
                      (b =
                        l[S >>> 24] ^
                        c[(A >> 16) & 255] ^
                        d[(R >> 8) & 255] ^
                        f[255 & k] ^
                        o[i]),
                        (E =
                          l[A >>> 24] ^
                          c[(R >> 16) & 255] ^
                          d[(k >> 8) & 255] ^
                          f[255 & S] ^
                          o[i + 1]),
                        (w =
                          l[R >>> 24] ^
                          c[(k >> 16) & 255] ^
                          d[(S >> 8) & 255] ^
                          f[255 & A] ^
                          o[i + 2]),
                        (T =
                          l[k >>> 24] ^
                          c[(S >> 16) & 255] ^
                          d[(A >> 8) & 255] ^
                          f[255 & R] ^
                          o[i + 3]),
                        (S = b),
                        (A = E),
                        (R = w),
                        (k = T),
                        (i += 4)
                    ;(b =
                      (s[S >>> 24] << 24) ^
                      (s[(A >> 16) & 255] << 16) ^
                      (s[(R >> 8) & 255] << 8) ^
                      s[255 & k] ^
                      o[i]),
                      (E =
                        (s[A >>> 24] << 24) ^
                        (s[(R >> 16) & 255] << 16) ^
                        (s[(k >> 8) & 255] << 8) ^
                        s[255 & S] ^
                        o[i + 1]),
                      (w =
                        (s[R >>> 24] << 24) ^
                        (s[(k >> 16) & 255] << 16) ^
                        (s[(S >> 8) & 255] << 8) ^
                        s[255 & A] ^
                        o[i + 2]),
                      (T =
                        (s[k >>> 24] << 24) ^
                        (s[(S >> 16) & 255] << 16) ^
                        (s[(A >> 8) & 255] << 8) ^
                        s[255 & R] ^
                        o[i + 3]),
                      (i += 3),
                      (_[t] = x(b ^ p)),
                      (_[t + 1] = x(T ^ v)),
                      (_[t + 2] = x(w ^ g)),
                      (_[t + 3] = x(E ^ y)),
                      (p = D),
                      (v = O),
                      (g = L),
                      (y = P),
                      (t += 4)
                  }
                  return _.buffer
                }),
                (e.prototype.destroy = function () {
                  ;(this.key = void 0),
                    (this.keySize = void 0),
                    (this.ksRows = void 0),
                    (this.sBox = void 0),
                    (this.invSBox = void 0),
                    (this.subMix = void 0),
                    (this.invSubMix = void 0),
                    (this.keySchedule = void 0),
                    (this.invKeySchedule = void 0),
                    (this.rcon = void 0)
                }),
                e
              )
            })(),
            f = d,
            h = r(2),
            p = r(0),
            v = (function () {
              function e(t, r) {
                o(this, e),
                  (this.observer = t),
                  (this.config = r),
                  (this.logEnabled = !0)
                try {
                  var i = crypto || self.crypto
                  this.subtle = i.subtle || i.webkitSubtle
                } catch (e) {}
                this.disableWebCrypto = !this.subtle
              }
              return (
                (e.prototype.isSync = function () {
                  return (
                    this.disableWebCrypto && this.config.enableSoftwareAES
                  )
                }),
                (e.prototype.decrypt = function (e, t, r, i) {
                  var n = this
                  if (
                    this.disableWebCrypto &&
                    this.config.enableSoftwareAES
                  ) {
                    this.logEnabled &&
                      (p.b.log('JS AES decrypt'), (this.logEnabled = !1))
                    var a = this.decryptor
                    a || (this.decryptor = a = new f()),
                      a.expandKey(t),
                      i(a.decrypt(e, 0, r))
                  } else {
                    this.logEnabled &&
                      (p.b.log('WebCrypto AES decrypt'),
                      (this.logEnabled = !1))
                    var o = this.subtle
                    this.key !== t &&
                      ((this.key = t), (this.fastAesKey = new c(o, t))),
                      this.fastAesKey
                        .expandKey()
                        .then(function (a) {
                          new u(o, r)
                            .decrypt(e, a)
                            .catch(function (a) {
                              n.onWebCryptoError(a, e, t, r, i)
                            })
                            .then(function (e) {
                              i(e)
                            })
                        })
                        .catch(function (a) {
                          n.onWebCryptoError(a, e, t, r, i)
                        })
                  }
                }),
                (e.prototype.onWebCryptoError = function (e, t, r, i, n) {
                  this.config.enableSoftwareAES
                    ? (p.b.log('WebCrypto Error, disable WebCrypto API'),
                      (this.disableWebCrypto = !0),
                      (this.logEnabled = !0),
                      this.decrypt(t, r, i, n))
                    : (p.b.error('decrypting error : ' + e.message),
                      this.observer.trigger(Event.ERROR, {
                        type: h.b.MEDIA_ERROR,
                        details: h.a.FRAG_DECRYPT_ERROR,
                        fatal: !0,
                        reason: e.message,
                      }))
                }),
                (e.prototype.destroy = function () {
                  var e = this.decryptor
                  e && (e.destroy(), (this.decryptor = void 0))
                }),
                e
              )
            })()
          t.a = v
        },
        function (e, t) {
          function r() {
            ;(this._events = this._events || {}),
              (this._maxListeners = this._maxListeners || void 0)
          }
          function i(e) {
            return 'function' == typeof e
          }
          function n(e) {
            return 'number' == typeof e
          }
          function a(e) {
            return 'object' == typeof e && null !== e
          }
          function o(e) {
            return void 0 === e
          }
          ;(e.exports = r),
            (r.EventEmitter = r),
            (r.prototype._events = void 0),
            (r.prototype._maxListeners = void 0),
            (r.defaultMaxListeners = 10),
            (r.prototype.setMaxListeners = function (e) {
              if (!n(e) || e < 0 || isNaN(e))
                throw TypeError('n must be a positive number')
              return (this._maxListeners = e), this
            }),
            (r.prototype.emit = function (e) {
              var t, r, n, s, u, l
              if (
                (this._events || (this._events = {}),
                'error' === e &&
                  (!this._events.error ||
                    (a(this._events.error) && !this._events.error.length)))
              ) {
                if ((t = arguments[1]) instanceof Error) throw t
                var c = new Error(
                  'Uncaught, unspecified "error" event. (' + t + ')'
                )
                throw ((c.context = t), c)
              }
              if (((r = this._events[e]), o(r))) return !1
              if (i(r))
                switch (arguments.length) {
                  case 1:
                    r.call(this)
                    break
                  case 2:
                    r.call(this, arguments[1])
                    break
                  case 3:
                    r.call(this, arguments[1], arguments[2])
                    break
                  default:
                    ;(s = Array.prototype.slice.call(arguments, 1)),
                      r.apply(this, s)
                }
              else if (a(r))
                for (
                  s = Array.prototype.slice.call(arguments, 1),
                    l = r.slice(),
                    n = l.length,
                    u = 0;
                  u < n;
                  u++
                )
                  l[u].apply(this, s)
              return !0
            }),
            (r.prototype.addListener = function (e, t) {
              var n
              if (!i(t)) throw TypeError('listener must be a function')
              return (
                this._events || (this._events = {}),
                this._events.newListener &&
                  this.emit(
                    'newListener',
                    e,
                    i(t.listener) ? t.listener : t
                  ),
                this._events[e]
                  ? a(this._events[e])
                    ? this._events[e].push(t)
                    : (this._events[e] = [this._events[e], t])
                  : (this._events[e] = t),
                a(this._events[e]) &&
                  !this._events[e].warned &&
                  (n = o(this._maxListeners)
                    ? r.defaultMaxListeners
                    : this._maxListeners) &&
                  n > 0 &&
                  this._events[e].length > n &&
                  ((this._events[e].warned = !0),
                  console.error(
                    '(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.',
                    this._events[e].length
                  ),
                  'function' == typeof console.trace && console.trace()),
                this
              )
            }),
            (r.prototype.on = r.prototype.addListener),
            (r.prototype.once = function (e, t) {
              function r() {
                this.removeListener(e, r),
                  n || ((n = !0), t.apply(this, arguments))
              }
              if (!i(t)) throw TypeError('listener must be a function')
              var n = !1
              return (r.listener = t), this.on(e, r), this
            }),
            (r.prototype.removeListener = function (e, t) {
              var r, n, o, s
              if (!i(t)) throw TypeError('listener must be a function')
              if (!this._events || !this._events[e]) return this
              if (
                ((r = this._events[e]),
                (o = r.length),
                (n = -1),
                r === t || (i(r.listener) && r.listener === t))
              )
                delete this._events[e],
                  this._events.removeListener &&
                    this.emit('removeListener', e, t)
              else if (a(r)) {
                for (s = o; s-- > 0; )
                  if (
                    r[s] === t ||
                    (r[s].listener && r[s].listener === t)
                  ) {
                    n = s
                    break
                  }
                if (n < 0) return this
                1 === r.length
                  ? ((r.length = 0), delete this._events[e])
                  : r.splice(n, 1),
                  this._events.removeListener &&
                    this.emit('removeListener', e, t)
              }
              return this
            }),
            (r.prototype.removeAllListeners = function (e) {
              var t, r
              if (!this._events) return this
              if (!this._events.removeListener)
                return (
                  0 === arguments.length
                    ? (this._events = {})
                    : this._events[e] && delete this._events[e],
                  this
                )
              if (0 === arguments.length) {
                for (t in this._events)
                  'removeListener' !== t && this.removeAllListeners(t)
                return (
                  this.removeAllListeners('removeListener'),
                  (this._events = {}),
                  this
                )
              }
              if (((r = this._events[e]), i(r))) this.removeListener(e, r)
              else if (r)
                for (; r.length; ) this.removeListener(e, r[r.length - 1])
              return delete this._events[e], this
            }),
            (r.prototype.listeners = function (e) {
              return this._events && this._events[e]
                ? i(this._events[e])
                  ? [this._events[e]]
                  : this._events[e].slice()
                : []
            }),
            (r.prototype.listenerCount = function (e) {
              if (this._events) {
                var t = this._events[e]
                if (i(t)) return 1
                if (t) return t.length
              }
              return 0
            }),
            (r.listenerCount = function (e, t) {
              return e.listenerCount(t)
            })
        },
        function (e, t, r) {
          !(function (t) {
            var r =
                /^((?:[^\/;?#]+:)?)(\/\/[^\/\;?#]*)?(.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,
              i = /^([^\/;?#]*)(.*)$/,
              n = /(?:\/|^)\.(?=\/)/g,
              a = /(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,
              o = {
                buildAbsoluteURL: function (e, t, r) {
                  if (((r = r || {}), (e = e.trim()), !(t = t.trim()))) {
                    if (!r.alwaysNormalize) return e
                    var n = this.parseURL(e)
                    if (!s)
                      throw new Error('Error trying to parse base URL.')
                    return (
                      (n.path = o.normalizePath(n.path)),
                      o.buildURLFromParts(n)
                    )
                  }
                  var a = this.parseURL(t)
                  if (!a)
                    throw new Error('Error trying to parse relative URL.')
                  if (a.scheme)
                    return r.alwaysNormalize
                      ? ((a.path = o.normalizePath(a.path)),
                        o.buildURLFromParts(a))
                      : t
                  var s = this.parseURL(e)
                  if (!s)
                    throw new Error('Error trying to parse base URL.')
                  if (!s.netLoc && s.path && '/' !== s.path[0]) {
                    var u = i.exec(s.path)
                    ;(s.netLoc = u[1]), (s.path = u[2])
                  }
                  s.netLoc && !s.path && (s.path = '/')
                  var l = {
                    scheme: s.scheme,
                    netLoc: a.netLoc,
                    path: null,
                    params: a.params,
                    query: a.query,
                    fragment: a.fragment,
                  }
                  if (
                    !a.netLoc &&
                    ((l.netLoc = s.netLoc), '/' !== a.path[0])
                  )
                    if (a.path) {
                      var c = s.path,
                        d = c.substring(0, c.lastIndexOf('/') + 1) + a.path
                      l.path = o.normalizePath(d)
                    } else
                      (l.path = s.path),
                        a.params ||
                          ((l.params = s.params),
                          a.query || (l.query = s.query))
                  return (
                    null === l.path &&
                      (l.path = r.alwaysNormalize
                        ? o.normalizePath(a.path)
                        : a.path),
                    o.buildURLFromParts(l)
                  )
                },
                parseURL: function (e) {
                  var t = r.exec(e)
                  return t
                    ? {
                        scheme: t[1] || '',
                        netLoc: t[2] || '',
                        path: t[3] || '',
                        params: t[4] || '',
                        query: t[5] || '',
                        fragment: t[6] || '',
                      }
                    : null
                },
                normalizePath: function (e) {
                  for (
                    e = e.split('').reverse().join('').replace(n, '');
                    e.length !== (e = e.replace(a, '')).length;

                  );
                  return e.split('').reverse().join('')
                },
                buildURLFromParts: function (e) {
                  return (
                    e.scheme +
                    e.netLoc +
                    e.path +
                    e.params +
                    e.query +
                    e.fragment
                  )
                },
              }
            e.exports = o
          })()
        },
        function (e, t, r) {
          'use strict'
          function i(e, t, r, i) {
            var n,
              a,
              o,
              s,
              u,
              l = navigator.userAgent.toLowerCase(),
              c = i,
              d = [
                96e3, 88200, 64e3, 48e3, 44100, 32e3, 24e3, 22050, 16e3,
                12e3, 11025, 8e3, 7350,
              ]
            return (
              (n = 1 + ((192 & t[r + 2]) >>> 6)),
              (a = (60 & t[r + 2]) >>> 2) > d.length - 1
                ? void e.trigger(Event.ERROR, {
                    type: A.b.MEDIA_ERROR,
                    details: A.a.FRAG_PARSING_ERROR,
                    fatal: !0,
                    reason: 'invalid ADTS sampling index:' + a,
                  })
                : ((s = (1 & t[r + 2]) << 2),
                  (s |= (192 & t[r + 3]) >>> 6),
                  k.b.log(
                    'manifest codec:' +
                      i +
                      ',ADTS data:type:' +
                      n +
                      ',sampleingIndex:' +
                      a +
                      '[' +
                      d[a] +
                      'Hz],channelConfig:' +
                      s
                  ),
                  /firefox/i.test(l)
                    ? a >= 6
                      ? ((n = 5), (u = new Array(4)), (o = a - 3))
                      : ((n = 2), (u = new Array(2)), (o = a))
                    : -1 !== l.indexOf('android')
                    ? ((n = 2), (u = new Array(2)), (o = a))
                    : ((n = 5),
                      (u = new Array(4)),
                      (i &&
                        (-1 !== i.indexOf('mp4a.40.29') ||
                          -1 !== i.indexOf('mp4a.40.5'))) ||
                      (!i && a >= 6)
                        ? (o = a - 3)
                        : (((i &&
                            -1 !== i.indexOf('mp4a.40.2') &&
                            ((a >= 6 && 1 === s) || /vivaldi/i.test(l))) ||
                            (!i && 1 === s)) &&
                            ((n = 2), (u = new Array(2))),
                          (o = a))),
                  (u[0] = n << 3),
                  (u[0] |= (14 & a) >> 1),
                  (u[1] |= (1 & a) << 7),
                  (u[1] |= s << 3),
                  5 === n &&
                    ((u[1] |= (14 & o) >> 1),
                    (u[2] = (1 & o) << 7),
                    (u[2] |= 8),
                    (u[3] = 0)),
                  {
                    config: u,
                    samplerate: d[a],
                    channelCount: s,
                    codec: 'mp4a.40.' + n,
                    manifestCodec: c,
                  })
            )
          }
          function n(e, t) {
            return 255 === e[t] && 240 == (246 & e[t + 1])
          }
          function a(e, t) {
            return 1 & e[t + 1] ? 7 : 9
          }
          function o(e, t) {
            return (
              ((3 & e[t + 3]) << 11) |
              (e[t + 4] << 3) |
              ((224 & e[t + 5]) >>> 5)
            )
          }
          function s(e, t) {
            return !!(t + 1 < e.length && n(e, t))
          }
          function u(e, t) {
            if (t + 1 < e.length && n(e, t)) {
              var r = a(e, t),
                i = r
              t + 5 < e.length && (i = o(e, t))
              var s = t + i
              if (s === e.length || (s + 1 < e.length && n(e, s)))
                return !0
            }
            return !1
          }
          function l(e, t, r, n, a) {
            if (!e.samplerate) {
              var o = i(t, r, n, a)
              ;(e.config = o.config),
                (e.samplerate = o.samplerate),
                (e.channelCount = o.channelCount),
                (e.codec = o.codec),
                (e.manifestCodec = o.manifestCodec),
                k.b.log(
                  'parsed codec:' +
                    e.codec +
                    ',rate:' +
                    o.samplerate +
                    ',nb channel:' +
                    o.channelCount
                )
            }
          }
          function c(e) {
            return 9216e4 / e
          }
          function d(e, t, r, i, n) {
            var s,
              u,
              l,
              c = e.length
            if (
              ((s = a(e, t)),
              (u = o(e, t)),
              (u -= s) > 0 && t + s + u <= c)
            )
              return (
                (l = r + i * n),
                { headerLength: s, frameLength: u, stamp: l }
              )
          }
          function f(e, t, r, i, n) {
            var a = c(e.samplerate),
              o = d(t, r, i, n, a)
            if (o) {
              var s = o.stamp,
                u = o.headerLength,
                l = o.frameLength,
                f = { unit: t.subarray(r + u, r + u + l), pts: s, dts: s }
              return (
                e.samples.push(f),
                (e.len += l),
                { sample: f, length: l + u }
              )
            }
          }
          function h(e, t) {
            if (!(e instanceof t))
              throw new TypeError('Cannot call a class as a function')
          }
          function p(e, t) {
            if (!(e instanceof t))
              throw new TypeError('Cannot call a class as a function')
          }
          function v(e, t) {
            if (!(e instanceof t))
              throw new TypeError('Cannot call a class as a function')
          }
          function g(e, t) {
            if (!(e instanceof t))
              throw new TypeError('Cannot call a class as a function')
          }
          function y(e, t) {
            if (!(e instanceof t))
              throw new TypeError('Cannot call a class as a function')
          }
          function m(e, t) {
            if (!(e instanceof t))
              throw new TypeError('Cannot call a class as a function')
          }
          function _(e, t) {
            if (!(e instanceof t))
              throw new TypeError('Cannot call a class as a function')
          }
          function b(e, t) {
            if (!(e instanceof t))
              throw new TypeError('Cannot call a class as a function')
          }
          function E(e, t) {
            if (!(e instanceof t))
              throw new TypeError('Cannot call a class as a function')
          }
          function w(e, t) {
            if (!(e instanceof t))
              throw new TypeError('Cannot call a class as a function')
          }
          function T(e, t) {
            if (!(e instanceof t))
              throw new TypeError('Cannot call a class as a function')
          }
          var S = r(1),
            A = r(2),
            R = r(4),
            k = r(0),
            D = r(3),
            O = (function () {
              function e(t, r, i) {
                h(this, e),
                  (this.observer = t),
                  (this.config = i),
                  (this.remuxer = r)
              }
              return (
                (e.prototype.resetInitSegment = function (e, t, r, i) {
                  this._audioTrack = {
                    container: 'audio/adts',
                    type: 'audio',
                    id: 0,
                    sequenceNumber: 0,
                    isAAC: !0,
                    samples: [],
                    len: 0,
                    manifestCodec: t,
                    duration: i,
                    inputTimeScale: 9e4,
                  }
                }),
                (e.prototype.resetTimeStamp = function () {}),
                (e.probe = function (e) {
                  if (!e) return !1
                  for (
                    var t = D.a.getID3Data(e, 0) || [],
                      r = t.length,
                      i = e.length;
                    r < i;
                    r++
                  )
                    if (u(e, r))
                      return k.b.log('ADTS sync word found !'), !0
                  return !1
                }),
                (e.prototype.append = function (e, t, r, i) {
                  for (
                    var n = this._audioTrack,
                      a = D.a.getID3Data(e, 0) || [],
                      o = D.a.getTimeStamp(a),
                      u = o ? 90 * o : 9e4 * t,
                      c = 0,
                      d = u,
                      h = e.length,
                      p = a.length,
                      v = [{ pts: d, dts: d, data: a }];
                    p < h - 1;

                  )
                    if (s(e, p) && p + 5 < h) {
                      l(n, this.observer, e, p, n.manifestCodec)
                      var g = f(n, e, p, u, c)
                      if (!g) {
                        k.b.log('Unable to parse AAC frame')
                        break
                      }
                      ;(p += g.length), (d = g.sample.pts), c++
                    } else
                      D.a.isHeader(e, p)
                        ? ((a = D.a.getID3Data(e, p)),
                          v.push({ pts: d, dts: d, data: a }),
                          (p += a.length))
                        : p++
                  this.remuxer.remux(
                    n,
                    { samples: [] },
                    { samples: v, inputTimeScale: 9e4 },
                    { samples: [] },
                    t,
                    r,
                    i
                  )
                }),
                (e.prototype.destroy = function () {}),
                e
              )
            })(),
            L = O,
            P = Math.pow(2, 32) - 1,
            x = (function () {
              function e(t, r) {
                p(this, e), (this.observer = t), (this.remuxer = r)
              }
              return (
                (e.prototype.resetTimeStamp = function (e) {
                  this.initPTS = e
                }),
                (e.prototype.resetInitSegment = function (t, r, i, n) {
                  if (t && t.byteLength) {
                    var a = (this.initData = e.parseInitSegment(t))
                    null == r && (r = 'mp4a.40.5'),
                      null == i && (i = 'avc1.42e01e')
                    var o = {}
                    a.audio && a.video
                      ? (o.audiovideo = {
                          container: 'video/mp4',
                          codec: r + ',' + i,
                          initSegment: n ? t : null,
                        })
                      : (a.audio &&
                          (o.audio = {
                            container: 'audio/mp4',
                            codec: r,
                            initSegment: n ? t : null,
                          }),
                        a.video &&
                          (o.video = {
                            container: 'video/mp4',
                            codec: i,
                            initSegment: n ? t : null,
                          })),
                      this.observer.trigger(
                        S.a.FRAG_PARSING_INIT_SEGMENT,
                        { tracks: o }
                      )
                  } else
                    r && (this.audioCodec = r), i && (this.videoCodec = i)
                }),
                (e.probe = function (t) {
                  return (
                    e.findBox(
                      {
                        data: t,
                        start: 0,
                        end: Math.min(t.length, 16384),
                      },
                      ['moof']
                    ).length > 0
                  )
                }),
                (e.bin2str = function (e) {
                  return String.fromCharCode.apply(null, e)
                }),
                (e.readUint32 = function (e, t) {
                  e.data && ((t += e.start), (e = e.data))
                  var r =
                    (e[t] << 24) |
                    (e[t + 1] << 16) |
                    (e[t + 2] << 8) |
                    e[t + 3]
                  return r < 0 ? 4294967296 + r : r
                }),
                (e.writeUint32 = function (e, t, r) {
                  e.data && ((t += e.start), (e = e.data)),
                    (e[t] = r >> 24),
                    (e[t + 1] = (r >> 16) & 255),
                    (e[t + 2] = (r >> 8) & 255),
                    (e[t + 3] = 255 & r)
                }),
                (e.findBox = function (t, r) {
                  var i,
                    n,
                    a,
                    o,
                    s,
                    u,
                    l,
                    c = []
                  if (
                    (t.data
                      ? ((u = t.start), (o = t.end), (t = t.data))
                      : ((u = 0), (o = t.byteLength)),
                    !r.length)
                  )
                    return null
                  for (i = u; i < o; )
                    (n = e.readUint32(t, i)),
                      (a = e.bin2str(t.subarray(i + 4, i + 8))),
                      (l = n > 1 ? i + n : o),
                      a === r[0] &&
                        (1 === r.length
                          ? c.push({ data: t, start: i + 8, end: l })
                          : ((s = e.findBox(
                              { data: t, start: i + 8, end: l },
                              r.slice(1)
                            )),
                            s.length && (c = c.concat(s)))),
                      (i = l)
                  return c
                }),
                (e.parseInitSegment = function (t) {
                  var r = []
                  return (
                    e.findBox(t, ['moov', 'trak']).forEach(function (t) {
                      var i = e.findBox(t, ['tkhd'])[0]
                      if (i) {
                        var n = i.data[i.start],
                          a = 0 === n ? 12 : 20,
                          o = e.readUint32(i, a),
                          s = e.findBox(t, ['mdia', 'mdhd'])[0]
                        if (s) {
                          ;(n = s.data[s.start]), (a = 0 === n ? 12 : 20)
                          var u = e.readUint32(s, a),
                            l = e.findBox(t, ['mdia', 'hdlr'])[0]
                          if (l) {
                            var c = e.bin2str(
                                l.data.subarray(l.start + 8, l.start + 12)
                              ),
                              d = { soun: 'audio', vide: 'video' }[c]
                            if (d) {
                              var f = e.findBox(t, [
                                'mdia',
                                'minf',
                                'stbl',
                                'stsd',
                              ])
                              if (f.length) {
                                f = f[0]
                                var h = e.bin2str(
                                  f.data.subarray(
                                    f.start + 12,
                                    f.start + 16
                                  )
                                )
                                k.b.log(
                                  'MP4Demuxer:' + d + ':' + h + ' found'
                                )
                              }
                              ;(r[o] = { timescale: u, type: d }),
                                (r[d] = { timescale: u, id: o })
                            }
                          }
                        }
                      }
                    }),
                    r
                  )
                }),
                (e.getStartDTS = function (t, r) {
                  var i, n, a
                  return (
                    (i = e.findBox(r, ['moof', 'traf'])),
                    (n = [].concat.apply(
                      [],
                      i.map(function (r) {
                        return e.findBox(r, ['tfhd']).map(function (i) {
                          var n, a
                          return (
                            (n = e.readUint32(i, 4)),
                            (a = t[n].timescale || 9e4),
                            e.findBox(r, ['tfdt']).map(function (t) {
                              var r, i
                              return (
                                (r = t.data[t.start]),
                                (i = e.readUint32(t, 4)),
                                1 === r &&
                                  ((i *= Math.pow(2, 32)),
                                  (i += e.readUint32(t, 8))),
                                i
                              )
                            })[0] / a
                          )
                        })
                      })
                    )),
                    (a = Math.min.apply(null, n)),
                    isFinite(a) ? a : 0
                  )
                }),
                (e.offsetStartDTS = function (t, r, i) {
                  e.findBox(r, ['moof', 'traf']).map(function (r) {
                    return e.findBox(r, ['tfhd']).map(function (n) {
                      var a = e.readUint32(n, 4),
                        o = t[a].timescale || 9e4
                      e.findBox(r, ['tfdt']).map(function (t) {
                        var r = t.data[t.start],
                          n = e.readUint32(t, 4)
                        if (0 === r) e.writeUint32(t, 4, n - i * o)
                        else {
                          ;(n *= Math.pow(2, 32)),
                            (n += e.readUint32(t, 8)),
                            (n -= i * o),
                            (n = Math.max(n, 0))
                          var a = Math.floor(n / (P + 1)),
                            s = Math.floor(n % (P + 1))
                          e.writeUint32(t, 4, a), e.writeUint32(t, 8, s)
                        }
                      })
                    })
                  })
                }),
                (e.prototype.append = function (t, r, i, n) {
                  var a = this.initData
                  a ||
                    (this.resetInitSegment(
                      t,
                      this.audioCodec,
                      this.videoCodec
                    ),
                    (a = this.initData))
                  var o = void 0,
                    s = this.initPTS
                  if (void 0 === s) {
                    var u = e.getStartDTS(a, t)
                    ;(this.initPTS = s = u - r),
                      this.observer.trigger(S.a.INIT_PTS_FOUND, {
                        initPTS: s,
                      })
                  }
                  e.offsetStartDTS(a, t, s),
                    (o = e.getStartDTS(a, t)),
                    this.remuxer.remux(
                      a.audio,
                      a.video,
                      null,
                      null,
                      o,
                      i,
                      n,
                      t
                    )
                }),
                (e.prototype.destroy = function () {}),
                e
              )
            })(),
            I = x,
            C = {
              BitratesMap: [
                32, 64, 96, 128, 160, 192, 224, 256, 288, 320, 352, 384,
                416, 448, 32, 48, 56, 64, 80, 96, 112, 128, 160, 192, 224,
                256, 320, 384, 32, 40, 48, 56, 64, 80, 96, 112, 128, 160,
                192, 224, 256, 320, 32, 48, 56, 64, 80, 96, 112, 128, 144,
                160, 176, 192, 224, 256, 8, 16, 24, 32, 40, 48, 56, 64, 80,
                96, 112, 128, 144, 160,
              ],
              SamplingRateMap: [
                44100, 48e3, 32e3, 22050, 24e3, 16e3, 11025, 12e3, 8e3,
              ],
              SamplesCoefficients: [
                [0, 72, 144, 12],
                [0, 0, 0, 0],
                [0, 72, 144, 12],
                [0, 144, 144, 12],
              ],
              BytesInSlot: [0, 1, 1, 4],
              appendFrame: function (e, t, r, i, n) {
                if (!(r + 24 > t.length)) {
                  var a = this.parseHeader(t, r)
                  if (a && r + a.frameLength <= t.length) {
                    var o = (9e4 * a.samplesPerFrame) / a.sampleRate,
                      s = i + n * o,
                      u = {
                        unit: t.subarray(r, r + a.frameLength),
                        pts: s,
                        dts: s,
                      }
                    return (
                      (e.config = []),
                      (e.channelCount = a.channelCount),
                      (e.samplerate = a.sampleRate),
                      e.samples.push(u),
                      (e.len += a.frameLength),
                      { sample: u, length: a.frameLength }
                    )
                  }
                }
              },
              parseHeader: function (e, t) {
                var r = (e[t + 1] >> 3) & 3,
                  i = (e[t + 1] >> 1) & 3,
                  n = (e[t + 2] >> 4) & 15,
                  a = (e[t + 2] >> 2) & 3,
                  o = (e[t + 2] >> 1) & 1
                if (1 !== r && 0 !== n && 15 !== n && 3 !== a) {
                  var s = 3 === r ? 3 - i : 3 === i ? 3 : 4,
                    u = 1e3 * C.BitratesMap[14 * s + n - 1],
                    l = 3 === r ? 0 : 2 === r ? 1 : 2,
                    c = C.SamplingRateMap[3 * l + a],
                    d = e[t + 3] >> 6 == 3 ? 1 : 2,
                    f = C.SamplesCoefficients[r][i],
                    h = C.BytesInSlot[i],
                    p = 8 * f * h
                  return {
                    sampleRate: c,
                    channelCount: d,
                    frameLength: parseInt((f * u) / c + o, 10) * h,
                    samplesPerFrame: p,
                  }
                }
              },
              isHeaderPattern: function (e, t) {
                return (
                  255 === e[t] &&
                  224 == (224 & e[t + 1]) &&
                  0 != (6 & e[t + 1])
                )
              },
              isHeader: function (e, t) {
                return !!(t + 1 < e.length && this.isHeaderPattern(e, t))
              },
              probe: function (e, t) {
                if (t + 1 < e.length && this.isHeaderPattern(e, t)) {
                  var r = this.parseHeader(e, t),
                    i = 4
                  r && r.frameLength && (i = r.frameLength)
                  var n = t + i
                  if (
                    n === e.length ||
                    (n + 1 < e.length && this.isHeaderPattern(e, n))
                  )
                    return !0
                }
                return !1
              },
            },
            M = C,
            N = (function () {
              function e(t) {
                v(this, e),
                  (this.data = t),
                  (this.bytesAvailable = t.byteLength),
                  (this.word = 0),
                  (this.bitsAvailable = 0)
              }
              return (
                (e.prototype.loadWord = function () {
                  var e = this.data,
                    t = this.bytesAvailable,
                    r = e.byteLength - t,
                    i = new Uint8Array(4),
                    n = Math.min(4, t)
                  if (0 === n) throw new Error('no bytes available')
                  i.set(e.subarray(r, r + n)),
                    (this.word = new DataView(i.buffer).getUint32(0)),
                    (this.bitsAvailable = 8 * n),
                    (this.bytesAvailable -= n)
                }),
                (e.prototype.skipBits = function (e) {
                  var t
                  this.bitsAvailable > e
                    ? ((this.word <<= e), (this.bitsAvailable -= e))
                    : ((e -= this.bitsAvailable),
                      (t = e >> 3),
                      (e -= t >> 3),
                      (this.bytesAvailable -= t),
                      this.loadWord(),
                      (this.word <<= e),
                      (this.bitsAvailable -= e))
                }),
                (e.prototype.readBits = function (e) {
                  var t = Math.min(this.bitsAvailable, e),
                    r = this.word >>> (32 - t)
                  return (
                    e > 32 &&
                      k.b.error('Cannot read more than 32 bits at a time'),
                    (this.bitsAvailable -= t),
                    this.bitsAvailable > 0
                      ? (this.word <<= t)
                      : this.bytesAvailable > 0 && this.loadWord(),
                    (t = e - t),
                    t > 0 && this.bitsAvailable
                      ? (r << t) | this.readBits(t)
                      : r
                  )
                }),
                (e.prototype.skipLZ = function () {
                  var e
                  for (e = 0; e < this.bitsAvailable; ++e)
                    if (0 != (this.word & (2147483648 >>> e)))
                      return (
                        (this.word <<= e), (this.bitsAvailable -= e), e
                      )
                  return this.loadWord(), e + this.skipLZ()
                }),
                (e.prototype.skipUEG = function () {
                  this.skipBits(1 + this.skipLZ())
                }),
                (e.prototype.skipEG = function () {
                  this.skipBits(1 + this.skipLZ())
                }),
                (e.prototype.readUEG = function () {
                  var e = this.skipLZ()
                  return this.readBits(e + 1) - 1
                }),
                (e.prototype.readEG = function () {
                  var e = this.readUEG()
                  return 1 & e ? (1 + e) >>> 1 : -1 * (e >>> 1)
                }),
                (e.prototype.readBoolean = function () {
                  return 1 === this.readBits(1)
                }),
                (e.prototype.readUByte = function () {
                  return this.readBits(8)
                }),
                (e.prototype.readUShort = function () {
                  return this.readBits(16)
                }),
                (e.prototype.readUInt = function () {
                  return this.readBits(32)
                }),
                (e.prototype.skipScalingList = function (e) {
                  var t,
                    r,
                    i = 8,
                    n = 8
                  for (t = 0; t < e; t++)
                    0 !== n &&
                      ((r = this.readEG()), (n = (i + r + 256) % 256)),
                      (i = 0 === n ? i : n)
                }),
                (e.prototype.readSPS = function () {
                  var e,
                    t,
                    r,
                    i,
                    n,
                    a,
                    o,
                    s = 0,
                    u = 0,
                    l = 0,
                    c = 0,
                    d = this.readUByte.bind(this),
                    f = this.readBits.bind(this),
                    h = this.readUEG.bind(this),
                    p = this.readBoolean.bind(this),
                    v = this.skipBits.bind(this),
                    g = this.skipEG.bind(this),
                    y = this.skipUEG.bind(this),
                    m = this.skipScalingList.bind(this)
                  if (
                    (d(),
                    (e = d()),
                    f(5),
                    v(3),
                    d(),
                    y(),
                    100 === e ||
                      110 === e ||
                      122 === e ||
                      244 === e ||
                      44 === e ||
                      83 === e ||
                      86 === e ||
                      118 === e ||
                      128 === e)
                  ) {
                    var _ = h()
                    if ((3 === _ && v(1), y(), y(), v(1), p()))
                      for (a = 3 !== _ ? 8 : 12, o = 0; o < a; o++)
                        p() && m(o < 6 ? 16 : 64)
                  }
                  y()
                  var b = h()
                  if (0 === b) h()
                  else if (1 === b)
                    for (v(1), g(), g(), t = h(), o = 0; o < t; o++) g()
                  y(),
                    v(1),
                    (r = h()),
                    (i = h()),
                    (n = f(1)),
                    0 === n && v(1),
                    v(1),
                    p() && ((s = h()), (u = h()), (l = h()), (c = h()))
                  var E = [1, 1]
                  if (p() && p()) {
                    switch (d()) {
                      case 1:
                        E = [1, 1]
                        break
                      case 2:
                        E = [12, 11]
                        break
                      case 3:
                        E = [10, 11]
                        break
                      case 4:
                        E = [16, 11]
                        break
                      case 5:
                        E = [40, 33]
                        break
                      case 6:
                        E = [24, 11]
                        break
                      case 7:
                        E = [20, 11]
                        break
                      case 8:
                        E = [32, 11]
                        break
                      case 9:
                        E = [80, 33]
                        break
                      case 10:
                        E = [18, 11]
                        break
                      case 11:
                        E = [15, 11]
                        break
                      case 12:
                        E = [64, 33]
                        break
                      case 13:
                        E = [160, 99]
                        break
                      case 14:
                        E = [4, 3]
                        break
                      case 15:
                        E = [3, 2]
                        break
                      case 16:
                        E = [2, 1]
                        break
                      case 255:
                        E = [(d() << 8) | d(), (d() << 8) | d()]
                    }
                  }
                  return {
                    width: Math.ceil(16 * (r + 1) - 2 * s - 2 * u),
                    height: (2 - n) * (i + 1) * 16 - (n ? 2 : 4) * (l + c),
                    pixelRatio: E,
                  }
                }),
                (e.prototype.readSliceType = function () {
                  return this.readUByte(), this.readUEG(), this.readUEG()
                }),
                e
              )
            })(),
            F = N,
            U = (function () {
              function e(t, r, i, n) {
                g(this, e),
                  (this.decryptdata = i),
                  (this.discardEPB = n),
                  (this.decrypter = new R.a(t, r))
              }
              return (
                (e.prototype.decryptBuffer = function (e, t) {
                  this.decrypter.decrypt(
                    e,
                    this.decryptdata.key.buffer,
                    this.decryptdata.iv.buffer,
                    t
                  )
                }),
                (e.prototype.decryptAacSample = function (e, t, r, i) {
                  var n = e[t].unit,
                    a = n.subarray(16, n.length - (n.length % 16)),
                    o = a.buffer.slice(
                      a.byteOffset,
                      a.byteOffset + a.length
                    ),
                    s = this
                  this.decryptBuffer(o, function (a) {
                    ;(a = new Uint8Array(a)),
                      n.set(a, 16),
                      i || s.decryptAacSamples(e, t + 1, r)
                  })
                }),
                (e.prototype.decryptAacSamples = function (e, t, r) {
                  for (; ; t++) {
                    if (t >= e.length) return void r()
                    if (!(e[t].unit.length < 32)) {
                      var i = this.decrypter.isSync()
                      if ((this.decryptAacSample(e, t, r, i), !i)) return
                    }
                  }
                }),
                (e.prototype.getAvcEncryptedData = function (e) {
                  for (
                    var t = 16 * Math.floor((e.length - 48) / 160) + 16,
                      r = new Int8Array(t),
                      i = 0,
                      n = 32;
                    n <= e.length - 16;
                    n += 160, i += 16
                  )
                    r.set(e.subarray(n, n + 16), i)
                  return r
                }),
                (e.prototype.getAvcDecryptedUnit = function (e, t) {
                  t = new Uint8Array(t)
                  for (
                    var r = 0, i = 32;
                    i <= e.length - 16;
                    i += 160, r += 16
                  )
                    e.set(t.subarray(r, r + 16), i)
                  return e
                }),
                (e.prototype.decryptAvcSample = function (
                  e,
                  t,
                  r,
                  i,
                  n,
                  a
                ) {
                  var o = this.discardEPB(n.data),
                    s = this.getAvcEncryptedData(o),
                    u = this
                  this.decryptBuffer(s.buffer, function (s) {
                    ;(n.data = u.getAvcDecryptedUnit(o, s)),
                      a || u.decryptAvcSamples(e, t, r + 1, i)
                  })
                }),
                (e.prototype.decryptAvcSamples = function (e, t, r, i) {
                  for (; ; t++, r = 0) {
                    if (t >= e.length) return void i()
                    for (var n = e[t].units; !(r >= n.length); r++) {
                      var a = n[r]
                      if (
                        !(a.length <= 48 || (1 !== a.type && 5 !== a.type))
                      ) {
                        var o = this.decrypter.isSync()
                        if ((this.decryptAvcSample(e, t, r, i, a, o), !o))
                          return
                      }
                    }
                  }
                }),
                e
              )
            })(),
            B = U,
            j = { video: 0, audio: 1, id3: 2, text: 3 },
            G = (function () {
              function e(t, r, i, n) {
                y(this, e),
                  (this.observer = t),
                  (this.config = i),
                  (this.typeSupported = n),
                  (this.remuxer = r),
                  (this.sampleAes = null)
              }
              return (
                (e.prototype.setDecryptData = function (e) {
                  null != e && null != e.key && 'SAMPLE-AES' === e.method
                    ? (this.sampleAes = new B(
                        this.observer,
                        this.config,
                        e,
                        this.discardEPB
                      ))
                    : (this.sampleAes = null)
                }),
                (e.probe = function (t) {
                  var r = e._syncOffset(t)
                  return (
                    !(r < 0) &&
                    (r &&
                      k.b.warn(
                        'MPEG2-TS detected but first sync word found @ offset ' +
                          r +
                          ', junk ahead ?'
                      ),
                    !0)
                  )
                }),
                (e._syncOffset = function (e) {
                  for (
                    var t = Math.min(1e3, e.length - 564), r = 0;
                    r < t;

                  ) {
                    if (
                      71 === e[r] &&
                      71 === e[r + 188] &&
                      71 === e[r + 376]
                    )
                      return r
                    r++
                  }
                  return -1
                }),
                (e.createTrack = function (e, t) {
                  return {
                    container:
                      'video' === e || 'audio' === e
                        ? 'video/mp2t'
                        : void 0,
                    type: e,
                    id: j[e],
                    pid: -1,
                    inputTimeScale: 9e4,
                    sequenceNumber: 0,
                    samples: [],
                    len: 0,
                    dropped: 'video' === e ? 0 : void 0,
                    isAAC: 'audio' === e || void 0,
                    duration: 'audio' === e ? t : void 0,
                  }
                }),
                (e.prototype.resetInitSegment = function (t, r, i, n) {
                  ;(this.pmtParsed = !1),
                    (this._pmtId = -1),
                    (this._avcTrack = e.createTrack('video', n)),
                    (this._audioTrack = e.createTrack('audio', n)),
                    (this._id3Track = e.createTrack('id3', n)),
                    (this._txtTrack = e.createTrack('text', n)),
                    (this.aacOverFlow = null),
                    (this.aacLastPTS = null),
                    (this.avcSample = null),
                    (this.audioCodec = r),
                    (this.videoCodec = i),
                    (this._duration = n)
                }),
                (e.prototype.resetTimeStamp = function () {}),
                (e.prototype.append = function (t, r, i, n) {
                  var a,
                    o,
                    s,
                    u,
                    l,
                    c = t.length,
                    d = !1
                  this.contiguous = i
                  var f = this.pmtParsed,
                    h = this._avcTrack,
                    p = this._audioTrack,
                    v = this._id3Track,
                    g = h.pid,
                    y = p.pid,
                    m = v.pid,
                    _ = this._pmtId,
                    b = h.pesData,
                    E = p.pesData,
                    w = v.pesData,
                    T = this._parsePAT,
                    R = this._parsePMT,
                    D = this._parsePES,
                    O = this._parseAVCPES.bind(this),
                    L = this._parseAACPES.bind(this),
                    P = this._parseMPEGPES.bind(this),
                    x = this._parseID3PES.bind(this),
                    I = e._syncOffset(t)
                  for (c -= (c + I) % 188, a = I; a < c; a += 188)
                    if (71 === t[a]) {
                      if (
                        ((o = !!(64 & t[a + 1])),
                        (s = ((31 & t[a + 1]) << 8) + t[a + 2]),
                        (48 & t[a + 3]) >> 4 > 1)
                      ) {
                        if ((u = a + 5 + t[a + 4]) === a + 188) continue
                      } else u = a + 4
                      switch (s) {
                        case g:
                          o &&
                            (b && (l = D(b)) && O(l, !1),
                            (b = { data: [], size: 0 })),
                            b &&
                              (b.data.push(t.subarray(u, a + 188)),
                              (b.size += a + 188 - u))
                          break
                        case y:
                          o &&
                            (E && (l = D(E)) && (p.isAAC ? L(l) : P(l)),
                            (E = { data: [], size: 0 })),
                            E &&
                              (E.data.push(t.subarray(u, a + 188)),
                              (E.size += a + 188 - u))
                          break
                        case m:
                          o &&
                            (w && (l = D(w)) && x(l),
                            (w = { data: [], size: 0 })),
                            w &&
                              (w.data.push(t.subarray(u, a + 188)),
                              (w.size += a + 188 - u))
                          break
                        case 0:
                          o && (u += t[u] + 1), (_ = this._pmtId = T(t, u))
                          break
                        case _:
                          o && (u += t[u] + 1)
                          var C = R(
                            t,
                            u,
                            !0 === this.typeSupported.mpeg ||
                              !0 === this.typeSupported.mp3,
                            null != this.sampleAes
                          )
                          ;(g = C.avc),
                            g > 0 && (h.pid = g),
                            (y = C.audio),
                            y > 0 && ((p.pid = y), (p.isAAC = C.isAAC)),
                            (m = C.id3),
                            m > 0 && (v.pid = m),
                            d &&
                              !f &&
                              (k.b.log('reparse from beginning'),
                              (d = !1),
                              (a = I - 188)),
                            (f = this.pmtParsed = !0)
                          break
                        case 17:
                        case 8191:
                          break
                        default:
                          d = !0
                      }
                    } else
                      this.observer.trigger(S.a.ERROR, {
                        type: A.b.MEDIA_ERROR,
                        details: A.a.FRAG_PARSING_ERROR,
                        fatal: !1,
                        reason: 'TS packet did not start with 0x47',
                      })
                  b && (l = D(b))
                    ? (O(l, !0), (h.pesData = null))
                    : (h.pesData = b),
                    E && (l = D(E))
                      ? (p.isAAC ? L(l) : P(l), (p.pesData = null))
                      : (E &&
                          E.size &&
                          k.b.log(
                            'last AAC PES packet truncated,might overlap between fragments'
                          ),
                        (p.pesData = E)),
                    w && (l = D(w))
                      ? (x(l), (v.pesData = null))
                      : (v.pesData = w),
                    null == this.sampleAes
                      ? this.remuxer.remux(
                          p,
                          h,
                          v,
                          this._txtTrack,
                          r,
                          i,
                          n
                        )
                      : this.decryptAndRemux(
                          p,
                          h,
                          v,
                          this._txtTrack,
                          r,
                          i,
                          n
                        )
                }),
                (e.prototype.decryptAndRemux = function (
                  e,
                  t,
                  r,
                  i,
                  n,
                  a,
                  o
                ) {
                  if (e.samples && e.isAAC) {
                    var s = this
                    this.sampleAes.decryptAacSamples(
                      e.samples,
                      0,
                      function () {
                        s.decryptAndRemuxAvc(e, t, r, i, n, a, o)
                      }
                    )
                  } else this.decryptAndRemuxAvc(e, t, r, i, n, a, o)
                }),
                (e.prototype.decryptAndRemuxAvc = function (
                  e,
                  t,
                  r,
                  i,
                  n,
                  a,
                  o
                ) {
                  if (t.samples) {
                    var s = this
                    this.sampleAes.decryptAvcSamples(
                      t.samples,
                      0,
                      0,
                      function () {
                        s.remuxer.remux(e, t, r, i, n, a, o)
                      }
                    )
                  } else this.remuxer.remux(e, t, r, i, n, a, o)
                }),
                (e.prototype.destroy = function () {
                  ;(this._initPTS = this._initDTS = void 0),
                    (this._duration = 0)
                }),
                (e.prototype._parsePAT = function (e, t) {
                  return ((31 & e[t + 10]) << 8) | e[t + 11]
                }),
                (e.prototype._parsePMT = function (e, t, r, i) {
                  var n,
                    a,
                    o,
                    s,
                    u = { audio: -1, avc: -1, id3: -1, isAAC: !0 }
                  for (
                    n = ((15 & e[t + 1]) << 8) | e[t + 2],
                      a = t + 3 + n - 4,
                      o = ((15 & e[t + 10]) << 8) | e[t + 11],
                      t += 12 + o;
                    t < a;

                  ) {
                    switch (
                      ((s = ((31 & e[t + 1]) << 8) | e[t + 2]), e[t])
                    ) {
                      case 207:
                        if (!i) {
                          k.b.log('unkown stream type:' + e[t])
                          break
                        }
                      case 15:
                        ;-1 === u.audio && (u.audio = s)
                        break
                      case 21:
                        ;-1 === u.id3 && (u.id3 = s)
                        break
                      case 219:
                        if (!i) {
                          k.b.log('unkown stream type:' + e[t])
                          break
                        }
                      case 27:
                        ;-1 === u.avc && (u.avc = s)
                        break
                      case 3:
                      case 4:
                        r
                          ? -1 === u.audio &&
                            ((u.audio = s), (u.isAAC = !1))
                          : k.b.log(
                              'MPEG audio found, not supported in this browser for now'
                            )
                        break
                      case 36:
                        k.b.warn(
                          'HEVC stream type found, not supported for now'
                        )
                        break
                      default:
                        k.b.log('unkown stream type:' + e[t])
                    }
                    t += 5 + (((15 & e[t + 3]) << 8) | e[t + 4])
                  }
                  return u
                }),
                (e.prototype._parsePES = function (e) {
                  var t,
                    r,
                    i,
                    n,
                    a,
                    o,
                    s,
                    u,
                    l = 0,
                    c = e.data
                  if (!e || 0 === e.size) return null
                  for (; c[0].length < 19 && c.length > 1; ) {
                    var d = new Uint8Array(c[0].length + c[1].length)
                    d.set(c[0]),
                      d.set(c[1], c[0].length),
                      (c[0] = d),
                      c.splice(1, 1)
                  }
                  if (
                    ((t = c[0]), 1 === (t[0] << 16) + (t[1] << 8) + t[2])
                  ) {
                    if ((i = (t[4] << 8) + t[5]) && i > e.size - 6)
                      return null
                    ;(r = t[7]),
                      192 & r &&
                        ((o =
                          536870912 * (14 & t[9]) +
                          4194304 * (255 & t[10]) +
                          16384 * (254 & t[11]) +
                          128 * (255 & t[12]) +
                          (254 & t[13]) / 2),
                        o > 4294967295 && (o -= 8589934592),
                        64 & r
                          ? ((s =
                              536870912 * (14 & t[14]) +
                              4194304 * (255 & t[15]) +
                              16384 * (254 & t[16]) +
                              128 * (255 & t[17]) +
                              (254 & t[18]) / 2),
                            s > 4294967295 && (s -= 8589934592),
                            o - s > 54e5 &&
                              (k.b.warn(
                                Math.round((o - s) / 9e4) +
                                  's delta between PTS and DTS, align them'
                              ),
                              (o = s)))
                          : (s = o)),
                      (n = t[8]),
                      (u = n + 9),
                      (e.size -= u),
                      (a = new Uint8Array(e.size))
                    for (var f = 0, h = c.length; f < h; f++) {
                      t = c[f]
                      var p = t.byteLength
                      if (u) {
                        if (u > p) {
                          u -= p
                          continue
                        }
                        ;(t = t.subarray(u)), (p -= u), (u = 0)
                      }
                      a.set(t, l), (l += p)
                    }
                    return (
                      i && (i -= n + 3),
                      { data: a, pts: o, dts: s, len: i }
                    )
                  }
                  return null
                }),
                (e.prototype.pushAccesUnit = function (e, t) {
                  if (e.units.length && e.frame) {
                    var r = t.samples,
                      i = r.length
                    !this.config.forceKeyFrameOnDiscontinuity ||
                    !0 === e.key ||
                    (t.sps && (i || this.contiguous))
                      ? ((e.id = i), r.push(e))
                      : t.dropped++
                  }
                  e.debug.length &&
                    k.b.log(e.pts + '/' + e.dts + ':' + e.debug)
                }),
                (e.prototype._parseAVCPES = function (e, t) {
                  var r,
                    i,
                    n,
                    a = this,
                    o = this._avcTrack,
                    s = this._parseAVCNALu(e.data),
                    u = this.avcSample,
                    l = !1,
                    c = this.pushAccesUnit.bind(this),
                    d = function (e, t, r, i) {
                      return {
                        key: e,
                        pts: t,
                        dts: r,
                        units: [],
                        debug: i,
                      }
                    }
                  ;(e.data = null),
                    u &&
                      s.length &&
                      !o.audFound &&
                      (c(u, o),
                      (u = this.avcSample = d(!1, e.pts, e.dts, ''))),
                    s.forEach(function (t) {
                      switch (t.type) {
                        case 1:
                          ;(i = !0),
                            u ||
                              (u = a.avcSample = d(!0, e.pts, e.dts, '')),
                            (u.frame = !0)
                          var s = t.data
                          if (l && s.length > 4) {
                            var f = new F(s).readSliceType()
                            ;(2 !== f && 4 !== f && 7 !== f && 9 !== f) ||
                              (u.key = !0)
                          }
                          break
                        case 5:
                          ;(i = !0),
                            u ||
                              (u = a.avcSample = d(!0, e.pts, e.dts, '')),
                            (u.key = !0),
                            (u.frame = !0)
                          break
                        case 6:
                          ;(i = !0),
                            (r = new F(a.discardEPB(t.data))),
                            r.readUByte()
                          for (
                            var h = 0, p = 0, v = !1, g = 0;
                            !v && r.bytesAvailable > 1;

                          ) {
                            h = 0
                            do {
                              ;(g = r.readUByte()), (h += g)
                            } while (255 === g)
                            p = 0
                            do {
                              ;(g = r.readUByte()), (p += g)
                            } while (255 === g)
                            if (4 === h && 0 !== r.bytesAvailable) {
                              v = !0
                              if (181 === r.readUByte()) {
                                if (49 === r.readUShort()) {
                                  if (1195456820 === r.readUInt()) {
                                    if (3 === r.readUByte()) {
                                      var y = r.readUByte(),
                                        m = r.readUByte(),
                                        _ = 31 & y,
                                        b = [y, m]
                                      for (n = 0; n < _; n++)
                                        b.push(r.readUByte()),
                                          b.push(r.readUByte()),
                                          b.push(r.readUByte())
                                      a._insertSampleInOrder(
                                        a._txtTrack.samples,
                                        { type: 3, pts: e.pts, bytes: b }
                                      )
                                    }
                                  }
                                }
                              }
                            } else if (p < r.bytesAvailable)
                              for (n = 0; n < p; n++) r.readUByte()
                          }
                          break
                        case 7:
                          if (((i = !0), (l = !0), !o.sps)) {
                            r = new F(t.data)
                            var E = r.readSPS()
                            ;(o.width = E.width),
                              (o.height = E.height),
                              (o.pixelRatio = E.pixelRatio),
                              (o.sps = [t.data]),
                              (o.duration = a._duration)
                            var w = t.data.subarray(1, 4),
                              T = 'avc1.'
                            for (n = 0; n < 3; n++) {
                              var S = w[n].toString(16)
                              S.length < 2 && (S = '0' + S), (T += S)
                            }
                            o.codec = T
                          }
                          break
                        case 8:
                          ;(i = !0), o.pps || (o.pps = [t.data])
                          break
                        case 9:
                          ;(i = !1),
                            (o.audFound = !0),
                            u && c(u, o),
                            (u = a.avcSample = d(!1, e.pts, e.dts, ''))
                          break
                        case 12:
                          i = !1
                          break
                        default:
                          ;(i = !1),
                            u && (u.debug += 'unknown NAL ' + t.type + ' ')
                      }
                      if (u && i) {
                        u.units.push(t)
                      }
                    }),
                    t && u && (c(u, o), (this.avcSample = null))
                }),
                (e.prototype._insertSampleInOrder = function (e, t) {
                  var r = e.length
                  if (r > 0) {
                    if (t.pts >= e[r - 1].pts) e.push(t)
                    else
                      for (var i = r - 1; i >= 0; i--)
                        if (t.pts < e[i].pts) {
                          e.splice(i, 0, t)
                          break
                        }
                  } else e.push(t)
                }),
                (e.prototype._getLastNalUnit = function () {
                  var e = this.avcSample,
                    t = void 0
                  if (!e || 0 === e.units.length) {
                    var r = this._avcTrack,
                      i = r.samples
                    e = i[i.length - 1]
                  }
                  if (e) {
                    var n = e.units
                    t = n[n.length - 1]
                  }
                  return t
                }),
                (e.prototype._parseAVCNALu = function (e) {
                  var t,
                    r,
                    i,
                    n,
                    a,
                    o = 0,
                    s = e.byteLength,
                    u = this._avcTrack,
                    l = u.naluState || 0,
                    c = l,
                    d = [],
                    f = -1
                  for (
                    -1 === l &&
                    ((f = 0), (a = 31 & e[0]), (l = 0), (o = 1));
                    o < s;

                  )
                    if (((t = e[o++]), l))
                      if (1 !== l)
                        if (t)
                          if (1 === t) {
                            if (f >= 0)
                              (i = {
                                data: e.subarray(f, o - l - 1),
                                type: a,
                              }),
                                d.push(i)
                            else {
                              var h = this._getLastNalUnit()
                              if (
                                h &&
                                (c &&
                                  o <= 4 - c &&
                                  h.state &&
                                  (h.data = h.data.subarray(
                                    0,
                                    h.data.byteLength - c
                                  )),
                                (r = o - l - 1) > 0)
                              ) {
                                var p = new Uint8Array(
                                  h.data.byteLength + r
                                )
                                p.set(h.data, 0),
                                  p.set(
                                    e.subarray(0, r),
                                    h.data.byteLength
                                  ),
                                  (h.data = p)
                              }
                            }
                            o < s
                              ? ((n = 31 & e[o]),
                                (f = o),
                                (a = n),
                                (l = 0))
                              : (l = -1)
                          } else l = 0
                        else l = 3
                      else l = t ? 0 : 2
                    else l = t ? 0 : 1
                  if (
                    (f >= 0 &&
                      l >= 0 &&
                      ((i = { data: e.subarray(f, s), type: a, state: l }),
                      d.push(i)),
                    0 === d.length)
                  ) {
                    var v = this._getLastNalUnit()
                    if (v) {
                      var g = new Uint8Array(
                        v.data.byteLength + e.byteLength
                      )
                      g.set(v.data, 0),
                        g.set(e, v.data.byteLength),
                        (v.data = g)
                    }
                  }
                  return (u.naluState = l), d
                }),
                (e.prototype.discardEPB = function (e) {
                  for (
                    var t, r, i = e.byteLength, n = [], a = 1;
                    a < i - 2;

                  )
                    0 === e[a] && 0 === e[a + 1] && 3 === e[a + 2]
                      ? (n.push(a + 2), (a += 2))
                      : a++
                  if (0 === n.length) return e
                  ;(t = i - n.length), (r = new Uint8Array(t))
                  var o = 0
                  for (a = 0; a < t; o++, a++)
                    o === n[0] && (o++, n.shift()), (r[a] = e[o])
                  return r
                }),
                (e.prototype._parseAACPES = function (e) {
                  var t,
                    r,
                    i,
                    n,
                    a,
                    o = this._audioTrack,
                    u = e.data,
                    d = e.pts,
                    h = this.aacOverFlow,
                    p = this.aacLastPTS
                  if (h) {
                    var v = new Uint8Array(h.byteLength + u.byteLength)
                    v.set(h, 0), v.set(u, h.byteLength), (u = v)
                  }
                  for (i = 0, a = u.length; i < a - 1 && !s(u, i); i++);
                  if (i) {
                    var g, y
                    if (
                      (i < a - 1
                        ? ((g =
                            'AAC PES did not start with ADTS header,offset:' +
                            i),
                          (y = !1))
                        : ((g = 'no ADTS header found in AAC PES'),
                          (y = !0)),
                      k.b.warn('parsing error:' + g),
                      this.observer.trigger(S.a.ERROR, {
                        type: A.b.MEDIA_ERROR,
                        details: A.a.FRAG_PARSING_ERROR,
                        fatal: y,
                        reason: g,
                      }),
                      y)
                    )
                      return
                  }
                  if (
                    (l(o, this.observer, u, i, this.audioCodec),
                    (r = 0),
                    (t = c(o.samplerate)),
                    h && p)
                  ) {
                    var m = p + t
                    Math.abs(m - d) > 1 &&
                      (k.b.log(
                        'AAC: align PTS for overlapping frames by ' +
                          Math.round((m - d) / 90)
                      ),
                      (d = m))
                  }
                  for (; i < a; )
                    if (s(u, i) && i + 5 < a) {
                      var _ = f(o, u, i, d, r)
                      if (!_) break
                      ;(i += _.length), (n = _.sample.pts), r++
                    } else i++
                  ;(h = i < a ? u.subarray(i, a) : null),
                    (this.aacOverFlow = h),
                    (this.aacLastPTS = n)
                }),
                (e.prototype._parseMPEGPES = function (e) {
                  for (
                    var t = e.data, r = t.length, i = 0, n = 0, a = e.pts;
                    n < r;

                  )
                    if (M.isHeader(t, n)) {
                      var o = M.appendFrame(this._audioTrack, t, n, a, i)
                      if (!o) break
                      ;(n += o.length), i++
                    } else n++
                }),
                (e.prototype._parseID3PES = function (e) {
                  this._id3Track.samples.push(e)
                }),
                e
              )
            })(),
            H = G,
            q = (function () {
              function e(t, r, i) {
                m(this, e),
                  (this.observer = t),
                  (this.config = i),
                  (this.remuxer = r)
              }
              return (
                (e.prototype.resetInitSegment = function (e, t, r, i) {
                  this._audioTrack = {
                    container: 'audio/mpeg',
                    type: 'audio',
                    id: -1,
                    sequenceNumber: 0,
                    isAAC: !1,
                    samples: [],
                    len: 0,
                    manifestCodec: t,
                    duration: i,
                    inputTimeScale: 9e4,
                  }
                }),
                (e.prototype.resetTimeStamp = function () {}),
                (e.probe = function (e) {
                  var t,
                    r,
                    i = D.a.getID3Data(e, 0)
                  if (i && void 0 !== D.a.getTimeStamp(i))
                    for (
                      t = i.length, r = Math.min(e.length - 1, t + 100);
                      t < r;
                      t++
                    )
                      if (M.probe(e, t))
                        return k.b.log('MPEG Audio sync word found !'), !0
                  return !1
                }),
                (e.prototype.append = function (e, t, r, i) {
                  for (
                    var n = D.a.getID3Data(e, 0),
                      a = D.a.getTimeStamp(n),
                      o = a ? 90 * a : 9e4 * t,
                      s = n.length,
                      u = e.length,
                      l = 0,
                      c = 0,
                      d = this._audioTrack,
                      f = [{ pts: o, dts: o, data: n }];
                    s < u;

                  )
                    if (M.isHeader(e, s)) {
                      var h = M.appendFrame(d, e, s, o, l)
                      if (!h) break
                      ;(s += h.length), (c = h.sample.pts), l++
                    } else
                      D.a.isHeader(e, s)
                        ? ((n = D.a.getID3Data(e, s)),
                          f.push({ pts: c, dts: c, data: n }),
                          (s += n.length))
                        : s++
                  this.remuxer.remux(
                    d,
                    { samples: [] },
                    { samples: f, inputTimeScale: 9e4 },
                    { samples: [] },
                    t,
                    r,
                    i
                  )
                }),
                (e.prototype.destroy = function () {}),
                e
              )
            })(),
            V = q,
            K = (function () {
              function e() {
                _(this, e)
              }
              return (
                (e.getSilentFrame = function (e, t) {
                  switch (e) {
                    case 'mp4a.40.2':
                      if (1 === t)
                        return new Uint8Array([0, 200, 0, 128, 35, 128])
                      if (2 === t)
                        return new Uint8Array([
                          33, 0, 73, 144, 2, 25, 0, 35, 128,
                        ])
                      if (3 === t)
                        return new Uint8Array([
                          0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0,
                          142,
                        ])
                      if (4 === t)
                        return new Uint8Array([
                          0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0,
                          128, 44, 128, 8, 2, 56,
                        ])
                      if (5 === t)
                        return new Uint8Array([
                          0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0,
                          130, 48, 4, 153, 0, 33, 144, 2, 56,
                        ])
                      if (6 === t)
                        return new Uint8Array([
                          0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0,
                          130, 48, 4, 153, 0, 33, 144, 2, 0, 178, 0, 32, 8,
                          224,
                        ])
                      break
                    default:
                      if (1 === t)
                        return new Uint8Array([
                          1, 64, 34, 128, 163, 78, 230, 128, 186, 8, 0, 0,
                          0, 28, 6, 241, 193, 10, 90, 90, 90, 90, 90, 90,
                          90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90,
                          90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90,
                          90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 94,
                        ])
                      if (2 === t)
                        return new Uint8Array([
                          1, 64, 34, 128, 163, 94, 230, 128, 186, 8, 0, 0,
                          0, 0, 149, 0, 6, 241, 161, 10, 90, 90, 90, 90,
                          90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90,
                          90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90,
                          90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 94,
                        ])
                      if (3 === t)
                        return new Uint8Array([
                          1, 64, 34, 128, 163, 94, 230, 128, 186, 8, 0, 0,
                          0, 0, 149, 0, 6, 241, 161, 10, 90, 90, 90, 90,
                          90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90,
                          90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90,
                          90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 94,
                        ])
                  }
                  return null
                }),
                e
              )
            })(),
            z = K,
            W = Math.pow(2, 32) - 1,
            Y = (function () {
              function e() {
                b(this, e)
              }
              return (
                (e.init = function () {
                  e.types = {
                    'avc1': [],
                    'avcC': [],
                    'btrt': [],
                    'dinf': [],
                    'dref': [],
                    'esds': [],
                    'ftyp': [],
                    'hdlr': [],
                    'mdat': [],
                    'mdhd': [],
                    'mdia': [],
                    'mfhd': [],
                    'minf': [],
                    'moof': [],
                    'moov': [],
                    'mp4a': [],
                    '.mp3': [],
                    'mvex': [],
                    'mvhd': [],
                    'pasp': [],
                    'sdtp': [],
                    'stbl': [],
                    'stco': [],
                    'stsc': [],
                    'stsd': [],
                    'stsz': [],
                    'stts': [],
                    'tfdt': [],
                    'tfhd': [],
                    'traf': [],
                    'trak': [],
                    'trun': [],
                    'trex': [],
                    'tkhd': [],
                    'vmhd': [],
                    'smhd': [],
                  }
                  var t
                  for (t in e.types)
                    e.types.hasOwnProperty(t) &&
                      (e.types[t] = [
                        t.charCodeAt(0),
                        t.charCodeAt(1),
                        t.charCodeAt(2),
                        t.charCodeAt(3),
                      ])
                  var r = new Uint8Array([
                      0, 0, 0, 0, 0, 0, 0, 0, 118, 105, 100, 101, 0, 0, 0,
                      0, 0, 0, 0, 0, 0, 0, 0, 0, 86, 105, 100, 101, 111,
                      72, 97, 110, 100, 108, 101, 114, 0,
                    ]),
                    i = new Uint8Array([
                      0, 0, 0, 0, 0, 0, 0, 0, 115, 111, 117, 110, 0, 0, 0,
                      0, 0, 0, 0, 0, 0, 0, 0, 0, 83, 111, 117, 110, 100,
                      72, 97, 110, 100, 108, 101, 114, 0,
                    ])
                  e.HDLR_TYPES = { video: r, audio: i }
                  var n = new Uint8Array([
                      0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 12, 117, 114, 108,
                      32, 0, 0, 0, 1,
                    ]),
                    a = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0])
                  ;(e.STTS = e.STSC = e.STCO = a),
                    (e.STSZ = new Uint8Array([
                      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
                    ])),
                    (e.VMHD = new Uint8Array([
                      0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0,
                    ])),
                    (e.SMHD = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0])),
                    (e.STSD = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1]))
                  var o = new Uint8Array([105, 115, 111, 109]),
                    s = new Uint8Array([97, 118, 99, 49]),
                    u = new Uint8Array([0, 0, 0, 1])
                  ;(e.FTYP = e.box(e.types.ftyp, o, u, o, s)),
                    (e.DINF = e.box(e.types.dinf, e.box(e.types.dref, n)))
                }),
                (e.box = function (e) {
                  for (
                    var t,
                      r = Array.prototype.slice.call(arguments, 1),
                      i = 8,
                      n = r.length,
                      a = n;
                    n--;

                  )
                    i += r[n].byteLength
                  for (
                    t = new Uint8Array(i),
                      t[0] = (i >> 24) & 255,
                      t[1] = (i >> 16) & 255,
                      t[2] = (i >> 8) & 255,
                      t[3] = 255 & i,
                      t.set(e, 4),
                      n = 0,
                      i = 8;
                    n < a;
                    n++
                  )
                    t.set(r[n], i), (i += r[n].byteLength)
                  return t
                }),
                (e.hdlr = function (t) {
                  return e.box(e.types.hdlr, e.HDLR_TYPES[t])
                }),
                (e.mdat = function (t) {
                  return e.box(e.types.mdat, t)
                }),
                (e.mdhd = function (t, r) {
                  r *= t
                  var i = Math.floor(r / (W + 1)),
                    n = Math.floor(r % (W + 1))
                  return e.box(
                    e.types.mdhd,
                    new Uint8Array([
                      1,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      2,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      3,
                      (t >> 24) & 255,
                      (t >> 16) & 255,
                      (t >> 8) & 255,
                      255 & t,
                      i >> 24,
                      (i >> 16) & 255,
                      (i >> 8) & 255,
                      255 & i,
                      n >> 24,
                      (n >> 16) & 255,
                      (n >> 8) & 255,
                      255 & n,
                      85,
                      196,
                      0,
                      0,
                    ])
                  )
                }),
                (e.mdia = function (t) {
                  return e.box(
                    e.types.mdia,
                    e.mdhd(t.timescale, t.duration),
                    e.hdlr(t.type),
                    e.minf(t)
                  )
                }),
                (e.mfhd = function (t) {
                  return e.box(
                    e.types.mfhd,
                    new Uint8Array([
                      0,
                      0,
                      0,
                      0,
                      t >> 24,
                      (t >> 16) & 255,
                      (t >> 8) & 255,
                      255 & t,
                    ])
                  )
                }),
                (e.minf = function (t) {
                  return 'audio' === t.type
                    ? e.box(
                        e.types.minf,
                        e.box(e.types.smhd, e.SMHD),
                        e.DINF,
                        e.stbl(t)
                      )
                    : e.box(
                        e.types.minf,
                        e.box(e.types.vmhd, e.VMHD),
                        e.DINF,
                        e.stbl(t)
                      )
                }),
                (e.moof = function (t, r, i) {
                  return e.box(e.types.moof, e.mfhd(t), e.traf(i, r))
                }),
                (e.moov = function (t) {
                  for (var r = t.length, i = []; r--; ) i[r] = e.trak(t[r])
                  return e.box.apply(
                    null,
                    [e.types.moov, e.mvhd(t[0].timescale, t[0].duration)]
                      .concat(i)
                      .concat(e.mvex(t))
                  )
                }),
                (e.mvex = function (t) {
                  for (var r = t.length, i = []; r--; ) i[r] = e.trex(t[r])
                  return e.box.apply(null, [e.types.mvex].concat(i))
                }),
                (e.mvhd = function (t, r) {
                  r *= t
                  var i = Math.floor(r / (W + 1)),
                    n = Math.floor(r % (W + 1)),
                    a = new Uint8Array([
                      1,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      2,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      3,
                      (t >> 24) & 255,
                      (t >> 16) & 255,
                      (t >> 8) & 255,
                      255 & t,
                      i >> 24,
                      (i >> 16) & 255,
                      (i >> 8) & 255,
                      255 & i,
                      n >> 24,
                      (n >> 16) & 255,
                      (n >> 8) & 255,
                      255 & n,
                      0,
                      1,
                      0,
                      0,
                      1,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      1,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      1,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      64,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      255,
                      255,
                      255,
                      255,
                    ])
                  return e.box(e.types.mvhd, a)
                }),
                (e.sdtp = function (t) {
                  var r,
                    i,
                    n = t.samples || [],
                    a = new Uint8Array(4 + n.length)
                  for (i = 0; i < n.length; i++)
                    (r = n[i].flags),
                      (a[i + 4] =
                        (r.dependsOn << 4) |
                        (r.isDependedOn << 2) |
                        r.hasRedundancy)
                  return e.box(e.types.sdtp, a)
                }),
                (e.stbl = function (t) {
                  return e.box(
                    e.types.stbl,
                    e.stsd(t),
                    e.box(e.types.stts, e.STTS),
                    e.box(e.types.stsc, e.STSC),
                    e.box(e.types.stsz, e.STSZ),
                    e.box(e.types.stco, e.STCO)
                  )
                }),
                (e.avc1 = function (t) {
                  var r,
                    i,
                    n,
                    a = [],
                    o = []
                  for (r = 0; r < t.sps.length; r++)
                    (i = t.sps[r]),
                      (n = i.byteLength),
                      a.push((n >>> 8) & 255),
                      a.push(255 & n),
                      (a = a.concat(Array.prototype.slice.call(i)))
                  for (r = 0; r < t.pps.length; r++)
                    (i = t.pps[r]),
                      (n = i.byteLength),
                      o.push((n >>> 8) & 255),
                      o.push(255 & n),
                      (o = o.concat(Array.prototype.slice.call(i)))
                  var s = e.box(
                      e.types.avcC,
                      new Uint8Array(
                        [1, a[3], a[4], a[5], 255, 224 | t.sps.length]
                          .concat(a)
                          .concat([t.pps.length])
                          .concat(o)
                      )
                    ),
                    u = t.width,
                    l = t.height,
                    c = t.pixelRatio[0],
                    d = t.pixelRatio[1]
                  return e.box(
                    e.types.avc1,
                    new Uint8Array([
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      1,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      (u >> 8) & 255,
                      255 & u,
                      (l >> 8) & 255,
                      255 & l,
                      0,
                      72,
                      0,
                      0,
                      0,
                      72,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      1,
                      18,
                      100,
                      97,
                      105,
                      108,
                      121,
                      109,
                      111,
                      116,
                      105,
                      111,
                      110,
                      47,
                      104,
                      108,
                      115,
                      46,
                      106,
                      115,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      24,
                      17,
                      17,
                    ]),
                    s,
                    e.box(
                      e.types.btrt,
                      new Uint8Array([
                        0, 28, 156, 128, 0, 45, 198, 192, 0, 45, 198, 192,
                      ])
                    ),
                    e.box(
                      e.types.pasp,
                      new Uint8Array([
                        c >> 24,
                        (c >> 16) & 255,
                        (c >> 8) & 255,
                        255 & c,
                        d >> 24,
                        (d >> 16) & 255,
                        (d >> 8) & 255,
                        255 & d,
                      ])
                    )
                  )
                }),
                (e.esds = function (e) {
                  var t = e.config.length
                  return new Uint8Array(
                    [
                      0,
                      0,
                      0,
                      0,
                      3,
                      23 + t,
                      0,
                      1,
                      0,
                      4,
                      15 + t,
                      64,
                      21,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      5,
                    ]
                      .concat([t])
                      .concat(e.config)
                      .concat([6, 1, 2])
                  )
                }),
                (e.mp4a = function (t) {
                  var r = t.samplerate
                  return e.box(
                    e.types.mp4a,
                    new Uint8Array([
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      1,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      t.channelCount,
                      0,
                      16,
                      0,
                      0,
                      0,
                      0,
                      (r >> 8) & 255,
                      255 & r,
                      0,
                      0,
                    ]),
                    e.box(e.types.esds, e.esds(t))
                  )
                }),
                (e.mp3 = function (t) {
                  var r = t.samplerate
                  return e.box(
                    e.types['.mp3'],
                    new Uint8Array([
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      1,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      t.channelCount,
                      0,
                      16,
                      0,
                      0,
                      0,
                      0,
                      (r >> 8) & 255,
                      255 & r,
                      0,
                      0,
                    ])
                  )
                }),
                (e.stsd = function (t) {
                  return 'audio' === t.type
                    ? t.isAAC || 'mp3' !== t.codec
                      ? e.box(e.types.stsd, e.STSD, e.mp4a(t))
                      : e.box(e.types.stsd, e.STSD, e.mp3(t))
                    : e.box(e.types.stsd, e.STSD, e.avc1(t))
                }),
                (e.tkhd = function (t) {
                  var r = t.id,
                    i = t.duration * t.timescale,
                    n = t.width,
                    a = t.height,
                    o = Math.floor(i / (W + 1)),
                    s = Math.floor(i % (W + 1))
                  return e.box(
                    e.types.tkhd,
                    new Uint8Array([
                      1,
                      0,
                      0,
                      7,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      2,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      3,
                      (r >> 24) & 255,
                      (r >> 16) & 255,
                      (r >> 8) & 255,
                      255 & r,
                      0,
                      0,
                      0,
                      0,
                      o >> 24,
                      (o >> 16) & 255,
                      (o >> 8) & 255,
                      255 & o,
                      s >> 24,
                      (s >> 16) & 255,
                      (s >> 8) & 255,
                      255 & s,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      1,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      1,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      64,
                      0,
                      0,
                      0,
                      (n >> 8) & 255,
                      255 & n,
                      0,
                      0,
                      (a >> 8) & 255,
                      255 & a,
                      0,
                      0,
                    ])
                  )
                }),
                (e.traf = function (t, r) {
                  var i = e.sdtp(t),
                    n = t.id,
                    a = Math.floor(r / (W + 1)),
                    o = Math.floor(r % (W + 1))
                  return e.box(
                    e.types.traf,
                    e.box(
                      e.types.tfhd,
                      new Uint8Array([
                        0,
                        0,
                        0,
                        0,
                        n >> 24,
                        (n >> 16) & 255,
                        (n >> 8) & 255,
                        255 & n,
                      ])
                    ),
                    e.box(
                      e.types.tfdt,
                      new Uint8Array([
                        1,
                        0,
                        0,
                        0,
                        a >> 24,
                        (a >> 16) & 255,
                        (a >> 8) & 255,
                        255 & a,
                        o >> 24,
                        (o >> 16) & 255,
                        (o >> 8) & 255,
                        255 & o,
                      ])
                    ),
                    e.trun(t, i.length + 16 + 20 + 8 + 16 + 8 + 8),
                    i
                  )
                }),
                (e.trak = function (t) {
                  return (
                    (t.duration = t.duration || 4294967295),
                    e.box(e.types.trak, e.tkhd(t), e.mdia(t))
                  )
                }),
                (e.trex = function (t) {
                  var r = t.id
                  return e.box(
                    e.types.trex,
                    new Uint8Array([
                      0,
                      0,
                      0,
                      0,
                      r >> 24,
                      (r >> 16) & 255,
                      (r >> 8) & 255,
                      255 & r,
                      0,
                      0,
                      0,
                      1,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      1,
                      0,
                      1,
                    ])
                  )
                }),
                (e.trun = function (t, r) {
                  var i,
                    n,
                    a,
                    o,
                    s,
                    u,
                    l = t.samples || [],
                    c = l.length,
                    d = 12 + 16 * c,
                    f = new Uint8Array(d)
                  for (
                    r += 8 + d,
                      f.set(
                        [
                          0,
                          0,
                          15,
                          1,
                          (c >>> 24) & 255,
                          (c >>> 16) & 255,
                          (c >>> 8) & 255,
                          255 & c,
                          (r >>> 24) & 255,
                          (r >>> 16) & 255,
                          (r >>> 8) & 255,
                          255 & r,
                        ],
                        0
                      ),
                      i = 0;
                    i < c;
                    i++
                  )
                    (n = l[i]),
                      (a = n.duration),
                      (o = n.size),
                      (s = n.flags),
                      (u = n.cts),
                      f.set(
                        [
                          (a >>> 24) & 255,
                          (a >>> 16) & 255,
                          (a >>> 8) & 255,
                          255 & a,
                          (o >>> 24) & 255,
                          (o >>> 16) & 255,
                          (o >>> 8) & 255,
                          255 & o,
                          (s.isLeading << 2) | s.dependsOn,
                          (s.isDependedOn << 6) |
                            (s.hasRedundancy << 4) |
                            (s.paddingValue << 1) |
                            s.isNonSync,
                          61440 & s.degradPrio,
                          15 & s.degradPrio,
                          (u >>> 24) & 255,
                          (u >>> 16) & 255,
                          (u >>> 8) & 255,
                          255 & u,
                        ],
                        12 + 16 * i
                      )
                  return e.box(e.types.trun, f)
                }),
                (e.initSegment = function (t) {
                  e.types || e.init()
                  var r,
                    i = e.moov(t)
                  return (
                    (r = new Uint8Array(e.FTYP.byteLength + i.byteLength)),
                    r.set(e.FTYP),
                    r.set(i, e.FTYP.byteLength),
                    r
                  )
                }),
                e
              )
            })(),
            Q = Y,
            X = (function () {
              function e(t, r, i, n) {
                E(this, e),
                  (this.observer = t),
                  (this.config = r),
                  (this.typeSupported = i)
                var a = navigator.userAgent
                ;(this.isSafari =
                  n && n.indexOf('Apple') > -1 && a && !a.match('CriOS')),
                  (this.ISGenerated = !1)
              }
              return (
                (e.prototype.destroy = function () {}),
                (e.prototype.resetTimeStamp = function (e) {
                  this._initPTS = this._initDTS = e
                }),
                (e.prototype.resetInitSegment = function () {
                  this.ISGenerated = !1
                }),
                (e.prototype.remux = function (e, t, r, i, n, a, o) {
                  if (
                    (this.ISGenerated || this.generateIS(e, t, n),
                    this.ISGenerated)
                  ) {
                    var s = e.samples.length,
                      u = t.samples.length,
                      l = n,
                      c = n
                    if (s && u) {
                      var d =
                        (e.samples[0].dts - t.samples[0].dts) /
                        t.inputTimeScale
                      ;(l += Math.max(0, d)), (c += Math.max(0, -d))
                    }
                    if (s) {
                      e.timescale ||
                        (k.b.warn(
                          'regenerate InitSegment as audio detected'
                        ),
                        this.generateIS(e, t, n))
                      var f = this.remuxAudio(e, l, a, o)
                      if (u) {
                        var h = void 0
                        f && (h = f.endPTS - f.startPTS),
                          t.timescale ||
                            (k.b.warn(
                              'regenerate InitSegment as video detected'
                            ),
                            this.generateIS(e, t, n)),
                          this.remuxVideo(t, c, a, h, o)
                      }
                    } else {
                      var p = void 0
                      u && (p = this.remuxVideo(t, c, a, o)),
                        p && e.codec && this.remuxEmptyAudio(e, l, a, p)
                    }
                  }
                  r.samples.length && this.remuxID3(r, n),
                    i.samples.length && this.remuxText(i, n),
                    this.observer.trigger(S.a.FRAG_PARSED)
                }),
                (e.prototype.generateIS = function (e, t, r) {
                  var i,
                    n,
                    a = this.observer,
                    o = e.samples,
                    s = t.samples,
                    u = this.typeSupported,
                    l = 'audio/mp4',
                    c = {},
                    d = { tracks: c },
                    f = void 0 === this._initPTS
                  if (
                    (f && (i = n = 1 / 0),
                    e.config &&
                      o.length &&
                      ((e.timescale = e.samplerate),
                      k.b.log('audio sampling rate : ' + e.samplerate),
                      e.isAAC ||
                        (u.mpeg
                          ? ((l = 'audio/mpeg'), (e.codec = ''))
                          : u.mp3 && (e.codec = 'mp3')),
                      (c.audio = {
                        container: l,
                        codec: e.codec,
                        initSegment:
                          !e.isAAC && u.mpeg
                            ? new Uint8Array()
                            : Q.initSegment([e]),
                        metadata: { channelCount: e.channelCount },
                      }),
                      f && (i = n = o[0].pts - e.inputTimeScale * r)),
                    t.sps && t.pps && s.length)
                  ) {
                    var h = t.inputTimeScale
                    ;(t.timescale = h),
                      (c.video = {
                        container: 'video/mp4',
                        codec: t.codec,
                        initSegment: Q.initSegment([t]),
                        metadata: { width: t.width, height: t.height },
                      }),
                      f &&
                        ((i = Math.min(i, s[0].pts - h * r)),
                        (n = Math.min(n, s[0].dts - h * r)),
                        this.observer.trigger(S.a.INIT_PTS_FOUND, {
                          initPTS: i,
                        }))
                  }
                  Object.keys(c).length
                    ? (a.trigger(S.a.FRAG_PARSING_INIT_SEGMENT, d),
                      (this.ISGenerated = !0),
                      f && ((this._initPTS = i), (this._initDTS = n)))
                    : a.trigger(S.a.ERROR, {
                        type: A.b.MEDIA_ERROR,
                        details: A.a.FRAG_PARSING_ERROR,
                        fatal: !1,
                        reason: 'no audio/video samples found',
                      })
                }),
                (e.prototype.remuxVideo = function (e, t, r, i, n) {
                  var a,
                    o,
                    s,
                    u,
                    l,
                    c,
                    d,
                    f = 8,
                    h = e.timescale,
                    p = e.samples,
                    v = [],
                    g = p.length,
                    y = this._PTSNormalize,
                    m = this._initDTS,
                    _ = this.nextAvcDts,
                    b = this.isSafari
                  b &&
                    (r |=
                      p.length &&
                      _ &&
                      ((n && Math.abs(t - _ / h) < 0.1) ||
                        Math.abs(p[0].pts - _ - m) < h / 5)),
                    r || (_ = t * h),
                    p.forEach(function (e) {
                      ;(e.pts = y(e.pts - m, _)), (e.dts = y(e.dts - m, _))
                    }),
                    p.sort(function (e, t) {
                      var r = e.dts - t.dts,
                        i = e.pts - t.pts
                      return r || i || e.id - t.id
                    })
                  var E = p.reduce(function (e, t) {
                    return Math.max(Math.min(e, t.pts - t.dts), -18e3)
                  }, 0)
                  if (E < 0) {
                    k.b.warn(
                      'PTS < DTS detected in video samples, shifting DTS by ' +
                        Math.round(E / 90) +
                        ' ms to overcome this issue'
                    )
                    for (var w = 0; w < p.length; w++) p[w].dts += E
                  }
                  var T = p[0]
                  ;(l = Math.max(T.dts, 0)), (u = Math.max(T.pts, 0))
                  var R = Math.round((l - _) / 90)
                  r &&
                    R &&
                    (R > 1
                      ? k.b.log(
                          'AVC:' +
                            R +
                            ' ms hole between fragments detected,filling it'
                        )
                      : R < -1 &&
                        k.b.log(
                          'AVC:' +
                            -R +
                            ' ms overlapping between fragments detected'
                        ),
                    (l = _),
                    (p[0].dts = l),
                    (u = Math.max(u - R, _)),
                    (p[0].pts = u),
                    k.b.log(
                      'Video/PTS/DTS adjusted: ' +
                        Math.round(u / 90) +
                        '/' +
                        Math.round(l / 90) +
                        ',delta:' +
                        R +
                        ' ms'
                    )),
                    (T = p[p.length - 1]),
                    (d = Math.max(T.dts, 0)),
                    (c = Math.max(T.pts, 0, d)),
                    b && (a = Math.round((d - l) / (p.length - 1)))
                  for (var D = 0, O = 0, L = 0; L < g; L++) {
                    for (
                      var P = p[L],
                        x = P.units,
                        I = x.length,
                        C = 0,
                        M = 0;
                      M < I;
                      M++
                    )
                      C += x[M].data.length
                    ;(O += C),
                      (D += I),
                      (P.length = C),
                      (P.dts = b ? l + L * a : Math.max(P.dts, l)),
                      (P.pts = Math.max(P.pts, P.dts))
                  }
                  var N = O + 4 * D + 8
                  try {
                    o = new Uint8Array(N)
                  } catch (e) {
                    return void this.observer.trigger(S.a.ERROR, {
                      type: A.b.MUX_ERROR,
                      details: A.a.REMUX_ALLOC_ERROR,
                      fatal: !1,
                      bytes: N,
                      reason: 'fail allocating video mdat ' + N,
                    })
                  }
                  var F = new DataView(o.buffer)
                  F.setUint32(0, N), o.set(Q.types.mdat, 4)
                  for (var U = 0; U < g; U++) {
                    for (
                      var B = p[U],
                        j = B.units,
                        G = 0,
                        H = void 0,
                        q = 0,
                        V = j.length;
                      q < V;
                      q++
                    ) {
                      var K = j[q],
                        z = K.data,
                        W = K.data.byteLength
                      F.setUint32(f, W),
                        (f += 4),
                        o.set(z, f),
                        (f += W),
                        (G += 4 + W)
                    }
                    if (b)
                      H = Math.max(0, a * Math.round((B.pts - B.dts) / a))
                    else {
                      if (U < g - 1) a = p[U + 1].dts - B.dts
                      else {
                        var Y = this.config,
                          X = B.dts - p[U > 0 ? U - 1 : U].dts
                        if (Y.stretchShortVideoTrack) {
                          var $ = Y.maxBufferHole,
                            J = Y.maxSeekHole,
                            Z = Math.floor(Math.min($, J) * h),
                            ee =
                              (i ? u + i * h : this.nextAudioPts) - B.pts
                          ee > Z
                            ? ((a = ee - X),
                              a < 0 && (a = X),
                              k.b.log(
                                'It is approximately ' +
                                  ee / 90 +
                                  ' ms to the next segment; using duration ' +
                                  a / 90 +
                                  ' ms for the last video frame.'
                              ))
                            : (a = X)
                        } else a = X
                      }
                      H = Math.round(B.pts - B.dts)
                    }
                    v.push({
                      size: G,
                      duration: a,
                      cts: H,
                      flags: {
                        isLeading: 0,
                        isDependedOn: 0,
                        hasRedundancy: 0,
                        degradPrio: 0,
                        dependsOn: B.key ? 2 : 1,
                        isNonSync: B.key ? 0 : 1,
                      },
                    })
                  }
                  this.nextAvcDts = d + a
                  var te = e.dropped
                  if (
                    ((e.len = 0),
                    (e.nbNalu = 0),
                    (e.dropped = 0),
                    v.length &&
                      navigator.userAgent.toLowerCase().indexOf('chrome') >
                        -1)
                  ) {
                    var re = v[0].flags
                    ;(re.dependsOn = 2), (re.isNonSync = 0)
                  }
                  ;(e.samples = v),
                    (s = Q.moof(e.sequenceNumber++, l, e)),
                    (e.samples = [])
                  var ie = {
                    data1: s,
                    data2: o,
                    startPTS: u / h,
                    endPTS: (c + a) / h,
                    startDTS: l / h,
                    endDTS: this.nextAvcDts / h,
                    type: 'video',
                    nb: v.length,
                    dropped: te,
                  }
                  return (
                    this.observer.trigger(S.a.FRAG_PARSING_DATA, ie), ie
                  )
                }),
                (e.prototype.remuxAudio = function (e, t, r, i) {
                  var n,
                    a,
                    o,
                    s,
                    u,
                    l,
                    c,
                    d = e.inputTimeScale,
                    f = e.timescale,
                    h = d / f,
                    p = e.isAAC ? 1024 : 1152,
                    v = p * h,
                    g = this._PTSNormalize,
                    y = this._initDTS,
                    m = !e.isAAC && this.typeSupported.mpeg,
                    _ = e.samples,
                    b = [],
                    E = this.nextAudioPts
                  if (
                    ((r |=
                      _.length &&
                      E &&
                      ((i && Math.abs(t - E / d) < 0.1) ||
                        Math.abs(_[0].pts - E - y) < 20 * v)),
                    _.forEach(function (e) {
                      e.pts = e.dts = g(e.pts - y, t * d)
                    }),
                    (_ = _.filter(function (e) {
                      return e.pts > 0
                    })),
                    r || (E = i ? t * d : _[0].pts),
                    e.isAAC)
                  )
                    for (
                      var w = this.config.maxAudioFramesDrift,
                        T = 0,
                        R = E;
                      T < _.length;

                    ) {
                      var D,
                        O = _[T],
                        L = O.pts
                      D = L - R
                      var P = Math.abs((1e3 * D) / d)
                      if (D <= -w * v)
                        k.b.warn(
                          'Dropping 1 audio frame @ ' +
                            (R / d).toFixed(3) +
                            's due to ' +
                            Math.round(P) +
                            ' ms overlap.'
                        ),
                          _.splice(T, 1),
                          (e.len -= O.unit.length)
                      else if (D >= w * v && P < 1e4 && R) {
                        var x = Math.round(D / v)
                        k.b.warn(
                          'Injecting ' +
                            x +
                            ' audio frame @ ' +
                            (R / d).toFixed(3) +
                            's due to ' +
                            Math.round((1e3 * D) / d) +
                            ' ms gap.'
                        )
                        for (var I = 0; I < x; I++) {
                          var C = Math.max(R, 0)
                          ;(o = z.getSilentFrame(
                            e.manifestCodec || e.codec,
                            e.channelCount
                          )),
                            o ||
                              (k.b.log(
                                'Unable to get silent frame for given audio codec; duplicating last frame instead.'
                              ),
                              (o = O.unit.subarray())),
                            _.splice(T, 0, { unit: o, pts: C, dts: C }),
                            (e.len += o.length),
                            (R += v),
                            T++
                        }
                        ;(O.pts = O.dts = R), (R += v), T++
                      } else
                        Math.abs(D), (O.pts = O.dts = R), (R += v), T++
                    }
                  for (var M = 0, N = _.length; M < N; M++) {
                    var F = _[M],
                      U = F.unit,
                      B = F.pts
                    if (void 0 !== c) a.duration = Math.round((B - c) / h)
                    else {
                      var j = Math.round((1e3 * (B - E)) / d),
                        G = 0
                      if (r && e.isAAC && j) {
                        if (j > 0 && j < 1e4)
                          (G = Math.round((B - E) / v)),
                            k.b.log(
                              j +
                                ' ms hole between AAC samples detected,filling it'
                            ),
                            G > 0 &&
                              ((o = z.getSilentFrame(
                                e.manifestCodec || e.codec,
                                e.channelCount
                              )),
                              o || (o = U.subarray()),
                              (e.len += G * o.length))
                        else if (j < -12) {
                          k.b.log(
                            'drop overlapping AAC sample, expected/parsed/delta:' +
                              (E / d).toFixed(3) +
                              's/' +
                              (B / d).toFixed(3) +
                              's/' +
                              -j +
                              'ms'
                          ),
                            (e.len -= U.byteLength)
                          continue
                        }
                        B = E
                      }
                      if (((l = B), !(e.len > 0))) return
                      var H = m ? e.len : e.len + 8
                      n = m ? 0 : 8
                      try {
                        s = new Uint8Array(H)
                      } catch (e) {
                        return void this.observer.trigger(S.a.ERROR, {
                          type: A.b.MUX_ERROR,
                          details: A.a.REMUX_ALLOC_ERROR,
                          fatal: !1,
                          bytes: H,
                          reason: 'fail allocating audio mdat ' + H,
                        })
                      }
                      if (!m) {
                        new DataView(s.buffer).setUint32(0, H),
                          s.set(Q.types.mdat, 4)
                      }
                      for (var q = 0; q < G; q++)
                        (o = z.getSilentFrame(
                          e.manifestCodec || e.codec,
                          e.channelCount
                        )),
                          o ||
                            (k.b.log(
                              'Unable to get silent frame for given audio codec; duplicating this frame instead.'
                            ),
                            (o = U.subarray())),
                          s.set(o, n),
                          (n += o.byteLength),
                          (a = {
                            size: o.byteLength,
                            cts: 0,
                            duration: 1024,
                            flags: {
                              isLeading: 0,
                              isDependedOn: 0,
                              hasRedundancy: 0,
                              degradPrio: 0,
                              dependsOn: 1,
                            },
                          }),
                          b.push(a)
                    }
                    s.set(U, n)
                    var V = U.byteLength
                    ;(n += V),
                      (a = {
                        size: V,
                        cts: 0,
                        duration: 0,
                        flags: {
                          isLeading: 0,
                          isDependedOn: 0,
                          hasRedundancy: 0,
                          degradPrio: 0,
                          dependsOn: 1,
                        },
                      }),
                      b.push(a),
                      (c = B)
                  }
                  var K = 0,
                    W = b.length
                  if (
                    (W >= 2 && ((K = b[W - 2].duration), (a.duration = K)),
                    W)
                  ) {
                    ;(this.nextAudioPts = E = c + h * K),
                      (e.len = 0),
                      (e.samples = b),
                      (u = m
                        ? new Uint8Array()
                        : Q.moof(e.sequenceNumber++, l / h, e)),
                      (e.samples = [])
                    var Y = l / d,
                      X = E / d,
                      $ = {
                        data1: u,
                        data2: s,
                        startPTS: Y,
                        endPTS: X,
                        startDTS: Y,
                        endDTS: X,
                        type: 'audio',
                        nb: W,
                      }
                    return (
                      this.observer.trigger(S.a.FRAG_PARSING_DATA, $), $
                    )
                  }
                  return null
                }),
                (e.prototype.remuxEmptyAudio = function (e, t, r, i) {
                  var n = e.inputTimeScale,
                    a = e.samplerate ? e.samplerate : n,
                    o = n / a,
                    s = this.nextAudioPts,
                    u =
                      (void 0 !== s ? s : i.startDTS * n) + this._initDTS,
                    l = i.endDTS * n + this._initDTS,
                    c = 1024 * o,
                    d = Math.ceil((l - u) / c),
                    f = z.getSilentFrame(
                      e.manifestCodec || e.codec,
                      e.channelCount
                    )
                  if ((k.b.warn('remux empty Audio'), !f))
                    return void k.b.trace(
                      'Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec!'
                    )
                  for (var h = [], p = 0; p < d; p++) {
                    var v = u + p * c
                    h.push({ unit: f, pts: v, dts: v }),
                      (e.len += f.length)
                  }
                  ;(e.samples = h), this.remuxAudio(e, t, r)
                }),
                (e.prototype.remuxID3 = function (e, t) {
                  var r,
                    i = e.samples.length,
                    n = e.inputTimeScale,
                    a = this._initPTS,
                    o = this._initDTS
                  if (i) {
                    for (var s = 0; s < i; s++)
                      (r = e.samples[s]),
                        (r.pts = (r.pts - a) / n),
                        (r.dts = (r.dts - o) / n)
                    this.observer.trigger(S.a.FRAG_PARSING_METADATA, {
                      samples: e.samples,
                    })
                  }
                  ;(e.samples = []), (t = t)
                }),
                (e.prototype.remuxText = function (e, t) {
                  e.samples.sort(function (e, t) {
                    return e.pts - t.pts
                  })
                  var r,
                    i = e.samples.length,
                    n = e.inputTimeScale,
                    a = this._initPTS
                  if (i) {
                    for (var o = 0; o < i; o++)
                      (r = e.samples[o]), (r.pts = (r.pts - a) / n)
                    this.observer.trigger(S.a.FRAG_PARSING_USERDATA, {
                      samples: e.samples,
                    })
                  }
                  ;(e.samples = []), (t = t)
                }),
                (e.prototype._PTSNormalize = function (e, t) {
                  var r
                  if (void 0 === t) return e
                  for (
                    r = t < e ? -8589934592 : 8589934592;
                    Math.abs(e - t) > 4294967296;

                  )
                    e += r
                  return e
                }),
                e
              )
            })(),
            $ = X,
            J = (function () {
              function e(t) {
                w(this, e), (this.observer = t)
              }
              return (
                (e.prototype.destroy = function () {}),
                (e.prototype.resetTimeStamp = function () {}),
                (e.prototype.resetInitSegment = function () {}),
                (e.prototype.remux = function (e, t, r, i, n, a, o, s) {
                  var u = this.observer,
                    l = ''
                  e && (l += 'audio'),
                    t && (l += 'video'),
                    u.trigger(S.a.FRAG_PARSING_DATA, {
                      data1: s,
                      startPTS: n,
                      startDTS: n,
                      type: l,
                      nb: 1,
                      dropped: 0,
                    }),
                    u.trigger(S.a.FRAG_PARSED)
                }),
                e
              )
            })(),
            Z = J,
            ee = (function () {
              function e(t, r, i, n) {
                T(this, e),
                  (this.observer = t),
                  (this.typeSupported = r),
                  (this.config = i),
                  (this.vendor = n)
              }
              return (
                (e.prototype.destroy = function () {
                  var e = this.demuxer
                  e && e.destroy()
                }),
                (e.prototype.push = function (
                  e,
                  t,
                  r,
                  i,
                  n,
                  a,
                  o,
                  s,
                  u,
                  l,
                  c,
                  d
                ) {
                  if (
                    e.byteLength > 0 &&
                    null != t &&
                    null != t.key &&
                    'AES-128' === t.method
                  ) {
                    var f = this.decrypter
                    null == f &&
                      (f = this.decrypter =
                        new R.a(this.observer, this.config))
                    var h,
                      p = this
                    try {
                      h = performance.now()
                    } catch (e) {
                      h = Date.now()
                    }
                    f.decrypt(e, t.key.buffer, t.iv.buffer, function (e) {
                      var f
                      try {
                        f = performance.now()
                      } catch (e) {
                        f = Date.now()
                      }
                      p.observer.trigger(S.a.FRAG_DECRYPTED, {
                        stats: { tstart: h, tdecrypt: f },
                      }),
                        p.pushDecrypted(
                          new Uint8Array(e),
                          t,
                          new Uint8Array(r),
                          i,
                          n,
                          a,
                          o,
                          s,
                          u,
                          l,
                          c,
                          d
                        )
                    })
                  } else
                    this.pushDecrypted(
                      new Uint8Array(e),
                      t,
                      new Uint8Array(r),
                      i,
                      n,
                      a,
                      o,
                      s,
                      u,
                      l,
                      c,
                      d
                    )
                }),
                (e.prototype.pushDecrypted = function (
                  e,
                  t,
                  r,
                  i,
                  n,
                  a,
                  o,
                  s,
                  u,
                  l,
                  c,
                  d
                ) {
                  var f = this.demuxer
                  if (!f || (o && !this.probe(e))) {
                    for (
                      var h = this.observer,
                        p = this.typeSupported,
                        v = this.config,
                        g = [
                          { demux: H, remux: $ },
                          { demux: L, remux: $ },
                          { demux: V, remux: $ },
                          { demux: I, remux: Z },
                        ],
                        y = 0,
                        m = g.length;
                      y < m;
                      y++
                    ) {
                      var _ = g[y],
                        b = _.demux.probe
                      if (b(e)) {
                        var E = (this.remuxer = new _.remux(
                          h,
                          v,
                          p,
                          this.vendor
                        ))
                        ;(f = new _.demux(h, E, v, p)), (this.probe = b)
                        break
                      }
                    }
                    if (!f)
                      return void h.trigger(S.a.ERROR, {
                        type: A.b.MEDIA_ERROR,
                        details: A.a.FRAG_PARSING_ERROR,
                        fatal: !0,
                        reason: 'no demux matching with content found',
                      })
                    this.demuxer = f
                  }
                  var w = this.remuxer
                  ;(o || s) &&
                    (f.resetInitSegment(r, i, n, l), w.resetInitSegment()),
                    o && (f.resetTimeStamp(d), w.resetTimeStamp(d)),
                    'function' == typeof f.setDecryptData &&
                      f.setDecryptData(t),
                    f.append(e, a, u, c)
                }),
                e
              )
            })()
          t.a = ee
        },
        function (e, t, r) {
          'use strict'
          function i(e, t) {
            if (!(e instanceof t))
              throw new TypeError('Cannot call a class as a function')
          }
          function n(e, t) {
            if (!(e instanceof t))
              throw new TypeError('Cannot call a class as a function')
          }
          function a(e, t) {
            var r = Ge[t]
            return !!r && !0 === r[e.slice(0, 4)]
          }
          function o(e, t) {
            return MediaSource.isTypeSupported(
              (t || 'video') + '/mp4;codecs="' + e + '"'
            )
          }
          function s(e, t) {
            if (!e)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              )
            return !t || ('object' != typeof t && 'function' != typeof t)
              ? e
              : t
          }
          function u(e, t) {
            if ('function' != typeof t && null !== t)
              throw new TypeError(
                'Super expression must either be null or a function, not ' +
                  typeof t
              )
            ;(e.prototype = Object.create(t && t.prototype, {
              constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0,
              },
            })),
              t &&
                (Object.setPrototypeOf
                  ? Object.setPrototypeOf(e, t)
                  : (e.__proto__ = t))
          }
          function l(e, t) {
            if (!(e instanceof t))
              throw new TypeError('Cannot call a class as a function')
          }
          function c(e, t) {
            if (!e) return null
            for (var r = null, i = 0; i < e.length; i++) {
              var n = e[i]
              n.id === t && (r = n)
            }
            return r
          }
          function d(e, t) {
            if (!(e instanceof t))
              throw new TypeError('Cannot call a class as a function')
          }
          function f(e, t) {
            if (!e)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              )
            return !t || ('object' != typeof t && 'function' != typeof t)
              ? e
              : t
          }
          function h(e, t) {
            if ('function' != typeof t && null !== t)
              throw new TypeError(
                'Super expression must either be null or a function, not ' +
                  typeof t
              )
            ;(e.prototype = Object.create(t && t.prototype, {
              constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0,
              },
            })),
              t &&
                (Object.setPrototypeOf
                  ? Object.setPrototypeOf(e, t)
                  : (e.__proto__ = t))
          }
          function p(e, t) {
            if (!(e instanceof t))
              throw new TypeError('Cannot call a class as a function')
          }
          function v(e, t) {
            if (!e)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              )
            return !t || ('object' != typeof t && 'function' != typeof t)
              ? e
              : t
          }
          function g(e, t) {
            if ('function' != typeof t && null !== t)
              throw new TypeError(
                'Super expression must either be null or a function, not ' +
                  typeof t
              )
            ;(e.prototype = Object.create(t && t.prototype, {
              constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0,
              },
            })),
              t &&
                (Object.setPrototypeOf
                  ? Object.setPrototypeOf(e, t)
                  : (e.__proto__ = t))
          }
          function y() {
            if ('undefined' != typeof window)
              return window.MediaSource || window.WebKitMediaSource
          }
          function m(e, t) {
            if (!(e instanceof t))
              throw new TypeError('Cannot call a class as a function')
          }
          function _(e, t, r) {
            var i = e[t],
              n = e[r],
              a = n.startPTS
            isNaN(a)
              ? (n.start =
                  r > t
                    ? i.start + i.duration
                    : Math.max(i.start - n.duration, 0))
              : r > t
              ? ((i.duration = a - i.start),
                i.duration < 0 &&
                  Ie.b.warn(
                    'negative duration computed for frag ' +
                      i.sn +
                      ',level ' +
                      i.level +
                      ', there should be some duration drift between playlist and fragment!'
                  ))
              : ((n.duration = i.start - a),
                n.duration < 0 &&
                  Ie.b.warn(
                    'negative duration computed for frag ' +
                      n.sn +
                      ',level ' +
                      n.level +
                      ', there should be some duration drift between playlist and fragment!'
                  ))
          }
          function b(e, t, r, i, n, a) {
            var o = r
            if (!isNaN(t.startPTS)) {
              var s = Math.abs(t.startPTS - r)
              isNaN(t.deltaPTS)
                ? (t.deltaPTS = s)
                : (t.deltaPTS = Math.max(s, t.deltaPTS)),
                (o = Math.max(r, t.startPTS)),
                (r = Math.min(r, t.startPTS)),
                (i = Math.max(i, t.endPTS)),
                (n = Math.min(n, t.startDTS)),
                (a = Math.max(a, t.endDTS))
            }
            var u = r - t.start
            ;(t.start = t.startPTS = r),
              (t.maxStartPTS = o),
              (t.endPTS = i),
              (t.startDTS = n),
              (t.endDTS = a),
              (t.duration = i - r)
            var l = t.sn
            if (!e || l < e.startSN || l > e.endSN) return 0
            var c, d, f
            for (
              c = l - e.startSN, d = e.fragments, d[c] = t, f = c;
              f > 0;
              f--
            )
              _(d, f, f - 1)
            for (f = c; f < d.length - 1; f++) _(d, f, f + 1)
            return (e.PTSKnown = !0), u
          }
          function E(e, t) {
            var r,
              i = Math.max(e.startSN, t.startSN) - t.startSN,
              n = Math.min(e.endSN, t.endSN) - t.startSN,
              a = t.startSN - e.startSN,
              o = e.fragments,
              s = t.fragments,
              u = 0
            if (n < i) return void (t.PTSKnown = !1)
            for (var l = i; l <= n; l++) {
              var c = o[a + l],
                d = s[l]
              d &&
                c &&
                ((u = c.cc - d.cc),
                isNaN(c.startPTS) ||
                  ((d.start = d.startPTS = c.startPTS),
                  (d.endPTS = c.endPTS),
                  (d.duration = c.duration),
                  (d.backtracked = c.backtracked),
                  (d.dropped = c.dropped),
                  (r = d)))
            }
            if (u)
              for (
                Ie.b.log(
                  'discontinuity sliding from playlist, take drift into account'
                ),
                  l = 0;
                l < s.length;
                l++
              )
                s[l].cc += u
            if (r) b(t, r, r.startPTS, r.endPTS, r.startDTS, r.endDTS)
            else if (a >= 0 && a < o.length) {
              var f = o[a].start
              for (l = 0; l < s.length; l++) s[l].start += f
            }
            t.PTSKnown = e.PTSKnown
          }
          function w(e, t) {
            for (var r = null, i = 0; i < e.length; i += 1) {
              var n = e[i]
              if (n && n.cc === t) {
                r = n
                break
              }
            }
            return r
          }
          function T(e, t) {
            return rt.search(e, function (e) {
              return e.cc < t ? 1 : e.cc > t ? -1 : 0
            })
          }
          function S(e, t, r) {
            var i = !1
            return (
              t &&
                t.details &&
                r &&
                (r.endCC > r.startCC || (e && e.cc < r.startCC)) &&
                (i = !0),
              i
            )
          }
          function A(e, t) {
            var r = e.fragments,
              i = t.fragments
            if (!i.length || !r.length)
              return void Ie.b.log('No fragments to align')
            var n = w(r, i[0].cc)
            return !n || (n && !n.startPTS)
              ? void Ie.b.log('No frag in previous level to align on')
              : n
          }
          function R(e, t) {
            t.fragments.forEach(function (t) {
              if (t) {
                var r = t.start + e
                ;(t.start = t.startPTS = r), (t.endPTS = r + t.duration)
              }
            }),
              (t.PTSKnown = !0)
          }
          function k(e, t, r) {
            if (S(e, t, r)) {
              var i = A(t.details, r)
              i &&
                (Ie.b.log(
                  'Adjusting PTS using last level due to CC increase within current level'
                ),
                R(i.start, r))
            }
            if (!1 === r.PTSKnown && t && t.details) {
              var n = t.details.programDateTime,
                a = r.programDateTime,
                o = (a - n) / 1e3 + t.details.fragments[0].start
              isNaN(o) ||
                (Ie.b.log(
                  'adjusting PTS using programDateTime delta, sliding:' +
                    o.toFixed(3)
                ),
                R(o, r))
            }
          }
          function D(e, t) {
            if (!(e instanceof t))
              throw new TypeError('Cannot call a class as a function')
          }
          function O(e, t) {
            if (!e)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              )
            return !t || ('object' != typeof t && 'function' != typeof t)
              ? e
              : t
          }
          function L(e, t) {
            if ('function' != typeof t && null !== t)
              throw new TypeError(
                'Super expression must either be null or a function, not ' +
                  typeof t
              )
            ;(e.prototype = Object.create(t && t.prototype, {
              constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0,
              },
            })),
              t &&
                (Object.setPrototypeOf
                  ? Object.setPrototypeOf(e, t)
                  : (e.__proto__ = t))
          }
          function P(e, t) {
            if (!(e instanceof t))
              throw new TypeError('Cannot call a class as a function')
          }
          function x(e, t) {
            if (!e)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              )
            return !t || ('object' != typeof t && 'function' != typeof t)
              ? e
              : t
          }
          function I(e, t) {
            if ('function' != typeof t && null !== t)
              throw new TypeError(
                'Super expression must either be null or a function, not ' +
                  typeof t
              )
            ;(e.prototype = Object.create(t && t.prototype, {
              constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0,
              },
            })),
              t &&
                (Object.setPrototypeOf
                  ? Object.setPrototypeOf(e, t)
                  : (e.__proto__ = t))
          }
          function C(e, t) {
            if (!(e instanceof t))
              throw new TypeError('Cannot call a class as a function')
          }
          function M(e, t) {
            if (!e)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              )
            return !t || ('object' != typeof t && 'function' != typeof t)
              ? e
              : t
          }
          function N(e, t) {
            if ('function' != typeof t && null !== t)
              throw new TypeError(
                'Super expression must either be null or a function, not ' +
                  typeof t
              )
            ;(e.prototype = Object.create(t && t.prototype, {
              constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0,
              },
            })),
              t &&
                (Object.setPrototypeOf
                  ? Object.setPrototypeOf(e, t)
                  : (e.__proto__ = t))
          }
          function F() {
            var e = y(),
              t = window.SourceBuffer || window.WebKitSourceBuffer,
              r =
                e &&
                'function' == typeof e.isTypeSupported &&
                e.isTypeSupported(
                  'video/mp4; codecs="avc1.42E01E,mp4a.40.2"'
                ),
              i =
                !t ||
                (t.prototype &&
                  'function' == typeof t.prototype.appendBuffer &&
                  'function' == typeof t.prototype.remove)
            return !!r && !!i
          }
          function U(e, t) {
            if (!(e instanceof t))
              throw new TypeError('Cannot call a class as a function')
          }
          function B(e, t) {
            if (!(e instanceof t))
              throw new TypeError('Cannot call a class as a function')
          }
          function j(e, t) {
            if (!(e instanceof t))
              throw new TypeError('Cannot call a class as a function')
          }
          function G(e, t) {
            if (!e)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              )
            return !t || ('object' != typeof t && 'function' != typeof t)
              ? e
              : t
          }
          function H(e, t) {
            if ('function' != typeof t && null !== t)
              throw new TypeError(
                'Super expression must either be null or a function, not ' +
                  typeof t
              )
            ;(e.prototype = Object.create(t && t.prototype, {
              constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0,
              },
            })),
              t &&
                (Object.setPrototypeOf
                  ? Object.setPrototypeOf(e, t)
                  : (e.__proto__ = t))
          }
          function q(e, t) {
            if (!(e instanceof t))
              throw new TypeError('Cannot call a class as a function')
          }
          function V(e, t) {
            if (!e)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              )
            return !t || ('object' != typeof t && 'function' != typeof t)
              ? e
              : t
          }
          function K(e, t) {
            if ('function' != typeof t && null !== t)
              throw new TypeError(
                'Super expression must either be null or a function, not ' +
                  typeof t
              )
            ;(e.prototype = Object.create(t && t.prototype, {
              constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0,
              },
            })),
              t &&
                (Object.setPrototypeOf
                  ? Object.setPrototypeOf(e, t)
                  : (e.__proto__ = t))
          }
          function z(e, t) {
            if (!(e instanceof t))
              throw new TypeError('Cannot call a class as a function')
          }
          function W(e, t) {
            if (!e)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              )
            return !t || ('object' != typeof t && 'function' != typeof t)
              ? e
              : t
          }
          function Y(e, t) {
            if ('function' != typeof t && null !== t)
              throw new TypeError(
                'Super expression must either be null or a function, not ' +
                  typeof t
              )
            ;(e.prototype = Object.create(t && t.prototype, {
              constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0,
              },
            })),
              t &&
                (Object.setPrototypeOf
                  ? Object.setPrototypeOf(e, t)
                  : (e.__proto__ = t))
          }
          function Q(e, t) {
            if (!(e instanceof t))
              throw new TypeError('Cannot call a class as a function')
          }
          function X(e, t) {
            if (!e)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              )
            return !t || ('object' != typeof t && 'function' != typeof t)
              ? e
              : t
          }
          function $(e, t) {
            if ('function' != typeof t && null !== t)
              throw new TypeError(
                'Super expression must either be null or a function, not ' +
                  typeof t
              )
            ;(e.prototype = Object.create(t && t.prototype, {
              constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0,
              },
            })),
              t &&
                (Object.setPrototypeOf
                  ? Object.setPrototypeOf(e, t)
                  : (e.__proto__ = t))
          }
          function J(e, t) {
            if (!(e instanceof t))
              throw new TypeError('Cannot call a class as a function')
          }
          function Z(e, t) {
            if (!(e instanceof t))
              throw new TypeError('Cannot call a class as a function')
          }
          function ee(e, t) {
            if (!e)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              )
            return !t || ('object' != typeof t && 'function' != typeof t)
              ? e
              : t
          }
          function te(e, t) {
            if ('function' != typeof t && null !== t)
              throw new TypeError(
                'Super expression must either be null or a function, not ' +
                  typeof t
              )
            ;(e.prototype = Object.create(t && t.prototype, {
              constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0,
              },
            })),
              t &&
                (Object.setPrototypeOf
                  ? Object.setPrototypeOf(e, t)
                  : (e.__proto__ = t))
          }
          function re(e, t) {
            if (!(e instanceof t))
              throw new TypeError('Cannot call a class as a function')
          }
          function ie(e, t) {
            if (!e)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              )
            return !t || ('object' != typeof t && 'function' != typeof t)
              ? e
              : t
          }
          function ne(e, t) {
            if ('function' != typeof t && null !== t)
              throw new TypeError(
                'Super expression must either be null or a function, not ' +
                  typeof t
              )
            ;(e.prototype = Object.create(t && t.prototype, {
              constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0,
              },
            })),
              t &&
                (Object.setPrototypeOf
                  ? Object.setPrototypeOf(e, t)
                  : (e.__proto__ = t))
          }
          function ae() {
            ;(this.window = window),
              (this.state = 'INITIAL'),
              (this.buffer = ''),
              (this.decoder = new Xt()),
              (this.regionList = [])
          }
          function oe(e) {
            function t(e, t, r, i) {
              return (
                3600 * (0 | e) + 60 * (0 | t) + (0 | r) + (0 | i) / 1e3
              )
            }
            var r = e.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/)
            return r
              ? r[3]
                ? t(r[1], r[2], r[3].replace(':', ''), r[4])
                : r[1] > 59
                ? t(r[1], r[2], 0, r[4])
                : t(0, r[1], r[2], r[4])
              : null
          }
          function se() {
            this.values = Object.create(null)
          }
          function ue(e, t, r, i) {
            var n = i ? e.split(i) : [e]
            for (var a in n)
              if ('string' == typeof n[a]) {
                var o = n[a].split(r)
                if (2 === o.length) {
                  var s = o[0],
                    u = o[1]
                  t(s, u)
                }
              }
          }
          function le(e, t, r) {
            function i() {
              var t = oe(e)
              if (null === t) throw new Error('Malformed timestamp: ' + a)
              return (e = e.replace(/^[^\sa-zA-Z-]+/, '')), t
            }
            function n() {
              e = e.replace(/^\s+/, '')
            }
            var a = e
            if (
              (n(), (t.startTime = i()), n(), '--\x3e' !== e.substr(0, 3))
            )
              throw new Error(
                "Malformed time stamp (time stamps must be separated by '--\x3e'): " +
                  a
              )
            ;(e = e.substr(3)),
              n(),
              (t.endTime = i()),
              n(),
              (function (e, t) {
                var i = new se()
                ue(
                  e,
                  function (e, t) {
                    switch (e) {
                      case 'region':
                        for (var n = r.length - 1; n >= 0; n--)
                          if (r[n].id === t) {
                            i.set(e, r[n].region)
                            break
                          }
                        break
                      case 'vertical':
                        i.alt(e, t, ['rl', 'lr'])
                        break
                      case 'line':
                        var a = t.split(','),
                          o = a[0]
                        i.integer(e, o),
                          i.percent(e, o) && i.set('snapToLines', !1),
                          i.alt(e, o, ['auto']),
                          2 === a.length &&
                            i.alt('lineAlign', a[1], ['start', Jt, 'end'])
                        break
                      case 'position':
                        ;(a = t.split(',')),
                          i.percent(e, a[0]),
                          2 === a.length &&
                            i.alt('positionAlign', a[1], [
                              'start',
                              Jt,
                              'end',
                              'line-left',
                              'line-right',
                              'auto',
                            ])
                        break
                      case 'size':
                        i.percent(e, t)
                        break
                      case 'align':
                        i.alt(e, t, ['start', Jt, 'end', 'left', 'right'])
                    }
                  },
                  /:/,
                  /\s/
                ),
                  (t.region = i.get('region', null)),
                  (t.vertical = i.get('vertical', ''))
                var n = i.get('line', 'auto')
                'auto' === n && -1 === $t.line && (n = -1),
                  (t.line = n),
                  (t.lineAlign = i.get('lineAlign', 'start')),
                  (t.snapToLines = i.get('snapToLines', !0)),
                  (t.size = i.get('size', 100)),
                  (t.align = i.get('align', Jt))
                var a = i.get('position', 'auto')
                'auto' === a &&
                  50 === $t.position &&
                  (a =
                    'start' === t.align || 'left' === t.align
                      ? 0
                      : 'end' === t.align || 'right' === t.align
                      ? 100
                      : 50),
                  (t.position = a)
              })(e, t)
          }
          function ce(e) {
            return e.replace(/<br(?: \/)?>/gi, '\n')
          }
          function de(e, t, r, i) {
            for (
              var n,
                a,
                o,
                s,
                u,
                l = window.VTTCue || window.TextTrackCue,
                c = 0;
              c < i.rows.length;
              c++
            )
              if (
                ((n = i.rows[c]),
                (o = !0),
                (s = 0),
                (u = ''),
                !n.isEmpty())
              ) {
                for (var d = 0; d < n.chars.length; d++)
                  n.chars[d].uchar.match(/\s/) && o
                    ? s++
                    : ((u += n.chars[d].uchar), (o = !1))
                ;(n.cueStartTime = t),
                  t === r && (r += 1e-4),
                  (a = new l(t, r, ce(u.trim()))),
                  s >= 16 ? s-- : s++,
                  navigator.userAgent.match(/Firefox\//)
                    ? (a.line = c + 1)
                    : (a.line = c > 7 ? c - 2 : c + 1),
                  (a.align = 'left'),
                  (a.position = Math.max(
                    0,
                    Math.min(
                      100,
                      (s / 32) * 100 +
                        (navigator.userAgent.match(/Firefox\//) ? 50 : 0)
                    )
                  )),
                  e.addCue(a)
              }
          }
          function fe(e, t) {
            if (!(e instanceof t))
              throw new TypeError('Cannot call a class as a function')
          }
          function he(e, t) {
            if (!(e instanceof t))
              throw new TypeError('Cannot call a class as a function')
          }
          function pe(e, t) {
            if (!(e instanceof t))
              throw new TypeError('Cannot call a class as a function')
          }
          function ve(e, t) {
            if (!e)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              )
            return !t || ('object' != typeof t && 'function' != typeof t)
              ? e
              : t
          }
          function ge(e, t) {
            if ('function' != typeof t && null !== t)
              throw new TypeError(
                'Super expression must either be null or a function, not ' +
                  typeof t
              )
            ;(e.prototype = Object.create(t && t.prototype, {
              constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0,
              },
            })),
              t &&
                (Object.setPrototypeOf
                  ? Object.setPrototypeOf(e, t)
                  : (e.__proto__ = t))
          }
          function ye(e) {
            if (e && e.cues)
              for (; e.cues.length > 0; ) e.removeCue(e.cues[0])
          }
          function me(e, t) {
            return (
              e && e.label === t.name && !(e.textTrack1 || e.textTrack2)
            )
          }
          function _e(e, t, r, i) {
            return Math.min(t, i) - Math.max(e, r)
          }
          function be(e, t) {
            if (!(e instanceof t))
              throw new TypeError('Cannot call a class as a function')
          }
          function Ee(e, t) {
            if (!e)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              )
            return !t || ('object' != typeof t && 'function' != typeof t)
              ? e
              : t
          }
          function we(e, t) {
            if ('function' != typeof t && null !== t)
              throw new TypeError(
                'Super expression must either be null or a function, not ' +
                  typeof t
              )
            ;(e.prototype = Object.create(t && t.prototype, {
              constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0,
              },
            })),
              t &&
                (Object.setPrototypeOf
                  ? Object.setPrototypeOf(e, t)
                  : (e.__proto__ = t))
          }
          function Te(e) {
            for (var t = [], r = 0; r < e.length; r++)
              'subtitles' === e[r].kind && t.push(e[r])
            return t
          }
          function Se(e, t) {
            if (!(e instanceof t))
              throw new TypeError('Cannot call a class as a function')
          }
          function Ae(e, t) {
            if (!e)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              )
            return !t || ('object' != typeof t && 'function' != typeof t)
              ? e
              : t
          }
          function Re(e, t) {
            if ('function' != typeof t && null !== t)
              throw new TypeError(
                'Super expression must either be null or a function, not ' +
                  typeof t
              )
            ;(e.prototype = Object.create(t && t.prototype, {
              constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0,
              },
            })),
              t &&
                (Object.setPrototypeOf
                  ? Object.setPrototypeOf(e, t)
                  : (e.__proto__ = t))
          }
          function ke(e, t) {
            if (!(e instanceof t))
              throw new TypeError('Cannot call a class as a function')
          }
          Object.defineProperty(t, '__esModule', { value: !0 })
          var De = {}
          r.d(De, 'newCue', function () {
            return de
          })
          var Oe = r(6),
            Le = r.n(Oe),
            Pe = r(1),
            xe = r(2),
            Ie = r(0),
            Ce =
              'function' == typeof Symbol &&
              'symbol' == typeof Symbol.iterator
                ? function (e) {
                    return typeof e
                  }
                : function (e) {
                    return e &&
                      'function' == typeof Symbol &&
                      e.constructor === Symbol &&
                      e !== Symbol.prototype
                      ? 'symbol'
                      : typeof e
                  },
            Me = (function () {
              function e(t) {
                i(this, e),
                  (this.hls = t),
                  (this.onEvent = this.onEvent.bind(this))
                for (
                  var r = arguments.length,
                    n = Array(r > 1 ? r - 1 : 0),
                    a = 1;
                  a < r;
                  a++
                )
                  n[a - 1] = arguments[a]
                ;(this.handledEvents = n),
                  (this.useGenericHandler = !0),
                  this.registerListeners()
              }
              return (
                (e.prototype.destroy = function () {
                  this.unregisterListeners()
                }),
                (e.prototype.isEventHandler = function () {
                  return (
                    'object' === Ce(this.handledEvents) &&
                    this.handledEvents.length &&
                    'function' == typeof this.onEvent
                  )
                }),
                (e.prototype.registerListeners = function () {
                  this.isEventHandler() &&
                    this.handledEvents.forEach(function (e) {
                      if ('hlsEventGeneric' === e)
                        throw new Error('Forbidden event name: ' + e)
                      this.hls.on(e, this.onEvent)
                    }, this)
                }),
                (e.prototype.unregisterListeners = function () {
                  this.isEventHandler() &&
                    this.handledEvents.forEach(function (e) {
                      this.hls.off(e, this.onEvent)
                    }, this)
                }),
                (e.prototype.onEvent = function (e, t) {
                  this.onEventGeneric(e, t)
                }),
                (e.prototype.onEventGeneric = function (e, t) {
                  var r = function (e, t) {
                    var r = 'on' + e.replace('hls', '')
                    if ('function' != typeof this[r])
                      throw new Error(
                        'Event ' +
                          e +
                          ' has no generic handler in this ' +
                          this.constructor.name +
                          ' class (tried ' +
                          r +
                          ')'
                      )
                    return this[r].bind(this, t)
                  }
                  try {
                    r.call(this, e, t).call()
                  } catch (t) {
                    Ie.b.error(
                      'internal error happened while processing ' +
                        e +
                        ':' +
                        t.message
                    ),
                      this.hls.trigger(Pe.a.ERROR, {
                        type: xe.b.OTHER_ERROR,
                        details: xe.a.INTERNAL_EXCEPTION,
                        fatal: !1,
                        event: e,
                        err: t,
                      })
                  }
                }),
                e
              )
            })(),
            Ne = Me,
            Fe = /^(\d+)x(\d+)$/,
            Ue = /\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g,
            Be = (function () {
              function e(t) {
                n(this, e),
                  'string' == typeof t && (t = e.parseAttrList(t))
                for (var r in t) t.hasOwnProperty(r) && (this[r] = t[r])
              }
              return (
                (e.prototype.decimalInteger = function (e) {
                  var t = parseInt(this[e], 10)
                  return t > Number.MAX_SAFE_INTEGER ? 1 / 0 : t
                }),
                (e.prototype.hexadecimalInteger = function (e) {
                  if (this[e]) {
                    var t = (this[e] || '0x').slice(2)
                    t = (1 & t.length ? '0' : '') + t
                    for (
                      var r = new Uint8Array(t.length / 2), i = 0;
                      i < t.length / 2;
                      i++
                    )
                      r[i] = parseInt(t.slice(2 * i, 2 * i + 2), 16)
                    return r
                  }
                  return null
                }),
                (e.prototype.hexadecimalIntegerAsNumber = function (e) {
                  var t = parseInt(this[e], 16)
                  return t > Number.MAX_SAFE_INTEGER ? 1 / 0 : t
                }),
                (e.prototype.decimalFloatingPoint = function (e) {
                  return parseFloat(this[e])
                }),
                (e.prototype.enumeratedString = function (e) {
                  return this[e]
                }),
                (e.prototype.decimalResolution = function (e) {
                  var t = Fe.exec(this[e])
                  if (null !== t)
                    return {
                      width: parseInt(t[1], 10),
                      height: parseInt(t[2], 10),
                    }
                }),
                (e.parseAttrList = function (e) {
                  var t,
                    r = {}
                  for (Ue.lastIndex = 0; null !== (t = Ue.exec(e)); ) {
                    var i = t[2]
                    0 === i.indexOf('"') &&
                      i.lastIndexOf('"') === i.length - 1 &&
                      (i = i.slice(1, -1)),
                      (r[t[1]] = i)
                  }
                  return r
                }),
                e
              )
            })(),
            je = Be,
            Ge = {
              audio: {
                'a3ds': !0,
                'ac-3': !0,
                'ac-4': !0,
                'alac': !0,
                'alaw': !0,
                'dra1': !0,
                'dts+': !0,
                'dts-': !0,
                'dtsc': !0,
                'dtse': !0,
                'dtsh': !0,
                'ec-3': !0,
                'enca': !0,
                'g719': !0,
                'g726': !0,
                'm4ae': !0,
                'mha1': !0,
                'mha2': !0,
                'mhm1': !0,
                'mhm2': !0,
                'mlpa': !0,
                'mp4a': !0,
                'raw ': !0,
                'Opus': !0,
                'samr': !0,
                'sawb': !0,
                'sawp': !0,
                'sevc': !0,
                'sqcp': !0,
                'ssmv': !0,
                'twos': !0,
                'ulaw': !0,
              },
              video: {
                'avc1': !0,
                'avc2': !0,
                'avc3': !0,
                'avc4': !0,
                'avcp': !0,
                'drac': !0,
                'dvav': !0,
                'dvhe': !0,
                'encv': !0,
                'hev1': !0,
                'hvc1': !0,
                'mjp2': !0,
                'mp4v': !0,
                'mvc1': !0,
                'mvc2': !0,
                'mvc3': !0,
                'mvc4': !0,
                'resv': !0,
                'rv60': !0,
                's263': !0,
                'svc1': !0,
                'svc2': !0,
                'vc-1': !0,
                'vp08': !0,
                'vp09': !0,
              },
            },
            He = (function () {
              function e(e, t) {
                for (var r = 0; r < t.length; r++) {
                  var i = t[r]
                  ;(i.enumerable = i.enumerable || !1),
                    (i.configurable = !0),
                    'value' in i && (i.writable = !0),
                    Object.defineProperty(e, i.key, i)
                }
              }
              return function (t, r, i) {
                return r && e(t.prototype, r), i && e(t, i), t
              }
            })(),
            qe = /#EXT-X-STREAM-INF:([^\n\r]*)[\r\n]+([^\r\n]+)/g,
            Ve = /#EXT-X-MEDIA:(.*)/g,
            Ke = new RegExp(
              [
                /#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,
                /|(?!#)(\S+)/.source,
                /|#EXT-X-BYTERANGE:*(.+)/.source,
                /|#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,
                /|#.*/.source,
              ].join(''),
              'g'
            ),
            ze =
              /(?:(?:#(EXTM3U))|(?:#EXT-X-(PLAYLIST-TYPE):(.+))|(?:#EXT-X-(MEDIA-SEQUENCE): *(\d+))|(?:#EXT-X-(TARGETDURATION): *(\d+))|(?:#EXT-X-(KEY):(.+))|(?:#EXT-X-(START):(.+))|(?:#EXT-X-(ENDLIST))|(?:#EXT-X-(DISCONTINUITY-SEQ)UENCE:(\d+))|(?:#EXT-X-(DIS)CONTINUITY))|(?:#EXT-X-(VERSION):(\d+))|(?:#EXT-X-(MAP):(.+))|(?:(#)(.*):(.*))|(?:(#)(.*))(?:.*)\r?\n?/,
            We = (function () {
              function e() {
                l(this, e),
                  (this.method = null),
                  (this.key = null),
                  (this.iv = null),
                  (this._uri = null)
              }
              return (
                He(e, [
                  {
                    key: 'uri',
                    get: function () {
                      return (
                        !this._uri &&
                          this.reluri &&
                          (this._uri = Le.a.buildAbsoluteURL(
                            this.baseuri,
                            this.reluri,
                            { alwaysNormalize: !0 }
                          )),
                        this._uri
                      )
                    },
                  },
                ]),
                e
              )
            })(),
            Ye = (function () {
              function e() {
                l(this, e),
                  (this._url = null),
                  (this._byteRange = null),
                  (this._decryptdata = null),
                  (this.tagList = [])
              }
              return (
                (e.prototype.createInitializationVector = function (e) {
                  for (var t = new Uint8Array(16), r = 12; r < 16; r++)
                    t[r] = (e >> (8 * (15 - r))) & 255
                  return t
                }),
                (e.prototype.fragmentDecryptdataFromLevelkey = function (
                  e,
                  t
                ) {
                  var r = e
                  return (
                    e &&
                      e.method &&
                      e.uri &&
                      !e.iv &&
                      ((r = new We()),
                      (r.method = e.method),
                      (r.baseuri = e.baseuri),
                      (r.reluri = e.reluri),
                      (r.iv = this.createInitializationVector(t))),
                    r
                  )
                }),
                (e.prototype.cloneObj = function (e) {
                  return JSON.parse(JSON.stringify(e))
                }),
                He(e, [
                  {
                    key: 'url',
                    get: function () {
                      return (
                        !this._url &&
                          this.relurl &&
                          (this._url = Le.a.buildAbsoluteURL(
                            this.baseurl,
                            this.relurl,
                            { alwaysNormalize: !0 }
                          )),
                        this._url
                      )
                    },
                    set: function (e) {
                      this._url = e
                    },
                  },
                  {
                    key: 'programDateTime',
                    get: function () {
                      return (
                        !this._programDateTime &&
                          this.rawProgramDateTime &&
                          (this._programDateTime = new Date(
                            Date.parse(this.rawProgramDateTime)
                          )),
                        this._programDateTime
                      )
                    },
                  },
                  {
                    key: 'byteRange',
                    get: function () {
                      if (!this._byteRange) {
                        var e = (this._byteRange = [])
                        if (this.rawByteRange) {
                          var t = this.rawByteRange.split('@', 2)
                          if (1 === t.length) {
                            var r = this.lastByteRangeEndOffset
                            e[0] = r || 0
                          } else e[0] = parseInt(t[1])
                          e[1] = parseInt(t[0]) + e[0]
                        }
                      }
                      return this._byteRange
                    },
                  },
                  {
                    key: 'byteRangeStartOffset',
                    get: function () {
                      return this.byteRange[0]
                    },
                  },
                  {
                    key: 'byteRangeEndOffset',
                    get: function () {
                      return this.byteRange[1]
                    },
                  },
                  {
                    key: 'decryptdata',
                    get: function () {
                      return (
                        this._decryptdata ||
                          (this._decryptdata =
                            this.fragmentDecryptdataFromLevelkey(
                              this.levelkey,
                              this.sn
                            )),
                        this._decryptdata
                      )
                    },
                  },
                ]),
                e
              )
            })(),
            Qe = (function (e) {
              function t(r) {
                l(this, t)
                var i = s(
                  this,
                  e.call(
                    this,
                    r,
                    Pe.a.MANIFEST_LOADING,
                    Pe.a.LEVEL_LOADING,
                    Pe.a.AUDIO_TRACK_LOADING,
                    Pe.a.SUBTITLE_TRACK_LOADING
                  )
                )
                return (i.loaders = {}), i
              }
              return (
                u(t, e),
                (t.prototype.destroy = function () {
                  for (var e in this.loaders) {
                    var t = this.loaders[e]
                    t && t.destroy()
                  }
                  ;(this.loaders = {}), Ne.prototype.destroy.call(this)
                }),
                (t.prototype.onManifestLoading = function (e) {
                  this.load(e.url, { type: 'manifest' })
                }),
                (t.prototype.onLevelLoading = function (e) {
                  this.load(e.url, {
                    type: 'level',
                    level: e.level,
                    id: e.id,
                  })
                }),
                (t.prototype.onAudioTrackLoading = function (e) {
                  this.load(e.url, { type: 'audioTrack', id: e.id })
                }),
                (t.prototype.onSubtitleTrackLoading = function (e) {
                  this.load(e.url, { type: 'subtitleTrack', id: e.id })
                }),
                (t.prototype.load = function (e, t) {
                  var r = this.loaders[t.type]
                  if (void 0 !== r) {
                    var i = r.context
                    if (i && i.url === e)
                      return void Ie.b.trace('playlist request ongoing')
                    Ie.b.warn('abort previous loader for type:' + t.type),
                      r.abort()
                  }
                  var n = this.hls.config,
                    a = void 0,
                    o = void 0,
                    s = void 0,
                    u = void 0
                  'manifest' === t.type
                    ? ((a = n.manifestLoadingMaxRetry),
                      (o = n.manifestLoadingTimeOut),
                      (s = n.manifestLoadingRetryDelay),
                      (u = n.manifestLoadingMaxRetryTimeout))
                    : 'level' === t.type
                    ? ((a = 0), (o = n.levelLoadingTimeOut))
                    : ((a = n.levelLoadingMaxRetry),
                      (o = n.levelLoadingTimeOut),
                      (s = n.levelLoadingRetryDelay),
                      (u = n.levelLoadingMaxRetryTimeout),
                      Ie.b.log(
                        'loading playlist for ' +
                          t.type +
                          ' ' +
                          (t.level || t.id)
                      )),
                    (r =
                      this.loaders[t.type] =
                      t.loader =
                        void 0 !== n.pLoader
                          ? new n.pLoader(n)
                          : new n.loader(n)),
                    (t.url = e),
                    (t.responseType = '')
                  var l = void 0,
                    c = void 0
                  ;(l = {
                    timeout: o,
                    maxRetry: a,
                    retryDelay: s,
                    maxRetryDelay: u,
                  }),
                    (c = {
                      onSuccess: this.loadsuccess.bind(this),
                      onError: this.loaderror.bind(this),
                      onTimeout: this.loadtimeout.bind(this),
                    }),
                    r.load(t, l, c)
                }),
                (t.prototype.resolve = function (e, t) {
                  return Le.a.buildAbsoluteURL(t, e, {
                    alwaysNormalize: !0,
                  })
                }),
                (t.prototype.parseMasterPlaylist = function (e, t) {
                  var r = [],
                    i = void 0
                  for (qe.lastIndex = 0; null != (i = qe.exec(e)); ) {
                    var n = {},
                      o = (n.attrs = new je(i[1]))
                    n.url = this.resolve(i[2], t)
                    var s = o.decimalResolution('RESOLUTION')
                    s && ((n.width = s.width), (n.height = s.height)),
                      (n.bitrate =
                        o.decimalInteger('AVERAGE-BANDWIDTH') ||
                        o.decimalInteger('BANDWIDTH')),
                      (n.name = o.NAME),
                      (function (e, t) {
                        ;['video', 'audio'].forEach(function (r) {
                          var i = e.filter(function (e) {
                            return a(e, r)
                          })
                          if (i.length) {
                            var n = i.filter(function (e) {
                              return (
                                0 === e.lastIndexOf('avc1', 0) ||
                                0 === e.lastIndexOf('mp4a', 0)
                              )
                            })
                            ;(t[r + 'Codec'] = n.length > 0 ? n[0] : i[0]),
                              (e = e.filter(function (e) {
                                return -1 === i.indexOf(e)
                              }))
                          }
                        }),
                          (t.unknownCodecs = e)
                      })([].concat((o.CODECS || '').split(/[ ,]+/)), n),
                      n.videoCodec &&
                        -1 !== n.videoCodec.indexOf('avc1') &&
                        (n.videoCodec = this.avc1toavcoti(n.videoCodec)),
                      r.push(n)
                  }
                  return r
                }),
                (t.prototype.parseMasterPlaylistMedia = function (
                  e,
                  t,
                  r
                ) {
                  var i =
                      arguments.length > 3 && void 0 !== arguments[3]
                        ? arguments[3]
                        : [],
                    n = void 0,
                    a = [],
                    o = 0
                  for (Ve.lastIndex = 0; null !== (n = Ve.exec(e)); ) {
                    var s = {},
                      u = new je(n[1])
                    if (u.TYPE === r) {
                      if (
                        ((s.groupId = u['GROUP-ID']),
                        (s.name = u.NAME),
                        (s.type = r),
                        (s.default = 'YES' === u.DEFAULT),
                        (s.autoselect = 'YES' === u.AUTOSELECT),
                        (s.forced = 'YES' === u.FORCED),
                        u.URI && (s.url = this.resolve(u.URI, t)),
                        (s.lang = u.LANGUAGE),
                        s.name || (s.name = s.lang),
                        i.length)
                      ) {
                        var l = c(i, s.groupId)
                        s.audioCodec = l ? l.codec : i[0].codec
                      }
                      ;(s.id = o++), a.push(s)
                    }
                  }
                  return a
                }),
                (t.prototype.avc1toavcoti = function (e) {
                  var t,
                    r = e.split('.')
                  return (
                    r.length > 2
                      ? ((t = r.shift() + '.'),
                        (t += parseInt(r.shift()).toString(16)),
                        (t += (
                          '000' + parseInt(r.shift()).toString(16)
                        ).substr(-4)))
                      : (t = e),
                    t
                  )
                }),
                (t.prototype.parseLevelPlaylist = function (e, t, r, i) {
                  var n,
                    a,
                    o = 0,
                    s = 0,
                    u = {
                      type: null,
                      version: null,
                      url: t,
                      fragments: [],
                      live: !0,
                      startSN: 0,
                    },
                    l = new We(),
                    c = 0,
                    d = null,
                    f = new Ye()
                  for (Ke.lastIndex = 0; null !== (n = Ke.exec(e)); ) {
                    var h = n[1]
                    if (h) {
                      f.duration = parseFloat(h)
                      var p = (' ' + n[2]).slice(1)
                      ;(f.title = p || null),
                        f.tagList.push(p ? ['INF', h, p] : ['INF', h])
                    } else if (n[3]) {
                      if (!isNaN(f.duration)) {
                        var v = o++
                        ;(f.type = i),
                          (f.start = s),
                          (f.levelkey = l),
                          (f.sn = v),
                          (f.level = r),
                          (f.cc = c),
                          (f.baseurl = t),
                          (f.relurl = (' ' + n[3]).slice(1)),
                          u.fragments.push(f),
                          (d = f),
                          (s += f.duration),
                          (f = new Ye())
                      }
                    } else if (n[4]) {
                      if (((f.rawByteRange = (' ' + n[4]).slice(1)), d)) {
                        var g = d.byteRangeEndOffset
                        g && (f.lastByteRangeEndOffset = g)
                      }
                    } else if (n[5])
                      (f.rawProgramDateTime = (' ' + n[5]).slice(1)),
                        f.tagList.push([
                          'PROGRAM-DATE-TIME',
                          f.rawProgramDateTime,
                        ]),
                        void 0 === u.programDateTime &&
                          (u.programDateTime = new Date(
                            new Date(Date.parse(n[5])) - 1e3 * s
                          ))
                    else {
                      for (
                        n = n[0].match(ze), a = 1;
                        a < n.length && void 0 === n[a];
                        a++
                      );
                      var y = (' ' + n[a + 1]).slice(1),
                        m = (' ' + n[a + 2]).slice(1)
                      switch (n[a]) {
                        case '#':
                          f.tagList.push(m ? [y, m] : [y])
                          break
                        case 'PLAYLIST-TYPE':
                          u.type = y.toUpperCase()
                          break
                        case 'MEDIA-SEQUENCE':
                          o = u.startSN = parseInt(y)
                          break
                        case 'TARGETDURATION':
                          u.targetduration = parseFloat(y)
                          break
                        case 'VERSION':
                          u.version = parseInt(y)
                          break
                        case 'EXTM3U':
                          break
                        case 'ENDLIST':
                          u.live = !1
                          break
                        case 'DIS':
                          c++, f.tagList.push(['DIS'])
                          break
                        case 'DISCONTINUITY-SEQ':
                          c = parseInt(y)
                          break
                        case 'KEY':
                          var _ = y,
                            b = new je(_),
                            E = b.enumeratedString('METHOD'),
                            w = b.URI,
                            T = b.hexadecimalInteger('IV')
                          E &&
                            ((l = new We()),
                            w &&
                              ['AES-128', 'SAMPLE-AES'].indexOf(E) >= 0 &&
                              ((l.method = E),
                              (l.baseuri = t),
                              (l.reluri = w),
                              (l.key = null),
                              (l.iv = T)))
                          break
                        case 'START':
                          var S = y,
                            A = new je(S),
                            R = A.decimalFloatingPoint('TIME-OFFSET')
                          isNaN(R) || (u.startTimeOffset = R)
                          break
                        case 'MAP':
                          var k = new je(y)
                          ;(f.relurl = k.URI),
                            (f.rawByteRange = k.BYTERANGE),
                            (f.baseurl = t),
                            (f.level = r),
                            (f.type = i),
                            (f.sn = 'initSegment'),
                            (u.initSegment = f),
                            (f = new Ye())
                          break
                        default:
                          Ie.b.warn('line parsed but not handled: ' + n)
                      }
                    }
                  }
                  return (
                    (f = d),
                    f &&
                      !f.relurl &&
                      (u.fragments.pop(), (s -= f.duration)),
                    (u.totalduration = s),
                    (u.averagetargetduration = s / u.fragments.length),
                    (u.endSN = o - 1),
                    (u.startCC = u.fragments[0] ? u.fragments[0].cc : 0),
                    (u.endCC = c),
                    u
                  )
                }),
                (t.prototype.loadsuccess = function (e, t, r) {
                  var i =
                      arguments.length > 3 && void 0 !== arguments[3]
                        ? arguments[3]
                        : null,
                    n = e.data,
                    a = e.url,
                    o = r.type,
                    s = r.id,
                    u = r.level,
                    l = this.hls
                  if (
                    ((this.loaders[o] = void 0),
                    (void 0 !== a && 0 !== a.indexOf('data:')) ||
                      (a = r.url),
                    (t.tload = performance.now()),
                    0 === n.indexOf('#EXTM3U'))
                  )
                    if (n.indexOf('#EXTINF:') > 0) {
                      var c = 'audioTrack' !== o && 'subtitleTrack' !== o,
                        d = isNaN(u) ? (isNaN(s) ? 0 : s) : u,
                        f = this.parseLevelPlaylist(
                          n,
                          a,
                          d,
                          'audioTrack' === o
                            ? 'audio'
                            : 'subtitleTrack' === o
                            ? 'subtitle'
                            : 'main'
                        )
                      ;(f.tload = t.tload),
                        'manifest' === o &&
                          l.trigger(Pe.a.MANIFEST_LOADED, {
                            levels: [{ url: a, details: f }],
                            audioTracks: [],
                            url: a,
                            stats: t,
                            networkDetails: i,
                          }),
                        (t.tparsed = performance.now()),
                        f.targetduration
                          ? c
                            ? l.trigger(Pe.a.LEVEL_LOADED, {
                                details: f,
                                level: u || 0,
                                id: s || 0,
                                stats: t,
                                networkDetails: i,
                              })
                            : 'audioTrack' === o
                            ? l.trigger(Pe.a.AUDIO_TRACK_LOADED, {
                                details: f,
                                id: s,
                                stats: t,
                                networkDetails: i,
                              })
                            : 'subtitleTrack' === o &&
                              l.trigger(Pe.a.SUBTITLE_TRACK_LOADED, {
                                details: f,
                                id: s,
                                stats: t,
                                networkDetails: i,
                              })
                          : l.trigger(Pe.a.ERROR, {
                              type: xe.b.NETWORK_ERROR,
                              details: xe.a.MANIFEST_PARSING_ERROR,
                              fatal: !0,
                              url: a,
                              reason: 'invalid targetduration',
                              networkDetails: i,
                            })
                    } else {
                      var h = this.parseMasterPlaylist(n, a)
                      if (h.length) {
                        var p = h.map(function (e) {
                            return {
                              id: e.attrs.AUDIO,
                              codec: e.audioCodec,
                            }
                          }),
                          v = this.parseMasterPlaylistMedia(
                            n,
                            a,
                            'AUDIO',
                            p
                          ),
                          g = this.parseMasterPlaylistMedia(
                            n,
                            a,
                            'SUBTITLES'
                          )
                        if (v.length) {
                          var y = !1
                          v.forEach(function (e) {
                            e.url || (y = !0)
                          }),
                            !1 === y &&
                              h[0].audioCodec &&
                              !h[0].attrs.AUDIO &&
                              (Ie.b.log(
                                'audio codec signaled in quality level, but no embedded audio track signaled, create one'
                              ),
                              v.unshift({ type: 'main', name: 'main' }))
                        }
                        l.trigger(Pe.a.MANIFEST_LOADED, {
                          levels: h,
                          audioTracks: v,
                          subtitles: g,
                          url: a,
                          stats: t,
                          networkDetails: i,
                        })
                      } else
                        l.trigger(Pe.a.ERROR, {
                          type: xe.b.NETWORK_ERROR,
                          details: xe.a.MANIFEST_PARSING_ERROR,
                          fatal: !0,
                          url: a,
                          reason: 'no level found in manifest',
                          networkDetails: i,
                        })
                    }
                  else
                    l.trigger(Pe.a.ERROR, {
                      type: xe.b.NETWORK_ERROR,
                      details: xe.a.MANIFEST_PARSING_ERROR,
                      fatal: !0,
                      url: a,
                      reason: 'no EXTM3U delimiter',
                      networkDetails: i,
                    })
                }),
                (t.prototype.loaderror = function (e, t) {
                  var r,
                    i,
                    n =
                      arguments.length > 2 && void 0 !== arguments[2]
                        ? arguments[2]
                        : null,
                    a = t.loader
                  switch (t.type) {
                    case 'manifest':
                      ;(r = xe.a.MANIFEST_LOAD_ERROR), (i = !0)
                      break
                    case 'level':
                      ;(r = xe.a.LEVEL_LOAD_ERROR), (i = !1)
                      break
                    case 'audioTrack':
                      ;(r = xe.a.AUDIO_TRACK_LOAD_ERROR), (i = !1)
                  }
                  a && (a.abort(), (this.loaders[t.type] = void 0)),
                    this.hls.trigger(Pe.a.ERROR, {
                      type: xe.b.NETWORK_ERROR,
                      details: r,
                      fatal: i,
                      url: a.url,
                      loader: a,
                      response: e,
                      context: t,
                      networkDetails: n,
                    })
                }),
                (t.prototype.loadtimeout = function (e, t) {
                  var r,
                    i,
                    n =
                      arguments.length > 2 && void 0 !== arguments[2]
                        ? arguments[2]
                        : null,
                    a = t.loader
                  switch (t.type) {
                    case 'manifest':
                      ;(r = xe.a.MANIFEST_LOAD_TIMEOUT), (i = !0)
                      break
                    case 'level':
                      ;(r = xe.a.LEVEL_LOAD_TIMEOUT), (i = !1)
                      break
                    case 'audioTrack':
                      ;(r = xe.a.AUDIO_TRACK_LOAD_TIMEOUT), (i = !1)
                  }
                  a && (a.abort(), (this.loaders[t.type] = void 0)),
                    this.hls.trigger(Pe.a.ERROR, {
                      type: xe.b.NETWORK_ERROR,
                      details: r,
                      fatal: i,
                      url: a.url,
                      loader: a,
                      context: t,
                      networkDetails: n,
                    })
                }),
                t
              )
            })(Ne),
            Xe = Qe,
            $e = (function (e) {
              function t(r) {
                d(this, t)
                var i = f(this, e.call(this, r, Pe.a.FRAG_LOADING))
                return (i.loaders = {}), i
              }
              return (
                h(t, e),
                (t.prototype.destroy = function () {
                  var e = this.loaders
                  for (var t in e) {
                    var r = e[t]
                    r && r.destroy()
                  }
                  ;(this.loaders = {}), Ne.prototype.destroy.call(this)
                }),
                (t.prototype.onFragLoading = function (e) {
                  var t = e.frag,
                    r = t.type,
                    i = this.loaders[r],
                    n = this.hls.config
                  ;(t.loaded = 0),
                    i &&
                      (Ie.b.warn(
                        'abort previous fragment loader for type:' + r
                      ),
                      i.abort()),
                    (i =
                      this.loaders[r] =
                      t.loader =
                        void 0 !== n.fLoader
                          ? new n.fLoader(n)
                          : new n.loader(n))
                  var a = void 0,
                    o = void 0,
                    s = void 0
                  a = {
                    url: t.url,
                    frag: t,
                    responseType: 'arraybuffer',
                    progressData: !1,
                  }
                  var u = t.byteRangeStartOffset,
                    l = t.byteRangeEndOffset
                  isNaN(u) ||
                    isNaN(l) ||
                    ((a.rangeStart = u), (a.rangeEnd = l)),
                    (o = {
                      timeout: n.fragLoadingTimeOut,
                      maxRetry: 0,
                      retryDelay: 0,
                      maxRetryDelay: n.fragLoadingMaxRetryTimeout,
                    }),
                    (s = {
                      onSuccess: this.loadsuccess.bind(this),
                      onError: this.loaderror.bind(this),
                      onTimeout: this.loadtimeout.bind(this),
                      onProgress: this.loadprogress.bind(this),
                    }),
                    i.load(a, o, s)
                }),
                (t.prototype.loadsuccess = function (e, t, r) {
                  var i =
                      arguments.length > 3 && void 0 !== arguments[3]
                        ? arguments[3]
                        : null,
                    n = e.data,
                    a = r.frag
                  ;(a.loader = void 0),
                    (this.loaders[a.type] = void 0),
                    this.hls.trigger(Pe.a.FRAG_LOADED, {
                      payload: n,
                      frag: a,
                      stats: t,
                      networkDetails: i,
                    })
                }),
                (t.prototype.loaderror = function (e, t) {
                  var r =
                      arguments.length > 2 && void 0 !== arguments[2]
                        ? arguments[2]
                        : null,
                    i = t.loader
                  i && i.abort(),
                    (this.loaders[t.type] = void 0),
                    this.hls.trigger(Pe.a.ERROR, {
                      type: xe.b.NETWORK_ERROR,
                      details: xe.a.FRAG_LOAD_ERROR,
                      fatal: !1,
                      frag: t.frag,
                      response: e,
                      networkDetails: r,
                    })
                }),
                (t.prototype.loadtimeout = function (e, t) {
                  var r =
                      arguments.length > 2 && void 0 !== arguments[2]
                        ? arguments[2]
                        : null,
                    i = t.loader
                  i && i.abort(),
                    (this.loaders[t.type] = void 0),
                    this.hls.trigger(Pe.a.ERROR, {
                      type: xe.b.NETWORK_ERROR,
                      details: xe.a.FRAG_LOAD_TIMEOUT,
                      fatal: !1,
                      frag: t.frag,
                      networkDetails: r,
                    })
                }),
                (t.prototype.loadprogress = function (e, t, r) {
                  var i =
                      arguments.length > 3 && void 0 !== arguments[3]
                        ? arguments[3]
                        : null,
                    n = t.frag
                  ;(n.loaded = e.loaded),
                    this.hls.trigger(Pe.a.FRAG_LOAD_PROGRESS, {
                      frag: n,
                      stats: e,
                      networkDetails: i,
                    })
                }),
                t
              )
            })(Ne),
            Je = $e,
            Ze = (function (e) {
              function t(r) {
                p(this, t)
                var i = v(this, e.call(this, r, Pe.a.KEY_LOADING))
                return (
                  (i.loaders = {}),
                  (i.decryptkey = null),
                  (i.decrypturl = null),
                  i
                )
              }
              return (
                g(t, e),
                (t.prototype.destroy = function () {
                  for (var e in this.loaders) {
                    var t = this.loaders[e]
                    t && t.destroy()
                  }
                  ;(this.loaders = {}), Ne.prototype.destroy.call(this)
                }),
                (t.prototype.onKeyLoading = function (e) {
                  var t = e.frag,
                    r = t.type,
                    i = this.loaders[r],
                    n = t.decryptdata,
                    a = n.uri
                  if (a !== this.decrypturl || null === this.decryptkey) {
                    var o = this.hls.config
                    i &&
                      (Ie.b.warn(
                        'abort previous key loader for type:' + r
                      ),
                      i.abort()),
                      (t.loader = this.loaders[r] = new o.loader(o)),
                      (this.decrypturl = a),
                      (this.decryptkey = null)
                    var s = void 0,
                      u = void 0,
                      l = void 0
                    ;(s = {
                      url: a,
                      frag: t,
                      responseType: 'arraybuffer',
                    }),
                      (u = {
                        timeout: o.fragLoadingTimeOut,
                        maxRetry: o.fragLoadingMaxRetry,
                        retryDelay: o.fragLoadingRetryDelay,
                        maxRetryDelay: o.fragLoadingMaxRetryTimeout,
                      }),
                      (l = {
                        onSuccess: this.loadsuccess.bind(this),
                        onError: this.loaderror.bind(this),
                        onTimeout: this.loadtimeout.bind(this),
                      }),
                      t.loader.load(s, u, l)
                  } else
                    this.decryptkey &&
                      ((n.key = this.decryptkey),
                      this.hls.trigger(Pe.a.KEY_LOADED, { frag: t }))
                }),
                (t.prototype.loadsuccess = function (e, t, r) {
                  var i = r.frag
                  ;(this.decryptkey = i.decryptdata.key =
                    new Uint8Array(e.data)),
                    (i.loader = void 0),
                    (this.loaders[i.type] = void 0),
                    this.hls.trigger(Pe.a.KEY_LOADED, { frag: i })
                }),
                (t.prototype.loaderror = function (e, t) {
                  var r = t.frag,
                    i = r.loader
                  i && i.abort(),
                    (this.loaders[t.type] = void 0),
                    this.hls.trigger(Pe.a.ERROR, {
                      type: xe.b.NETWORK_ERROR,
                      details: xe.a.KEY_LOAD_ERROR,
                      fatal: !1,
                      frag: r,
                      response: e,
                    })
                }),
                (t.prototype.loadtimeout = function (e, t) {
                  var r = t.frag,
                    i = r.loader
                  i && i.abort(),
                    (this.loaders[t.type] = void 0),
                    this.hls.trigger(Pe.a.ERROR, {
                      type: xe.b.NETWORK_ERROR,
                      details: xe.a.KEY_LOAD_TIMEOUT,
                      fatal: !1,
                      frag: r,
                    })
                }),
                t
              )
            })(Ne),
            et = Ze,
            tt = {
              search: function (e, t) {
                for (
                  var r = 0, i = e.length - 1, n = null, a = null;
                  r <= i;

                ) {
                  ;(n = ((r + i) / 2) | 0), (a = e[n])
                  var o = t(a)
                  if (o > 0) r = n + 1
                  else {
                    if (!(o < 0)) return a
                    i = n - 1
                  }
                }
                return null
              },
            },
            rt = tt,
            it = {
              isBuffered: function (e, t) {
                try {
                  if (e)
                    for (var r = e.buffered, i = 0; i < r.length; i++)
                      if (t >= r.start(i) && t <= r.end(i)) return !0
                } catch (e) {}
                return !1
              },
              bufferInfo: function (e, t, r) {
                try {
                  if (e) {
                    var i,
                      n = e.buffered,
                      a = []
                    for (i = 0; i < n.length; i++)
                      a.push({ start: n.start(i), end: n.end(i) })
                    return this.bufferedInfo(a, t, r)
                  }
                } catch (e) {}
                return { len: 0, start: t, end: t, nextStart: void 0 }
              },
              bufferedInfo: function (e, t, r) {
                var i,
                  n,
                  a,
                  o,
                  s,
                  u = []
                for (
                  e.sort(function (e, t) {
                    var r = e.start - t.start
                    return r || t.end - e.end
                  }),
                    s = 0;
                  s < e.length;
                  s++
                ) {
                  var l = u.length
                  if (l) {
                    var c = u[l - 1].end
                    e[s].start - c < r
                      ? e[s].end > c && (u[l - 1].end = e[s].end)
                      : u.push(e[s])
                  } else u.push(e[s])
                }
                for (s = 0, i = 0, n = a = t; s < u.length; s++) {
                  var d = u[s].start,
                    f = u[s].end
                  if (t + r >= d && t < f) (n = d), (a = f), (i = a - t)
                  else if (t + r < d) {
                    o = d
                    break
                  }
                }
                return { len: i, start: n, end: a, nextStart: o }
              },
            },
            nt = it,
            at = r(7),
            ot = r(5),
            st = r.n(ot),
            ut = r(9),
            lt = r.n(ut),
            ct = y(),
            dt = (function () {
              function e(t, r) {
                m(this, e), (this.hls = t), (this.id = r)
                var i = (this.observer = new st.a()),
                  n = t.config
                ;(i.trigger = function (e) {
                  for (
                    var t = arguments.length,
                      r = Array(t > 1 ? t - 1 : 0),
                      n = 1;
                    n < t;
                    n++
                  )
                    r[n - 1] = arguments[n]
                  i.emit.apply(i, [e, e].concat(r))
                }),
                  (i.off = function (e) {
                    for (
                      var t = arguments.length,
                        r = Array(t > 1 ? t - 1 : 0),
                        n = 1;
                      n < t;
                      n++
                    )
                      r[n - 1] = arguments[n]
                    i.removeListener.apply(i, [e].concat(r))
                  })
                var a = function (e, r) {
                  ;(r = r || {}),
                    (r.frag = this.frag),
                    (r.id = this.id),
                    t.trigger(e, r)
                }.bind(this)
                i.on(Pe.a.FRAG_DECRYPTED, a),
                  i.on(Pe.a.FRAG_PARSING_INIT_SEGMENT, a),
                  i.on(Pe.a.FRAG_PARSING_DATA, a),
                  i.on(Pe.a.FRAG_PARSED, a),
                  i.on(Pe.a.ERROR, a),
                  i.on(Pe.a.FRAG_PARSING_METADATA, a),
                  i.on(Pe.a.FRAG_PARSING_USERDATA, a),
                  i.on(Pe.a.INIT_PTS_FOUND, a)
                var o = {
                    mp4: ct.isTypeSupported('video/mp4'),
                    mpeg: ct.isTypeSupported('audio/mpeg'),
                    mp3: ct.isTypeSupported('audio/mp4; codecs="mp3"'),
                  },
                  s = navigator.vendor
                if (n.enableWorker && 'undefined' != typeof Worker) {
                  Ie.b.log('demuxing in webworker')
                  var u = void 0
                  try {
                    ;(u = this.w = lt()(10)),
                      (this.onwmsg = this.onWorkerMessage.bind(this)),
                      u.addEventListener('message', this.onwmsg),
                      (u.onerror = function (e) {
                        t.trigger(Pe.a.ERROR, {
                          type: xe.b.OTHER_ERROR,
                          details: xe.a.INTERNAL_EXCEPTION,
                          fatal: !0,
                          event: 'demuxerWorker',
                          err: {
                            message:
                              e.message +
                              ' (' +
                              e.filename +
                              ':' +
                              e.lineno +
                              ')',
                          },
                        })
                      }),
                      u.postMessage({
                        cmd: 'init',
                        typeSupported: o,
                        vendor: s,
                        id: r,
                        config: JSON.stringify(n),
                      })
                  } catch (e) {
                    Ie.b.error(
                      'error while initializing DemuxerWorker, fallback on DemuxerInline'
                    ),
                      u && URL.revokeObjectURL(u.objectURL),
                      (this.demuxer = new at.a(i, o, n, s)),
                      (this.w = void 0)
                  }
                } else this.demuxer = new at.a(i, o, n, s)
              }
              return (
                (e.prototype.destroy = function () {
                  var e = this.w
                  if (e)
                    e.removeEventListener('message', this.onwmsg),
                      e.terminate(),
                      (this.w = null)
                  else {
                    var t = this.demuxer
                    t && (t.destroy(), (this.demuxer = null))
                  }
                  var r = this.observer
                  r && (r.removeAllListeners(), (this.observer = null))
                }),
                (e.prototype.push = function (e, t, r, i, n, a, o, s) {
                  var u = this.w,
                    l = isNaN(n.startDTS) ? n.start : n.startDTS,
                    c = n.decryptdata,
                    d = this.frag,
                    f = !(d && n.cc === d.cc),
                    h = !(d && n.level === d.level),
                    p = d && n.sn === d.sn + 1,
                    v = !h && p
                  if (
                    (f && Ie.b.log(this.id + ':discontinuity detected'),
                    h && Ie.b.log(this.id + ':switch detected'),
                    (this.frag = n),
                    u)
                  )
                    u.postMessage(
                      {
                        cmd: 'demux',
                        data: e,
                        decryptdata: c,
                        initSegment: t,
                        audioCodec: r,
                        videoCodec: i,
                        timeOffset: l,
                        discontinuity: f,
                        trackSwitch: h,
                        contiguous: v,
                        duration: a,
                        accurateTimeOffset: o,
                        defaultInitPTS: s,
                      },
                      e instanceof ArrayBuffer ? [e] : []
                    )
                  else {
                    var g = this.demuxer
                    g && g.push(e, c, t, r, i, l, f, h, v, a, o, s)
                  }
                }),
                (e.prototype.onWorkerMessage = function (e) {
                  var t = e.data,
                    r = this.hls
                  switch (t.event) {
                    case 'init':
                      URL.revokeObjectURL(this.w.objectURL)
                      break
                    case Pe.a.FRAG_PARSING_DATA:
                      ;(t.data.data1 = new Uint8Array(t.data1)),
                        t.data2 && (t.data.data2 = new Uint8Array(t.data2))
                    default:
                      ;(t.data = t.data || {}),
                        (t.data.frag = this.frag),
                        (t.data.id = this.id),
                        r.trigger(t.event, t.data)
                  }
                }),
                e
              )
            })(),
            ft = dt,
            ht = {
              toString: function (e) {
                for (var t = '', r = e.length, i = 0; i < r; i++)
                  t +=
                    '[' +
                    e.start(i).toFixed(3) +
                    ',' +
                    e.end(i).toFixed(3) +
                    ']'
                return t
              },
            },
            pt = ht,
            vt = (function () {
              function e(e, t) {
                for (var r = 0; r < t.length; r++) {
                  var i = t[r]
                  ;(i.enumerable = i.enumerable || !1),
                    (i.configurable = !0),
                    'value' in i && (i.writable = !0),
                    Object.defineProperty(e, i.key, i)
                }
              }
              return function (t, r, i) {
                return r && e(t.prototype, r), i && e(t, i), t
              }
            })(),
            gt = {
              STOPPED: 'STOPPED',
              IDLE: 'IDLE',
              KEY_LOADING: 'KEY_LOADING',
              FRAG_LOADING: 'FRAG_LOADING',
              FRAG_LOADING_WAITING_RETRY: 'FRAG_LOADING_WAITING_RETRY',
              WAITING_LEVEL: 'WAITING_LEVEL',
              PARSING: 'PARSING',
              PARSED: 'PARSED',
              BUFFER_FLUSHING: 'BUFFER_FLUSHING',
              ENDED: 'ENDED',
              ERROR: 'ERROR',
            },
            yt = (function (e) {
              function t(r) {
                D(this, t)
                var i = O(
                  this,
                  e.call(
                    this,
                    r,
                    Pe.a.MEDIA_ATTACHED,
                    Pe.a.MEDIA_DETACHING,
                    Pe.a.MANIFEST_LOADING,
                    Pe.a.MANIFEST_PARSED,
                    Pe.a.LEVEL_LOADED,
                    Pe.a.KEY_LOADED,
                    Pe.a.FRAG_LOADED,
                    Pe.a.FRAG_LOAD_EMERGENCY_ABORTED,
                    Pe.a.FRAG_PARSING_INIT_SEGMENT,
                    Pe.a.FRAG_PARSING_DATA,
                    Pe.a.FRAG_PARSED,
                    Pe.a.ERROR,
                    Pe.a.AUDIO_TRACK_SWITCHING,
                    Pe.a.AUDIO_TRACK_SWITCHED,
                    Pe.a.BUFFER_CREATED,
                    Pe.a.BUFFER_APPENDED,
                    Pe.a.BUFFER_FLUSHED
                  )
                )
                return (
                  (i.config = r.config),
                  (i.audioCodecSwap = !1),
                  (i.ticks = 0),
                  (i._state = gt.STOPPED),
                  (i.ontick = i.tick.bind(i)),
                  i
                )
              }
              return (
                L(t, e),
                (t.prototype.destroy = function () {
                  this.stopLoad(),
                    this.timer &&
                      (clearInterval(this.timer), (this.timer = null)),
                    Ne.prototype.destroy.call(this),
                    (this.state = gt.STOPPED)
                }),
                (t.prototype.startLoad = function (e) {
                  if (this.levels) {
                    var t = this.lastCurrentTime,
                      r = this.hls
                    if (
                      (this.stopLoad(),
                      this.timer ||
                        (this.timer = setInterval(this.ontick, 100)),
                      (this.level = -1),
                      (this.fragLoadError = 0),
                      !this.startFragRequested)
                    ) {
                      var i = r.startLevel
                      ;-1 === i && ((i = 0), (this.bitrateTest = !0)),
                        (this.level = r.nextLoadLevel = i),
                        (this.loadedmetadata = !1)
                    }
                    t > 0 &&
                      -1 === e &&
                      (Ie.b.log(
                        'override startPosition with lastCurrentTime @' +
                          t.toFixed(3)
                      ),
                      (e = t)),
                      (this.state = gt.IDLE),
                      (this.nextLoadPosition =
                        this.startPosition =
                        this.lastCurrentTime =
                          e),
                      this.tick()
                  } else
                    (this.forceStartLoad = !0), (this.state = gt.STOPPED)
                }),
                (t.prototype.stopLoad = function () {
                  var e = this.fragCurrent
                  e &&
                    (e.loader && e.loader.abort(),
                    (this.fragCurrent = null)),
                    (this.fragPrevious = null),
                    this.demuxer &&
                      (this.demuxer.destroy(), (this.demuxer = null)),
                    (this.state = gt.STOPPED),
                    (this.forceStartLoad = !1)
                }),
                (t.prototype.tick = function () {
                  1 === ++this.ticks &&
                    (this.doTick(),
                    this.ticks > 1 && setTimeout(this.tick, 1),
                    (this.ticks = 0))
                }),
                (t.prototype.doTick = function () {
                  switch (this.state) {
                    case gt.ERROR:
                      break
                    case gt.BUFFER_FLUSHING:
                      this.fragLoadError = 0
                      break
                    case gt.IDLE:
                      this._doTickIdle()
                      break
                    case gt.WAITING_LEVEL:
                      var e = this.levels[this.level]
                      e && e.details && (this.state = gt.IDLE)
                      break
                    case gt.FRAG_LOADING_WAITING_RETRY:
                      var t = performance.now(),
                        r = this.retryDate
                      ;(!r ||
                        t >= r ||
                        (this.media && this.media.seeking)) &&
                        (Ie.b.log(
                          'mediaController: retryDate reached, switch back to IDLE state'
                        ),
                        (this.state = gt.IDLE))
                      break
                    case gt.ERROR:
                    case gt.STOPPED:
                    case gt.FRAG_LOADING:
                    case gt.PARSING:
                    case gt.PARSED:
                    case gt.ENDED:
                  }
                  this._checkBuffer(), this._checkFragmentChanged()
                }),
                (t.prototype._doTickIdle = function () {
                  var e = this.hls,
                    t = e.config,
                    r = this.media
                  if (
                    void 0 !== this.levelLastLoaded &&
                    (r ||
                      (!this.startFragRequested && t.startFragPrefetch))
                  ) {
                    var i = void 0
                    i = this.loadedmetadata
                      ? r.currentTime
                      : this.nextLoadPosition
                    var n = e.nextLoadLevel,
                      a = this.levels[n]
                    if (a) {
                      var o = a.bitrate,
                        s = void 0
                      ;(s = o
                        ? Math.max(
                            (8 * t.maxBufferSize) / o,
                            t.maxBufferLength
                          )
                        : t.maxBufferLength),
                        (s = Math.min(s, t.maxMaxBufferLength))
                      var u = nt.bufferInfo(
                          this.mediaBuffer ? this.mediaBuffer : r,
                          i,
                          t.maxBufferHole
                        ),
                        l = u.len
                      if (!(l >= s)) {
                        Ie.b.trace(
                          'buffer length of ' +
                            l.toFixed(3) +
                            ' is below max of ' +
                            s.toFixed(3) +
                            '. checking for more payload ...'
                        ),
                          (this.level = e.nextLoadLevel = n)
                        var c = a.details
                        if (
                          void 0 === c ||
                          (!0 === c.live && this.levelLastLoaded !== n)
                        )
                          return void (this.state = gt.WAITING_LEVEL)
                        var d = this.fragPrevious
                        if (
                          !c.live &&
                          d &&
                          !d.backtracked &&
                          d.sn === c.endSN &&
                          !u.nextStart
                        ) {
                          if (
                            Math.min(r.duration, d.start + d.duration) -
                              Math.max(u.end, d.start) <=
                            Math.max(0.2, d.duration)
                          ) {
                            var f = {}
                            return (
                              this.altAudio && (f.type = 'video'),
                              this.hls.trigger(Pe.a.BUFFER_EOS, f),
                              void (this.state = gt.ENDED)
                            )
                          }
                        }
                        this._fetchPayloadOrEos(i, u, c)
                      }
                    }
                  }
                }),
                (t.prototype._fetchPayloadOrEos = function (e, t, r) {
                  var i = this.fragPrevious,
                    n = this.level,
                    a = r.fragments,
                    o = a.length
                  if (0 !== o) {
                    var s = a[0].start,
                      u = a[o - 1].start + a[o - 1].duration,
                      l = t.end,
                      c = void 0
                    if (r.initSegment && !r.initSegment.data)
                      c = r.initSegment
                    else if (r.live) {
                      var d = this.config.initialLiveManifestSize
                      if (o < d)
                        return void Ie.b.warn(
                          'Can not start playback of a level, reason: not enough fragments ' +
                            o +
                            ' < ' +
                            d
                        )
                      if (
                        null ===
                        (c = this._ensureFragmentAtLivePoint(
                          r,
                          l,
                          s,
                          u,
                          i,
                          a,
                          o
                        ))
                      )
                        return
                    } else l < s && (c = a[0])
                    c || (c = this._findFragment(s, i, o, a, l, u, r)),
                      c && this._loadFragmentOrKey(c, n, r, e, l)
                  }
                }),
                (t.prototype._ensureFragmentAtLivePoint = function (
                  e,
                  t,
                  r,
                  i,
                  n,
                  a,
                  o
                ) {
                  var s = this.hls.config,
                    u = this.media,
                    l = void 0,
                    c =
                      void 0 !== s.liveMaxLatencyDuration
                        ? s.liveMaxLatencyDuration
                        : s.liveMaxLatencyDurationCount * e.targetduration
                  if (t < Math.max(r - s.maxFragLookUpTolerance, i - c)) {
                    var d = (this.liveSyncPosition =
                      this.computeLivePosition(r, e))
                    Ie.b.log(
                      'buffer end: ' +
                        t.toFixed(3) +
                        ' is located too far from the end of live sliding playlist, reset currentTime to : ' +
                        d.toFixed(3)
                    ),
                      (t = d),
                      u &&
                        u.readyState &&
                        u.duration > d &&
                        (u.currentTime = d),
                      (this.nextLoadPosition = d)
                  }
                  if (e.PTSKnown && t > i && u && u.readyState) return null
                  if (this.startFragRequested && !e.PTSKnown) {
                    if (n) {
                      var f = n.sn + 1
                      if (f >= e.startSN && f <= e.endSN) {
                        var h = a[f - e.startSN]
                        n.cc === h.cc &&
                          ((l = h),
                          Ie.b.log(
                            'live playlist, switching playlist, load frag with next SN: ' +
                              l.sn
                          ))
                      }
                      l ||
                        ((l = rt.search(a, function (e) {
                          return n.cc - e.cc
                        })) &&
                          Ie.b.log(
                            'live playlist, switching playlist, load frag with same CC: ' +
                              l.sn
                          ))
                    }
                    l ||
                      ((l = a[Math.min(o - 1, Math.round(o / 2))]),
                      Ie.b.log(
                        'live playlist, switching playlist, unknown, load middle frag : ' +
                          l.sn
                      ))
                  }
                  return l
                }),
                (t.prototype._findFragment = function (
                  e,
                  t,
                  r,
                  i,
                  n,
                  a,
                  o
                ) {
                  var s = this.hls.config,
                    u = void 0,
                    l = void 0,
                    c = s.maxFragLookUpTolerance,
                    d = t ? i[t.sn - i[0].sn + 1] : void 0,
                    f = function (e) {
                      var t = Math.min(
                        c,
                        e.duration + (e.deltaPTS ? e.deltaPTS : 0)
                      )
                      return e.start + e.duration - t <= n
                        ? 1
                        : e.start - t > n && e.start
                        ? -1
                        : 0
                    }
                  if (
                    (n < a
                      ? (n > a - c && (c = 0),
                        (l = d && !f(d) ? d : rt.search(i, f)))
                      : (l = i[r - 1]),
                    l)
                  ) {
                    u = l
                    var h = u.sn - o.startSN,
                      p = t && u.level === t.level,
                      v = i[h - 1],
                      g = i[h + 1]
                    if (t && u.sn === t.sn)
                      if (p && !u.backtracked)
                        if (u.sn < o.endSN) {
                          var y = t.deltaPTS
                          y && y > s.maxBufferHole && t.dropped && h
                            ? ((u = v),
                              Ie.b.warn(
                                'SN just loaded, with large PTS gap between audio and video, maybe frag is not starting with a keyframe ? load previous one to try to overcome this'
                              ),
                              t.loadCounter--)
                            : ((u = g),
                              Ie.b.log(
                                'SN just loaded, load next one: ' + u.sn
                              ))
                        } else u = null
                      else
                        u.backtracked &&
                          (g && g.backtracked
                            ? (Ie.b.warn(
                                'Already backtracked from fragment ' +
                                  g.sn +
                                  ', will not backtrack to fragment ' +
                                  u.sn +
                                  '. Loading fragment ' +
                                  g.sn
                              ),
                              (u = g))
                            : (Ie.b.warn(
                                'Loaded fragment with dropped frames, backtracking 1 segment to find a keyframe'
                              ),
                              (u.dropped = 0),
                              v
                                ? (v.loadCounter && v.loadCounter--,
                                  (u = v),
                                  (u.backtracked = !0))
                                : h && (u = null)))
                  }
                  return u
                }),
                (t.prototype._loadFragmentOrKey = function (
                  e,
                  t,
                  r,
                  i,
                  n
                ) {
                  var a = this.hls,
                    o = a.config
                  if (
                    !e.decryptdata ||
                    null == e.decryptdata.uri ||
                    null != e.decryptdata.key
                  ) {
                    if (
                      (Ie.b.log(
                        'Loading ' +
                          e.sn +
                          ' of [' +
                          r.startSN +
                          ' ,' +
                          r.endSN +
                          '],level ' +
                          t +
                          ', currentTime:' +
                          i.toFixed(3) +
                          ',bufferEnd:' +
                          n.toFixed(3)
                      ),
                      void 0 !== this.fragLoadIdx
                        ? this.fragLoadIdx++
                        : (this.fragLoadIdx = 0),
                      e.loadCounter)
                    ) {
                      e.loadCounter++
                      var s = o.fragLoadingLoopThreshold
                      if (
                        e.loadCounter > s &&
                        Math.abs(this.fragLoadIdx - e.loadIdx) < s
                      )
                        return void a.trigger(Pe.a.ERROR, {
                          type: xe.b.MEDIA_ERROR,
                          details: xe.a.FRAG_LOOP_LOADING_ERROR,
                          fatal: !1,
                          frag: e,
                        })
                    } else e.loadCounter = 1
                    return (
                      (e.loadIdx = this.fragLoadIdx),
                      (e.autoLevel = a.autoLevelEnabled),
                      (e.bitrateTest = this.bitrateTest),
                      (this.fragCurrent = e),
                      (this.startFragRequested = !0),
                      isNaN(e.sn) ||
                        e.bitrateTest ||
                        (this.nextLoadPosition = e.start + e.duration),
                      a.trigger(Pe.a.FRAG_LOADING, { frag: e }),
                      this.demuxer || (this.demuxer = new ft(a, 'main')),
                      void (this.state = gt.FRAG_LOADING)
                    )
                  }
                  Ie.b.log(
                    'Loading key for ' +
                      e.sn +
                      ' of [' +
                      r.startSN +
                      ' ,' +
                      r.endSN +
                      '],level ' +
                      t
                  ),
                    (this.state = gt.KEY_LOADING),
                    a.trigger(Pe.a.KEY_LOADING, { frag: e })
                }),
                (t.prototype.getBufferedFrag = function (e) {
                  return rt.search(this._bufferedFrags, function (t) {
                    return e < t.startPTS ? -1 : e > t.endPTS ? 1 : 0
                  })
                }),
                (t.prototype.followingBufferedFrag = function (e) {
                  return e ? this.getBufferedFrag(e.endPTS + 0.5) : null
                }),
                (t.prototype._checkFragmentChanged = function () {
                  var e,
                    t,
                    r = this.media
                  if (
                    r &&
                    r.readyState &&
                    !1 === r.seeking &&
                    ((t = r.currentTime),
                    t > r.playbackRate * this.lastCurrentTime &&
                      (this.lastCurrentTime = t),
                    nt.isBuffered(r, t)
                      ? (e = this.getBufferedFrag(t))
                      : nt.isBuffered(r, t + 0.1) &&
                        (e = this.getBufferedFrag(t + 0.1)),
                    e)
                  ) {
                    var i = e
                    if (i !== this.fragPlaying) {
                      this.hls.trigger(Pe.a.FRAG_CHANGED, { frag: i })
                      var n = i.level
                      ;(this.fragPlaying &&
                        this.fragPlaying.level === n) ||
                        this.hls.trigger(Pe.a.LEVEL_SWITCHED, {
                          level: n,
                        }),
                        (this.fragPlaying = i)
                    }
                  }
                }),
                (t.prototype.immediateLevelSwitch = function () {
                  if (
                    (Ie.b.log('immediateLevelSwitch'),
                    !this.immediateSwitch)
                  ) {
                    this.immediateSwitch = !0
                    var e = this.media,
                      t = void 0
                    e ? ((t = e.paused), e.pause()) : (t = !0),
                      (this.previouslyPaused = t)
                  }
                  var r = this.fragCurrent
                  r && r.loader && r.loader.abort(),
                    (this.fragCurrent = null),
                    void 0 !== this.fragLoadIdx &&
                      (this.fragLoadIdx +=
                        2 * this.config.fragLoadingLoopThreshold),
                    this.flushMainBuffer(0, Number.POSITIVE_INFINITY)
                }),
                (t.prototype.immediateLevelSwitchEnd = function () {
                  var e = this.media
                  e &&
                    e.buffered.length &&
                    ((this.immediateSwitch = !1),
                    nt.isBuffered(e, e.currentTime) &&
                      (e.currentTime -= 1e-4),
                    this.previouslyPaused || e.play())
                }),
                (t.prototype.nextLevelSwitch = function () {
                  var e = this.media
                  if (e && e.readyState) {
                    var t = void 0,
                      r = void 0,
                      i = void 0
                    if (
                      (void 0 !== this.fragLoadIdx &&
                        (this.fragLoadIdx +=
                          2 * this.config.fragLoadingLoopThreshold),
                      (r = this.getBufferedFrag(e.currentTime)),
                      r &&
                        r.startPTS > 1 &&
                        this.flushMainBuffer(0, r.startPTS - 1),
                      e.paused)
                    )
                      t = 0
                    else {
                      var n = this.hls.nextLoadLevel,
                        a = this.levels[n],
                        o = this.fragLastKbps
                      t =
                        o && this.fragCurrent
                          ? (this.fragCurrent.duration * a.bitrate) /
                              (1e3 * o) +
                            1
                          : 0
                    }
                    if (
                      (i = this.getBufferedFrag(e.currentTime + t)) &&
                      (i = this.followingBufferedFrag(i))
                    ) {
                      var s = this.fragCurrent
                      s && s.loader && s.loader.abort(),
                        (this.fragCurrent = null),
                        this.flushMainBuffer(
                          i.maxStartPTS,
                          Number.POSITIVE_INFINITY
                        )
                    }
                  }
                }),
                (t.prototype.flushMainBuffer = function (e, t) {
                  this.state = gt.BUFFER_FLUSHING
                  var r = { startOffset: e, endOffset: t }
                  this.altAudio && (r.type = 'video'),
                    this.hls.trigger(Pe.a.BUFFER_FLUSHING, r)
                }),
                (t.prototype.onMediaAttached = function (e) {
                  var t = (this.media = this.mediaBuffer = e.media)
                  ;(this.onvseeking = this.onMediaSeeking.bind(this)),
                    (this.onvseeked = this.onMediaSeeked.bind(this)),
                    (this.onvended = this.onMediaEnded.bind(this)),
                    t.addEventListener('seeking', this.onvseeking),
                    t.addEventListener('seeked', this.onvseeked),
                    t.addEventListener('ended', this.onvended)
                  var r = this.config
                  this.levels &&
                    r.autoStartLoad &&
                    this.hls.startLoad(r.startPosition)
                }),
                (t.prototype.onMediaDetaching = function () {
                  var e = this.media
                  e &&
                    e.ended &&
                    (Ie.b.log(
                      'MSE detaching and video ended, reset startPosition'
                    ),
                    (this.startPosition = this.lastCurrentTime = 0))
                  var t = this.levels
                  t &&
                    t.forEach(function (e) {
                      e.details &&
                        e.details.fragments.forEach(function (e) {
                          ;(e.loadCounter = void 0),
                            (e.backtracked = void 0)
                        })
                    }),
                    e &&
                      (e.removeEventListener('seeking', this.onvseeking),
                      e.removeEventListener('seeked', this.onvseeked),
                      e.removeEventListener('ended', this.onvended),
                      (this.onvseeking =
                        this.onvseeked =
                        this.onvended =
                          null)),
                    (this.media = this.mediaBuffer = null),
                    (this.loadedmetadata = !1),
                    this.stopLoad()
                }),
                (t.prototype.onMediaSeeking = function () {
                  var e = this.media,
                    t = e ? e.currentTime : void 0,
                    r = this.config
                  isNaN(t) || Ie.b.log('media seeking to ' + t.toFixed(3))
                  var i = this.mediaBuffer ? this.mediaBuffer : e,
                    n = nt.bufferInfo(i, t, this.config.maxBufferHole)
                  if (this.state === gt.FRAG_LOADING) {
                    var a = this.fragCurrent
                    if (0 === n.len && a) {
                      var o = r.maxFragLookUpTolerance,
                        s = a.start - o,
                        u = a.start + a.duration + o
                      t < s || t > u
                        ? (a.loader &&
                            (Ie.b.log(
                              'seeking outside of buffer while fragment load in progress, cancel fragment load'
                            ),
                            a.loader.abort()),
                          (this.fragCurrent = null),
                          (this.fragPrevious = null),
                          (this.state = gt.IDLE))
                        : Ie.b.log(
                            'seeking outside of buffer but within currently loaded fragment range'
                          )
                    }
                  } else
                    this.state === gt.ENDED &&
                      (0 === n.len && (this.fragPrevious = 0),
                      (this.state = gt.IDLE))
                  e && (this.lastCurrentTime = t),
                    this.state !== gt.FRAG_LOADING &&
                      void 0 !== this.fragLoadIdx &&
                      (this.fragLoadIdx += 2 * r.fragLoadingLoopThreshold),
                    this.loadedmetadata ||
                      (this.nextLoadPosition = this.startPosition = t),
                    this.tick()
                }),
                (t.prototype.onMediaSeeked = function () {
                  var e = this.media,
                    t = e ? e.currentTime : void 0
                  isNaN(t) || Ie.b.log('media seeked to ' + t.toFixed(3)),
                    this.tick()
                }),
                (t.prototype.onMediaEnded = function () {
                  Ie.b.log('media ended'),
                    (this.startPosition = this.lastCurrentTime = 0)
                }),
                (t.prototype.onManifestLoading = function () {
                  Ie.b.log('trigger BUFFER_RESET'),
                    this.hls.trigger(Pe.a.BUFFER_RESET),
                    (this._bufferedFrags = []),
                    (this.stalled = !1),
                    (this.startPosition = this.lastCurrentTime = 0)
                }),
                (t.prototype.onManifestParsed = function (e) {
                  var t,
                    r = !1,
                    i = !1
                  e.levels.forEach(function (e) {
                    ;(t = e.audioCodec) &&
                      (-1 !== t.indexOf('mp4a.40.2') && (r = !0),
                      -1 !== t.indexOf('mp4a.40.5') && (i = !0))
                  }),
                    (this.audioCodecSwitch = r && i),
                    this.audioCodecSwitch &&
                      Ie.b.log(
                        'both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC'
                      ),
                    (this.levels = e.levels),
                    (this.startFragRequested = !1)
                  var n = this.config
                  ;(n.autoStartLoad || this.forceStartLoad) &&
                    this.hls.startLoad(n.startPosition)
                }),
                (t.prototype.onLevelLoaded = function (e) {
                  var t = e.details,
                    r = e.level,
                    i = this.levels[this.levelLastLoaded],
                    n = this.levels[r],
                    a = t.totalduration,
                    o = 0
                  if (
                    (Ie.b.log(
                      'level ' +
                        r +
                        ' loaded [' +
                        t.startSN +
                        ',' +
                        t.endSN +
                        '],duration:' +
                        a
                    ),
                    t.live)
                  ) {
                    var s = n.details
                    s && t.fragments.length > 0
                      ? (E(s, t),
                        (o = t.fragments[0].start),
                        (this.liveSyncPosition = this.computeLivePosition(
                          o,
                          s
                        )),
                        t.PTSKnown && !isNaN(o)
                          ? Ie.b.log(
                              'live playlist sliding:' + o.toFixed(3)
                            )
                          : (Ie.b.log(
                              'live playlist - outdated PTS, unknown sliding'
                            ),
                            k(this.fragPrevious, i, t)))
                      : (Ie.b.log(
                          'live playlist - first load, unknown sliding'
                        ),
                        (t.PTSKnown = !1),
                        k(this.fragPrevious, i, t))
                  } else t.PTSKnown = !1
                  if (
                    ((n.details = t),
                    (this.levelLastLoaded = r),
                    this.hls.trigger(Pe.a.LEVEL_UPDATED, {
                      details: t,
                      level: r,
                    }),
                    !1 === this.startFragRequested)
                  ) {
                    if (
                      -1 === this.startPosition ||
                      -1 === this.lastCurrentTime
                    ) {
                      var u = t.startTimeOffset
                      isNaN(u)
                        ? t.live
                          ? ((this.startPosition =
                              this.computeLivePosition(o, t)),
                            Ie.b.log(
                              'configure startPosition to ' +
                                this.startPosition
                            ))
                          : (this.startPosition = 0)
                        : (u < 0 &&
                            (Ie.b.log(
                              'negative start time offset ' +
                                u +
                                ', count from end of last fragment'
                            ),
                            (u = o + a + u)),
                          Ie.b.log(
                            'start time offset found in playlist, adjust startPosition to ' +
                              u
                          ),
                          (this.startPosition = u)),
                        (this.lastCurrentTime = this.startPosition)
                    }
                    this.nextLoadPosition = this.startPosition
                  }
                  this.state === gt.WAITING_LEVEL &&
                    (this.state = gt.IDLE),
                    this.tick()
                }),
                (t.prototype.onKeyLoaded = function () {
                  this.state === gt.KEY_LOADING &&
                    ((this.state = gt.IDLE), this.tick())
                }),
                (t.prototype.onFragLoaded = function (e) {
                  var t = this.fragCurrent,
                    r = e.frag
                  if (
                    this.state === gt.FRAG_LOADING &&
                    t &&
                    'main' === r.type &&
                    r.level === t.level &&
                    r.sn === t.sn
                  ) {
                    var i = e.stats,
                      n = this.levels[t.level],
                      a = n.details
                    if (
                      (Ie.b.log(
                        'Loaded  ' +
                          t.sn +
                          ' of [' +
                          a.startSN +
                          ' ,' +
                          a.endSN +
                          '],level ' +
                          t.level
                      ),
                      (this.bitrateTest = !1),
                      (this.stats = i),
                      !0 === r.bitrateTest && this.hls.nextLoadLevel)
                    )
                      (this.state = gt.IDLE),
                        (this.startFragRequested = !1),
                        (i.tparsed = i.tbuffered = performance.now()),
                        this.hls.trigger(Pe.a.FRAG_BUFFERED, {
                          stats: i,
                          frag: t,
                          id: 'main',
                        }),
                        this.tick()
                    else if ('initSegment' === r.sn)
                      (this.state = gt.IDLE),
                        (i.tparsed = i.tbuffered = performance.now()),
                        (a.initSegment.data = e.payload),
                        this.hls.trigger(Pe.a.FRAG_BUFFERED, {
                          stats: i,
                          frag: t,
                          id: 'main',
                        }),
                        this.tick()
                    else {
                      this.state = gt.PARSING
                      var o = a.totalduration,
                        s = t.level,
                        u = t.sn,
                        l = this.config.defaultAudioCodec || n.audioCodec
                      this.audioCodecSwap &&
                        (Ie.b.log('swapping playlist audio codec'),
                        void 0 === l && (l = this.lastAudioCodec),
                        l &&
                          (l =
                            -1 !== l.indexOf('mp4a.40.5')
                              ? 'mp4a.40.2'
                              : 'mp4a.40.5')),
                        (this.pendingBuffering = !0),
                        (this.appended = !1),
                        Ie.b.log(
                          'Parsing ' +
                            u +
                            ' of [' +
                            a.startSN +
                            ' ,' +
                            a.endSN +
                            '],level ' +
                            s +
                            ', cc ' +
                            t.cc
                        )
                      var c = this.demuxer
                      c || (c = this.demuxer = new ft(this.hls, 'main'))
                      var d = this.media,
                        f = d && d.seeking,
                        h = !f && (a.PTSKnown || !a.live),
                        p = a.initSegment ? a.initSegment.data : []
                      c.push(
                        e.payload,
                        p,
                        l,
                        n.videoCodec,
                        t,
                        o,
                        h,
                        void 0
                      )
                    }
                  }
                  this.fragLoadError = 0
                }),
                (t.prototype.onFragParsingInitSegment = function (e) {
                  var t = this.fragCurrent,
                    r = e.frag
                  if (
                    t &&
                    'main' === e.id &&
                    r.sn === t.sn &&
                    r.level === t.level &&
                    this.state === gt.PARSING
                  ) {
                    var i,
                      n,
                      a = e.tracks
                    if (
                      (a.audio && this.altAudio && delete a.audio,
                      (n = a.audio))
                    ) {
                      var o = this.levels[this.level].audioCodec,
                        s = navigator.userAgent.toLowerCase()
                      o &&
                        this.audioCodecSwap &&
                        (Ie.b.log('swapping playlist audio codec'),
                        (o =
                          -1 !== o.indexOf('mp4a.40.5')
                            ? 'mp4a.40.2'
                            : 'mp4a.40.5')),
                        this.audioCodecSwitch &&
                          1 !== n.metadata.channelCount &&
                          -1 === s.indexOf('firefox') &&
                          (o = 'mp4a.40.5'),
                        -1 !== s.indexOf('android') &&
                          'audio/mpeg' !== n.container &&
                          ((o = 'mp4a.40.2'),
                          Ie.b.log('Android: force audio codec to ' + o)),
                        (n.levelCodec = o),
                        (n.id = e.id)
                    }
                    ;(n = a.video),
                      n &&
                        ((n.levelCodec =
                          this.levels[this.level].videoCodec),
                        (n.id = e.id)),
                      this.hls.trigger(Pe.a.BUFFER_CODECS, a)
                    for (i in a) {
                      ;(n = a[i]),
                        Ie.b.log(
                          'main track:' +
                            i +
                            ',container:' +
                            n.container +
                            ',codecs[level/parsed]=[' +
                            n.levelCodec +
                            '/' +
                            n.codec +
                            ']'
                        )
                      var u = n.initSegment
                      u &&
                        ((this.appended = !0),
                        (this.pendingBuffering = !0),
                        this.hls.trigger(Pe.a.BUFFER_APPENDING, {
                          type: i,
                          data: u,
                          parent: 'main',
                          content: 'initSegment',
                        }))
                    }
                    this.tick()
                  }
                }),
                (t.prototype.onFragParsingData = function (e) {
                  var t = this,
                    r = this.fragCurrent,
                    i = e.frag
                  if (
                    r &&
                    'main' === e.id &&
                    i.sn === r.sn &&
                    i.level === r.level &&
                    ('audio' !== e.type || !this.altAudio) &&
                    this.state === gt.PARSING
                  ) {
                    var n = this.levels[this.level],
                      a = r
                    if (
                      (isNaN(e.endPTS) &&
                        ((e.endPTS = e.startPTS + r.duration),
                        (e.endDTS = e.startDTS + r.duration)),
                      Ie.b.log(
                        'Parsed ' +
                          e.type +
                          ',PTS:[' +
                          e.startPTS.toFixed(3) +
                          ',' +
                          e.endPTS.toFixed(3) +
                          '],DTS:[' +
                          e.startDTS.toFixed(3) +
                          '/' +
                          e.endDTS.toFixed(3) +
                          '],nb:' +
                          e.nb +
                          ',dropped:' +
                          (e.dropped || 0)
                      ),
                      'video' === e.type)
                    )
                      if (((a.dropped = e.dropped), a.dropped))
                        if (a.backtracked)
                          Ie.b.warn(
                            'Already backtracked on this fragment, appending with the gap'
                          )
                        else {
                          var o = n.details
                          if (!o || a.sn !== o.startSN)
                            return (
                              Ie.b.warn(
                                'missing video frame(s), backtracking fragment'
                              ),
                              (a.backtracked = !0),
                              (this.nextLoadPosition = e.startPTS),
                              (this.state = gt.IDLE),
                              (this.fragPrevious = a),
                              void this.tick()
                            )
                          Ie.b.warn(
                            'missing video frame(s) on first frag, appending with gap'
                          )
                        }
                      else a.backtracked = !1
                    var s = b(
                        n.details,
                        a,
                        e.startPTS,
                        e.endPTS,
                        e.startDTS,
                        e.endDTS
                      ),
                      u = this.hls
                    u.trigger(Pe.a.LEVEL_PTS_UPDATED, {
                      details: n.details,
                      level: this.level,
                      drift: s,
                      type: e.type,
                      start: e.startPTS,
                      end: e.endPTS,
                    }),
                      [e.data1, e.data2].forEach(function (r) {
                        r &&
                          r.length &&
                          t.state === gt.PARSING &&
                          ((t.appended = !0),
                          (t.pendingBuffering = !0),
                          u.trigger(Pe.a.BUFFER_APPENDING, {
                            type: e.type,
                            data: r,
                            parent: 'main',
                            content: 'data',
                          }))
                      }),
                      this.tick()
                  }
                }),
                (t.prototype.onFragParsed = function (e) {
                  var t = this.fragCurrent,
                    r = e.frag
                  t &&
                    'main' === e.id &&
                    r.sn === t.sn &&
                    r.level === t.level &&
                    this.state === gt.PARSING &&
                    ((this.stats.tparsed = performance.now()),
                    (this.state = gt.PARSED),
                    this._checkAppendedParsed())
                }),
                (t.prototype.onAudioTrackSwitching = function (e) {
                  var t = !!e.url,
                    r = e.id
                  if (!t) {
                    if (this.mediaBuffer !== this.media) {
                      Ie.b.log(
                        'switching on main audio, use media.buffered to schedule main fragment loading'
                      ),
                        (this.mediaBuffer = this.media)
                      var i = this.fragCurrent
                      i.loader &&
                        (Ie.b.log(
                          'switching to main audio track, cancel main fragment load'
                        ),
                        i.loader.abort()),
                        (this.fragCurrent = null),
                        (this.fragPrevious = null),
                        this.demuxer &&
                          (this.demuxer.destroy(), (this.demuxer = null)),
                        (this.state = gt.IDLE)
                    }
                    var n = this.hls
                    n.trigger(Pe.a.BUFFER_FLUSHING, {
                      startOffset: 0,
                      endOffset: Number.POSITIVE_INFINITY,
                      type: 'audio',
                    }),
                      n.trigger(Pe.a.AUDIO_TRACK_SWITCHED, { id: r }),
                      (this.altAudio = !1)
                  }
                }),
                (t.prototype.onAudioTrackSwitched = function (e) {
                  var t = e.id,
                    r = !!this.hls.audioTracks[t].url
                  if (r) {
                    var i = this.videoBuffer
                    i &&
                      this.mediaBuffer !== i &&
                      (Ie.b.log(
                        'switching on alternate audio, use video.buffered to schedule main fragment loading'
                      ),
                      (this.mediaBuffer = i))
                  }
                  ;(this.altAudio = r), this.tick()
                }),
                (t.prototype.onBufferCreated = function (e) {
                  var t = e.tracks,
                    r = void 0,
                    i = void 0,
                    n = !1
                  for (var a in t) {
                    var o = t[a]
                    'main' === o.id
                      ? ((i = a),
                        (r = o),
                        'video' === a && (this.videoBuffer = t[a].buffer))
                      : (n = !0)
                  }
                  n && r
                    ? (Ie.b.log(
                        'alternate track found, use ' +
                          i +
                          '.buffered to schedule main fragment loading'
                      ),
                      (this.mediaBuffer = r.buffer))
                    : (this.mediaBuffer = this.media)
                }),
                (t.prototype.onBufferAppended = function (e) {
                  if ('main' === e.parent) {
                    var t = this.state
                    ;(t !== gt.PARSING && t !== gt.PARSED) ||
                      ((this.pendingBuffering = e.pending > 0),
                      this._checkAppendedParsed())
                  }
                }),
                (t.prototype._checkAppendedParsed = function () {
                  if (
                    !(
                      this.state !== gt.PARSED ||
                      (this.appended && this.pendingBuffering)
                    )
                  ) {
                    var e = this.fragCurrent
                    if (e) {
                      var t = this.mediaBuffer
                        ? this.mediaBuffer
                        : this.media
                      Ie.b.log(
                        'main buffered : ' + pt.toString(t.buffered)
                      )
                      var r = this._bufferedFrags.filter(function (e) {
                        return nt.isBuffered(
                          t,
                          (e.startPTS + e.endPTS) / 2
                        )
                      })
                      r.push(e),
                        (this._bufferedFrags = r.sort(function (e, t) {
                          return e.startPTS - t.startPTS
                        })),
                        (this.fragPrevious = e)
                      var i = this.stats
                      ;(i.tbuffered = performance.now()),
                        (this.fragLastKbps = Math.round(
                          (8 * i.total) / (i.tbuffered - i.tfirst)
                        )),
                        this.hls.trigger(Pe.a.FRAG_BUFFERED, {
                          stats: i,
                          frag: e,
                          id: 'main',
                        }),
                        (this.state = gt.IDLE)
                    }
                    this.tick()
                  }
                }),
                (t.prototype.onError = function (e) {
                  var t = e.frag || this.fragCurrent
                  if (!t || 'main' === t.type) {
                    var r =
                      !!this.media &&
                      nt.isBuffered(this.media, this.media.currentTime) &&
                      nt.isBuffered(
                        this.media,
                        this.media.currentTime + 0.5
                      )
                    switch (e.details) {
                      case xe.a.FRAG_LOAD_ERROR:
                      case xe.a.FRAG_LOAD_TIMEOUT:
                      case xe.a.KEY_LOAD_ERROR:
                      case xe.a.KEY_LOAD_TIMEOUT:
                        if (!e.fatal)
                          if (
                            this.fragLoadError + 1 <=
                            this.config.fragLoadingMaxRetry
                          ) {
                            var i = Math.min(
                              Math.pow(2, this.fragLoadError) *
                                this.config.fragLoadingRetryDelay,
                              this.config.fragLoadingMaxRetryTimeout
                            )
                            ;(t.loadCounter = 0),
                              Ie.b.warn(
                                'mediaController: frag loading failed, retry in ' +
                                  i +
                                  ' ms'
                              ),
                              (this.retryDate = performance.now() + i),
                              this.loadedmetadata ||
                                ((this.startFragRequested = !1),
                                (this.nextLoadPosition =
                                  this.startPosition)),
                              this.fragLoadError++,
                              (this.state = gt.FRAG_LOADING_WAITING_RETRY)
                          } else
                            Ie.b.error(
                              'mediaController: ' +
                                e.details +
                                ' reaches max retry, redispatch as fatal ...'
                            ),
                              (e.fatal = !0),
                              (this.state = gt.ERROR)
                        break
                      case xe.a.FRAG_LOOP_LOADING_ERROR:
                        e.fatal ||
                          (r
                            ? (this._reduceMaxBufferLength(t.duration),
                              (this.state = gt.IDLE))
                            : (t.autoLevel && 0 !== t.level) ||
                              ((e.fatal = !0), (this.state = gt.ERROR)))
                        break
                      case xe.a.LEVEL_LOAD_ERROR:
                      case xe.a.LEVEL_LOAD_TIMEOUT:
                        this.state !== gt.ERROR &&
                          (e.fatal
                            ? ((this.state = gt.ERROR),
                              Ie.b.warn(
                                'streamController: ' +
                                  e.details +
                                  ',switch to ' +
                                  this.state +
                                  ' state ...'
                              ))
                            : e.levelRetry ||
                              this.state !== gt.WAITING_LEVEL ||
                              (this.state = gt.IDLE))
                        break
                      case xe.a.BUFFER_FULL_ERROR:
                        'main' !== e.parent ||
                          (this.state !== gt.PARSING &&
                            this.state !== gt.PARSED) ||
                          (r
                            ? (this._reduceMaxBufferLength(
                                this.config.maxBufferLength
                              ),
                              (this.state = gt.IDLE))
                            : (Ie.b.warn(
                                'buffer full error also media.currentTime is not buffered, flush everything'
                              ),
                              (this.fragCurrent = null),
                              this.flushMainBuffer(
                                0,
                                Number.POSITIVE_INFINITY
                              )))
                    }
                  }
                }),
                (t.prototype._reduceMaxBufferLength = function (e) {
                  var t = this.config
                  t.maxMaxBufferLength >= e &&
                    ((t.maxMaxBufferLength /= 2),
                    Ie.b.warn(
                      'main:reduce max buffer length to ' +
                        t.maxMaxBufferLength +
                        's'
                    ),
                    void 0 !== this.fragLoadIdx &&
                      (this.fragLoadIdx += 2 * t.fragLoadingLoopThreshold))
                }),
                (t.prototype._checkBuffer = function () {
                  var e = this.media,
                    t = this.config
                  if (e && e.readyState) {
                    var r = e.currentTime,
                      i = this.mediaBuffer ? this.mediaBuffer : e,
                      n = i.buffered
                    if (!this.loadedmetadata && n.length) {
                      this.loadedmetadata = !0
                      var a = e.seeking ? r : this.startPosition,
                        o = nt.isBuffered(i, a),
                        s = n.start(0),
                        u = !o && Math.abs(a - s) < t.maxSeekHole
                      ;(r !== a || u) &&
                        (Ie.b.log('target start position:' + a),
                        u &&
                          ((a = s),
                          Ie.b.log(
                            'target start position not buffered, seek to buffered.start(0) ' +
                              a
                          )),
                        Ie.b.log(
                          'adjust currentTime from ' + r + ' to ' + a
                        ),
                        (e.currentTime = a))
                    } else if (this.immediateSwitch)
                      this.immediateLevelSwitchEnd()
                    else {
                      var l = nt.bufferInfo(e, r, 0),
                        c = !(
                          e.paused ||
                          e.ended ||
                          0 === e.buffered.length
                        ),
                        d = r !== this.lastCurrentTime
                      if (d)
                        this.stallReported &&
                          (Ie.b.warn(
                            'playback not stuck anymore @' +
                              r +
                              ', after ' +
                              Math.round(
                                performance.now() - this.stalled
                              ) +
                              'ms'
                          ),
                          (this.stallReported = !1)),
                          (this.stalled = void 0),
                          (this.nudgeRetry = 0)
                      else if (c) {
                        var f = performance.now(),
                          h = this.hls
                        if (this.stalled) {
                          var p = f - this.stalled,
                            v = l.len,
                            g = this.nudgeRetry || 0
                          if (
                            v <= 0.5 &&
                            p > 1e3 * t.lowBufferWatchdogPeriod
                          ) {
                            this.stallReported ||
                              ((this.stallReported = !0),
                              Ie.b.warn(
                                'playback stalling in low buffer @' + r
                              ),
                              h.trigger(Pe.a.ERROR, {
                                type: xe.b.MEDIA_ERROR,
                                details: xe.a.BUFFER_STALLED_ERROR,
                                fatal: !1,
                                buffer: v,
                              }))
                            var y = l.nextStart,
                              m = y - r
                            if (y && m < t.maxSeekHole && m > 0) {
                              this.nudgeRetry = ++g
                              var _ = g * t.nudgeOffset
                              Ie.b.log(
                                'adjust currentTime from ' +
                                  e.currentTime +
                                  ' to next buffered @ ' +
                                  y +
                                  ' + nudge ' +
                                  _
                              ),
                                (e.currentTime = y + _),
                                (this.stalled = void 0),
                                h.trigger(Pe.a.ERROR, {
                                  type: xe.b.MEDIA_ERROR,
                                  details: xe.a.BUFFER_SEEK_OVER_HOLE,
                                  fatal: !1,
                                  hole: y + _ - r,
                                })
                            }
                          } else if (
                            v > 0.5 &&
                            p > 1e3 * t.highBufferWatchdogPeriod
                          )
                            if (
                              (this.stallReported ||
                                ((this.stallReported = !0),
                                Ie.b.warn(
                                  'playback stalling in high buffer @' + r
                                ),
                                h.trigger(Pe.a.ERROR, {
                                  type: xe.b.MEDIA_ERROR,
                                  details: xe.a.BUFFER_STALLED_ERROR,
                                  fatal: !1,
                                  buffer: v,
                                })),
                              (this.stalled = void 0),
                              (this.nudgeRetry = ++g),
                              g < t.nudgeMaxRetry)
                            ) {
                              var b = e.currentTime,
                                E = b + g * t.nudgeOffset
                              Ie.b.log(
                                'adjust currentTime from ' + b + ' to ' + E
                              ),
                                (e.currentTime = E),
                                h.trigger(Pe.a.ERROR, {
                                  type: xe.b.MEDIA_ERROR,
                                  details: xe.a.BUFFER_NUDGE_ON_STALL,
                                  fatal: !1,
                                })
                            } else
                              Ie.b.error(
                                'still stuck in high buffer @' +
                                  r +
                                  ' after ' +
                                  t.nudgeMaxRetry +
                                  ', raise fatal error'
                              ),
                                h.trigger(Pe.a.ERROR, {
                                  type: xe.b.MEDIA_ERROR,
                                  details: xe.a.BUFFER_STALLED_ERROR,
                                  fatal: !0,
                                })
                        } else
                          (this.stalled = f), (this.stallReported = !1)
                      }
                    }
                  }
                }),
                (t.prototype.onFragLoadEmergencyAborted = function () {
                  ;(this.state = gt.IDLE),
                    this.loadedmetadata ||
                      ((this.startFragRequested = !1),
                      (this.nextLoadPosition = this.startPosition)),
                    this.tick()
                }),
                (t.prototype.onBufferFlushed = function () {
                  var e = this.mediaBuffer ? this.mediaBuffer : this.media
                  ;(this._bufferedFrags = this._bufferedFrags.filter(
                    function (t) {
                      return nt.isBuffered(e, (t.startPTS + t.endPTS) / 2)
                    }
                  )),
                    void 0 !== this.fragLoadIdx &&
                      (this.fragLoadIdx +=
                        2 * this.config.fragLoadingLoopThreshold),
                    (this.state = gt.IDLE),
                    (this.fragPrevious = null)
                }),
                (t.prototype.swapAudioCodec = function () {
                  this.audioCodecSwap = !this.audioCodecSwap
                }),
                (t.prototype.computeLivePosition = function (e, t) {
                  var r =
                    void 0 !== this.config.liveSyncDuration
                      ? this.config.liveSyncDuration
                      : this.config.liveSyncDurationCount *
                        t.targetduration
                  return e + Math.max(0, t.totalduration - r)
                }),
                vt(t, [
                  {
                    key: 'state',
                    set: function (e) {
                      if (this.state !== e) {
                        var t = this.state
                        ;(this._state = e),
                          Ie.b.log('main stream:' + t + '->' + e),
                          this.hls.trigger(Pe.a.STREAM_STATE_TRANSITION, {
                            previousState: t,
                            nextState: e,
                          })
                      }
                    },
                    get: function () {
                      return this._state
                    },
                  },
                  {
                    key: 'currentLevel',
                    get: function () {
                      var e = this.media
                      if (e) {
                        var t = this.getBufferedFrag(e.currentTime)
                        if (t) return t.level
                      }
                      return -1
                    },
                  },
                  {
                    key: 'nextBufferedFrag',
                    get: function () {
                      var e = this.media
                      return e
                        ? this.followingBufferedFrag(
                            this.getBufferedFrag(e.currentTime)
                          )
                        : null
                    },
                  },
                  {
                    key: 'nextLevel',
                    get: function () {
                      var e = this.nextBufferedFrag
                      return e ? e.level : -1
                    },
                  },
                  {
                    key: 'liveSyncPosition',
                    get: function () {
                      return this._liveSyncPosition
                    },
                    set: function (e) {
                      this._liveSyncPosition = e
                    },
                  },
                ]),
                t
              )
            })(Ne),
            mt = yt,
            _t = (function () {
              function e(e, t) {
                for (var r = 0; r < t.length; r++) {
                  var i = t[r]
                  ;(i.enumerable = i.enumerable || !1),
                    (i.configurable = !0),
                    'value' in i && (i.writable = !0),
                    Object.defineProperty(e, i.key, i)
                }
              }
              return function (t, r, i) {
                return r && e(t.prototype, r), i && e(t, i), t
              }
            })(),
            bt = (function (e) {
              function t(r) {
                P(this, t)
                var i = x(
                  this,
                  e.call(
                    this,
                    r,
                    Pe.a.MANIFEST_LOADED,
                    Pe.a.LEVEL_LOADED,
                    Pe.a.FRAG_LOADED,
                    Pe.a.ERROR
                  )
                )
                return (
                  (i.canload = !1),
                  (i.currentLevelIndex = null),
                  (i.manualLevelIndex = -1),
                  (i.timer = null),
                  i
                )
              }
              return (
                I(t, e),
                (t.prototype.destroy = function () {
                  this.cleanTimer(), (this.manualLevelIndex = -1)
                }),
                (t.prototype.cleanTimer = function () {
                  null !== this.timer &&
                    (clearTimeout(this.timer), (this.timer = null))
                }),
                (t.prototype.startLoad = function () {
                  var e = this._levels
                  ;(this.canload = !0),
                    (this.levelRetryCount = 0),
                    e &&
                      e.forEach(function (e) {
                        e.loadError = 0
                        var t = e.details
                        t && t.live && (e.details = void 0)
                      }),
                    null !== this.timer && this.loadLevel()
                }),
                (t.prototype.stopLoad = function () {
                  this.canload = !1
                }),
                (t.prototype.onManifestLoaded = function (e) {
                  var t = [],
                    r = void 0,
                    i = {},
                    n = null,
                    a = !1,
                    s = !1,
                    u = /chrome|firefox/.test(
                      navigator.userAgent.toLowerCase()
                    ),
                    l = []
                  if (
                    (e.levels.forEach(function (e) {
                      ;(e.loadError = 0),
                        (e.fragmentError = !1),
                        (a = a || !!e.videoCodec),
                        (s =
                          s ||
                          !!e.audioCodec ||
                          !(!e.attrs || !e.attrs.AUDIO)),
                        !0 === u &&
                          e.audioCodec &&
                          -1 !== e.audioCodec.indexOf('mp4a.40.34') &&
                          (e.audioCodec = void 0),
                        (n = i[e.bitrate]),
                        void 0 === n
                          ? ((e.url = [e.url]),
                            (e.urlId = 0),
                            (i[e.bitrate] = e),
                            t.push(e))
                          : n.url.push(e.url)
                    }),
                    !0 === a &&
                      !0 === s &&
                      (t = t.filter(function (e) {
                        return !!e.videoCodec
                      })),
                    (t = t.filter(function (e) {
                      var t = e.audioCodec,
                        r = e.videoCodec
                      return (!t || o(t)) && (!r || o(r))
                    })),
                    e.audioTracks &&
                      (l = e.audioTracks.filter(function (e) {
                        return !e.audioCodec || o(e.audioCodec, 'audio')
                      })),
                    t.length > 0)
                  ) {
                    ;(r = t[0].bitrate),
                      t.sort(function (e, t) {
                        return e.bitrate - t.bitrate
                      }),
                      (this._levels = t)
                    for (var c = 0; c < t.length; c++)
                      if (t[c].bitrate === r) {
                        ;(this._firstLevel = c),
                          Ie.b.log(
                            'manifest loaded,' +
                              t.length +
                              ' level(s) found, first bitrate:' +
                              r
                          )
                        break
                      }
                    this.hls.trigger(Pe.a.MANIFEST_PARSED, {
                      levels: t,
                      audioTracks: l,
                      firstLevel: this._firstLevel,
                      stats: e.stats,
                      audio: s,
                      video: a,
                      altAudio: l.length > 0,
                    })
                  } else
                    this.hls.trigger(Pe.a.ERROR, {
                      type: xe.b.MEDIA_ERROR,
                      details: xe.a.MANIFEST_INCOMPATIBLE_CODECS_ERROR,
                      fatal: !0,
                      url: this.hls.url,
                      reason:
                        'no level with compatible codecs found in manifest',
                    })
                }),
                (t.prototype.setLevelInternal = function (e) {
                  var t = this._levels,
                    r = this.hls
                  if (e >= 0 && e < t.length) {
                    if (
                      (this.cleanTimer(), this.currentLevelIndex !== e)
                    ) {
                      Ie.b.log('switching to level ' + e),
                        (this.currentLevelIndex = e)
                      var i = t[e]
                      ;(i.level = e),
                        r.trigger(Pe.a.LEVEL_SWITCH, i),
                        r.trigger(Pe.a.LEVEL_SWITCHING, i)
                    }
                    var n = t[e],
                      a = n.details
                    if (!a || !0 === a.live) {
                      var o = n.urlId
                      r.trigger(Pe.a.LEVEL_LOADING, {
                        url: n.url[o],
                        level: e,
                        id: o,
                      })
                    }
                  } else
                    r.trigger(Pe.a.ERROR, {
                      type: xe.b.OTHER_ERROR,
                      details: xe.a.LEVEL_SWITCH_ERROR,
                      level: e,
                      fatal: !1,
                      reason: 'invalid level idx',
                    })
                }),
                (t.prototype.onError = function (e) {
                  if (!0 === e.fatal)
                    return void (
                      e.type === xe.b.NETWORK_ERROR && this.cleanTimer()
                    )
                  var t = !1,
                    r = !1,
                    i = void 0
                  switch (e.details) {
                    case xe.a.FRAG_LOAD_ERROR:
                    case xe.a.FRAG_LOAD_TIMEOUT:
                    case xe.a.FRAG_LOOP_LOADING_ERROR:
                    case xe.a.KEY_LOAD_ERROR:
                    case xe.a.KEY_LOAD_TIMEOUT:
                      ;(i = e.frag.level), (r = !0)
                      break
                    case xe.a.LEVEL_LOAD_ERROR:
                    case xe.a.LEVEL_LOAD_TIMEOUT:
                      ;(i = e.context.level), (t = !0)
                      break
                    case xe.a.REMUX_ALLOC_ERROR:
                      ;(i = e.level), (t = !0)
                  }
                  void 0 !== i && this.recoverLevel(e, i, t, r)
                }),
                (t.prototype.recoverLevel = function (e, t, r, i) {
                  var n = this,
                    a = this.hls.config,
                    o = e.details,
                    s = this._levels[t],
                    u = void 0,
                    l = void 0
                  if ((s.loadError++, (s.fragmentError = i), !0 === r)) {
                    if (
                      !(this.levelRetryCount + 1 <= a.levelLoadingMaxRetry)
                    )
                      return (
                        Ie.b.error(
                          'level controller, cannot recover from ' +
                            o +
                            ' error'
                        ),
                        (this.currentLevelIndex = null),
                        this.cleanTimer(),
                        void (e.fatal = !0)
                      )
                    ;(l = Math.min(
                      Math.pow(2, this.levelRetryCount) *
                        a.levelLoadingRetryDelay,
                      a.levelLoadingMaxRetryTimeout
                    )),
                      (this.timer = setTimeout(function () {
                        return n.loadLevel()
                      }, l)),
                      (e.levelRetry = !0),
                      this.levelRetryCount++,
                      Ie.b.warn(
                        'level controller, ' +
                          o +
                          ', retry in ' +
                          l +
                          ' ms, current retry count is ' +
                          this.levelRetryCount
                      )
                  }
                  ;(!0 !== r && !0 !== i) ||
                    ((u = s.url.length),
                    u > 1 && s.loadError < u
                      ? (Ie.b.warn(
                          'level controller, ' +
                            o +
                            ' for level ' +
                            t +
                            ': switching to redundant stream id ' +
                            s.urlId
                        ),
                        (s.urlId = (s.urlId + 1) % u),
                        (s.details = void 0))
                      : -1 === this.manualLevelIndex && 0 !== t
                      ? (Ie.b.warn(
                          'level controller, ' +
                            o +
                            ': switch-down to ' +
                            (t - 1)
                        ),
                        (this.hls.nextAutoLevel = this.currentLevelIndex =
                          t - 1))
                      : !0 === i &&
                        (Ie.b.warn(
                          'level controller, ' + o + ': reload a fragment'
                        ),
                        (this.currentLevelIndex = null)))
                }),
                (t.prototype.onFragLoaded = function (e) {
                  var t = e.frag
                  if (void 0 !== t && 'main' === t.type) {
                    var r = this._levels[t.level]
                    void 0 !== r &&
                      ((r.fragmentError = !1),
                      (r.loadError = 0),
                      (this.levelRetryCount = 0))
                  }
                }),
                (t.prototype.onLevelLoaded = function (e) {
                  var t = this,
                    r = e.level
                  if (r === this.currentLevelIndex) {
                    var i = this._levels[r]
                    !1 === i.fragmentError &&
                      ((i.loadError = 0), (this.levelRetryCount = 0))
                    var n = e.details
                    if (n.live) {
                      var a =
                          1e3 *
                          (n.averagetargetduration
                            ? n.averagetargetduration
                            : n.targetduration),
                        o = i.details
                      o &&
                        n.endSN === o.endSN &&
                        ((a /= 2),
                        Ie.b.log(
                          'same live playlist, reload twice faster'
                        )),
                        (a -= performance.now() - e.stats.trequest),
                        (a = Math.max(1e3, Math.round(a))),
                        Ie.b.log('live playlist, reload in ' + a + ' ms'),
                        (this.timer = setTimeout(function () {
                          return t.loadLevel()
                        }, a))
                    } else this.cleanTimer()
                  }
                }),
                (t.prototype.loadLevel = function () {
                  var e = void 0,
                    t = void 0
                  null !== this.currentLevelIndex &&
                    !0 === this.canload &&
                    void 0 !==
                      (e = this._levels[this.currentLevelIndex]) &&
                    e.url.length > 0 &&
                    ((t = e.urlId),
                    this.hls.trigger(Pe.a.LEVEL_LOADING, {
                      url: e.url[t],
                      level: this.currentLevelIndex,
                      id: t,
                    }))
                }),
                _t(t, [
                  {
                    key: 'levels',
                    get: function () {
                      return this._levels
                    },
                  },
                  {
                    key: 'level',
                    get: function () {
                      return this.currentLevelIndex
                    },
                    set: function (e) {
                      var t = this._levels
                      t &&
                        ((e = Math.min(e, t.length - 1)),
                        (this.currentLevelIndex === e &&
                          void 0 !== t[e].details) ||
                          this.setLevelInternal(e))
                    },
                  },
                  {
                    key: 'manualLevel',
                    get: function () {
                      return this.manualLevelIndex
                    },
                    set: function (e) {
                      ;(this.manualLevelIndex = e),
                        void 0 === this._startLevel &&
                          (this._startLevel = e),
                        -1 !== e && (this.level = e)
                    },
                  },
                  {
                    key: 'firstLevel',
                    get: function () {
                      return this._firstLevel
                    },
                    set: function (e) {
                      this._firstLevel = e
                    },
                  },
                  {
                    key: 'startLevel',
                    get: function () {
                      if (void 0 === this._startLevel) {
                        var e = this.hls.config.startLevel
                        return void 0 !== e ? e : this._firstLevel
                      }
                      return this._startLevel
                    },
                    set: function (e) {
                      this._startLevel = e
                    },
                  },
                  {
                    key: 'nextLoadLevel',
                    get: function () {
                      return -1 !== this.manualLevelIndex
                        ? this.manualLevelIndex
                        : this.hls.nextAutoLevel
                    },
                    set: function (e) {
                      ;(this.level = e),
                        -1 === this.manualLevelIndex &&
                          (this.hls.nextAutoLevel = e)
                    },
                  },
                ]),
                t
              )
            })(Ne),
            Et = bt,
            wt = r(3),
            Tt = (function (e) {
              function t(r) {
                C(this, t)
                var i = M(
                  this,
                  e.call(
                    this,
                    r,
                    Pe.a.MEDIA_ATTACHED,
                    Pe.a.MEDIA_DETACHING,
                    Pe.a.FRAG_PARSING_METADATA
                  )
                )
                return (i.id3Track = void 0), (i.media = void 0), i
              }
              return (
                N(t, e),
                (t.prototype.destroy = function () {
                  Ne.prototype.destroy.call(this)
                }),
                (t.prototype.onMediaAttached = function (e) {
                  ;(this.media = e.media), this.media
                }),
                (t.prototype.onMediaDetaching = function () {
                  this.media = void 0
                }),
                (t.prototype.onFragParsingMetadata = function (e) {
                  var t = e.frag,
                    r = e.samples
                  this.id3Track ||
                    ((this.id3Track = this.media.addTextTrack(
                      'metadata',
                      'id3'
                    )),
                    (this.id3Track.mode = 'hidden'))
                  for (
                    var i =
                        window.WebKitDataCue ||
                        window.VTTCue ||
                        window.TextTrackCue,
                      n = 0;
                    n < r.length;
                    n++
                  ) {
                    var a = wt.a.getID3Frames(r[n].data)
                    if (a) {
                      var o = r[n].pts,
                        s = n < r.length - 1 ? r[n + 1].pts : t.endPTS
                      o === s && (s += 1e-4)
                      for (var u = 0; u < a.length; u++) {
                        var l = a[u]
                        if (!wt.a.isTimeStampFrame(l)) {
                          var c = new i(o, s, '')
                          ;(c.value = l), this.id3Track.addCue(c)
                        }
                      }
                    }
                  }
                }),
                t
              )
            })(Ne),
            St = Tt,
            At = (function () {
              function e(t) {
                U(this, e),
                  (this.alpha_ = t ? Math.exp(Math.log(0.5) / t) : 0),
                  (this.estimate_ = 0),
                  (this.totalWeight_ = 0)
              }
              return (
                (e.prototype.sample = function (e, t) {
                  var r = Math.pow(this.alpha_, e)
                  ;(this.estimate_ = t * (1 - r) + r * this.estimate_),
                    (this.totalWeight_ += e)
                }),
                (e.prototype.getTotalWeight = function () {
                  return this.totalWeight_
                }),
                (e.prototype.getEstimate = function () {
                  if (this.alpha_) {
                    var e = 1 - Math.pow(this.alpha_, this.totalWeight_)
                    return this.estimate_ / e
                  }
                  return this.estimate_
                }),
                e
              )
            })(),
            Rt = At,
            kt = (function () {
              function e(t, r, i, n) {
                B(this, e),
                  (this.hls = t),
                  (this.defaultEstimate_ = n),
                  (this.minWeight_ = 0.001),
                  (this.minDelayMs_ = 50),
                  (this.slow_ = new Rt(r)),
                  (this.fast_ = new Rt(i))
              }
              return (
                (e.prototype.sample = function (e, t) {
                  e = Math.max(e, this.minDelayMs_)
                  var r = (8e3 * t) / e,
                    i = e / 1e3
                  this.fast_.sample(i, r), this.slow_.sample(i, r)
                }),
                (e.prototype.canEstimate = function () {
                  var e = this.fast_
                  return e && e.getTotalWeight() >= this.minWeight_
                }),
                (e.prototype.getEstimate = function () {
                  return this.canEstimate()
                    ? Math.min(
                        this.fast_.getEstimate(),
                        this.slow_.getEstimate()
                      )
                    : this.defaultEstimate_
                }),
                (e.prototype.destroy = function () {}),
                e
              )
            })(),
            Dt = kt,
            Ot = (function () {
              function e(e, t) {
                for (var r = 0; r < t.length; r++) {
                  var i = t[r]
                  ;(i.enumerable = i.enumerable || !1),
                    (i.configurable = !0),
                    'value' in i && (i.writable = !0),
                    Object.defineProperty(e, i.key, i)
                }
              }
              return function (t, r, i) {
                return r && e(t.prototype, r), i && e(t, i), t
              }
            })(),
            Lt = (function (e) {
              function t(r) {
                j(this, t)
                var i = G(
                  this,
                  e.call(
                    this,
                    r,
                    Pe.a.FRAG_LOADING,
                    Pe.a.FRAG_LOADED,
                    Pe.a.FRAG_BUFFERED,
                    Pe.a.ERROR
                  )
                )
                return (
                  (i.lastLoadedFragLevel = 0),
                  (i._nextAutoLevel = -1),
                  (i.hls = r),
                  (i.timer = null),
                  (i._bwEstimator = null),
                  (i.onCheck = i._abandonRulesCheck.bind(i)),
                  i
                )
              }
              return (
                H(t, e),
                (t.prototype.destroy = function () {
                  this.clearTimer(), Ne.prototype.destroy.call(this)
                }),
                (t.prototype.onFragLoading = function (e) {
                  var t = e.frag
                  if ('main' === t.type) {
                    if (
                      (this.timer ||
                        (this.timer = setInterval(this.onCheck, 100)),
                      !this._bwEstimator)
                    ) {
                      var r = this.hls,
                        i = e.frag.level,
                        n = r.levels[i].details.live,
                        a = r.config,
                        o = void 0,
                        s = void 0
                      n
                        ? ((o = a.abrEwmaFastLive),
                          (s = a.abrEwmaSlowLive))
                        : ((o = a.abrEwmaFastVoD), (s = a.abrEwmaSlowVoD)),
                        (this._bwEstimator = new Dt(
                          r,
                          s,
                          o,
                          a.abrEwmaDefaultEstimate
                        ))
                    }
                    this.fragCurrent = t
                  }
                }),
                (t.prototype._abandonRulesCheck = function () {
                  var e = this.hls,
                    t = e.media,
                    r = this.fragCurrent,
                    i = r.loader,
                    n = e.minAutoLevel
                  if (!i || (i.stats && i.stats.aborted))
                    return (
                      Ie.b.warn(
                        'frag loader destroy or aborted, disarm abandonRules'
                      ),
                      this.clearTimer(),
                      void (this._nextAutoLevel = -1)
                    )
                  var a = i.stats
                  if (
                    t &&
                    a &&
                    ((!t.paused && 0 !== t.playbackRate) ||
                      !t.readyState) &&
                    r.autoLevel &&
                    r.level
                  ) {
                    var o = performance.now() - a.trequest,
                      s = Math.abs(t.playbackRate)
                    if (o > (500 * r.duration) / s) {
                      var u = e.levels,
                        l = Math.max(
                          1,
                          a.bw ? a.bw / 8 : (1e3 * a.loaded) / o
                        ),
                        c = u[r.level],
                        d = c.realBitrate
                          ? Math.max(c.realBitrate, c.bitrate)
                          : c.bitrate,
                        f = a.total
                          ? a.total
                          : Math.max(
                              a.loaded,
                              Math.round((r.duration * d) / 8)
                            ),
                        h = t.currentTime,
                        p = (f - a.loaded) / l,
                        v =
                          (nt.bufferInfo(t, h, e.config.maxBufferHole)
                            .end -
                            h) /
                          s
                      if (v < (2 * r.duration) / s && p > v) {
                        var g = void 0,
                          y = void 0
                        for (y = r.level - 1; y > n; y--) {
                          var m = u[y].realBitrate
                            ? Math.max(u[y].realBitrate, u[y].bitrate)
                            : u[y].bitrate
                          if ((g = (r.duration * m) / (6.4 * l)) < v) break
                        }
                        g < p &&
                          (Ie.b.warn(
                            'loading too slow, abort fragment loading and switch to level ' +
                              y +
                              ':fragLoadedDelay[' +
                              y +
                              ']<fragLoadedDelay[' +
                              (r.level - 1) +
                              '];bufferStarvationDelay:' +
                              g.toFixed(1) +
                              '<' +
                              p.toFixed(1) +
                              ':' +
                              v.toFixed(1)
                          ),
                          (e.nextLoadLevel = y),
                          this._bwEstimator.sample(o, a.loaded),
                          i.abort(),
                          this.clearTimer(),
                          e.trigger(Pe.a.FRAG_LOAD_EMERGENCY_ABORTED, {
                            frag: r,
                            stats: a,
                          }))
                      }
                    }
                  }
                }),
                (t.prototype.onFragLoaded = function (e) {
                  var t = e.frag
                  if ('main' === t.type && !isNaN(t.sn)) {
                    if (
                      (this.clearTimer(),
                      (this.lastLoadedFragLevel = t.level),
                      (this._nextAutoLevel = -1),
                      this.hls.config.abrMaxWithRealBitrate)
                    ) {
                      var r = this.hls.levels[t.level],
                        i =
                          (r.loaded ? r.loaded.bytes : 0) + e.stats.loaded,
                        n =
                          (r.loaded ? r.loaded.duration : 0) +
                          e.frag.duration
                      ;(r.loaded = { bytes: i, duration: n }),
                        (r.realBitrate = Math.round((8 * i) / n))
                    }
                    if (e.frag.bitrateTest) {
                      var a = e.stats
                      ;(a.tparsed = a.tbuffered = a.tload),
                        this.onFragBuffered(e)
                    }
                  }
                }),
                (t.prototype.onFragBuffered = function (e) {
                  var t = e.stats,
                    r = e.frag
                  if (
                    !(
                      !0 === t.aborted ||
                      1 !== r.loadCounter ||
                      'main' !== r.type ||
                      isNaN(r.sn) ||
                      (r.bitrateTest && t.tload !== t.tbuffered)
                    )
                  ) {
                    var i = t.tparsed - t.trequest
                    Ie.b.log(
                      'latency/loading/parsing/append/kbps:' +
                        Math.round(t.tfirst - t.trequest) +
                        '/' +
                        Math.round(t.tload - t.tfirst) +
                        '/' +
                        Math.round(t.tparsed - t.tload) +
                        '/' +
                        Math.round(t.tbuffered - t.tparsed) +
                        '/' +
                        Math.round(
                          (8 * t.loaded) / (t.tbuffered - t.trequest)
                        )
                    ),
                      this._bwEstimator.sample(i, t.loaded),
                      (t.bwEstimate = this._bwEstimator.getEstimate()),
                      r.bitrateTest
                        ? (this.bitrateTestDelay = i / 1e3)
                        : (this.bitrateTestDelay = 0)
                  }
                }),
                (t.prototype.onError = function (e) {
                  switch (e.details) {
                    case xe.a.FRAG_LOAD_ERROR:
                    case xe.a.FRAG_LOAD_TIMEOUT:
                      this.clearTimer()
                  }
                }),
                (t.prototype.clearTimer = function () {
                  clearInterval(this.timer), (this.timer = null)
                }),
                (t.prototype._findBestLevel = function (
                  e,
                  t,
                  r,
                  i,
                  n,
                  a,
                  o,
                  s,
                  u
                ) {
                  for (var l = n; l >= i; l--) {
                    var c = u[l],
                      d = c.details,
                      f = d ? d.totalduration / d.fragments.length : t,
                      h = !!d && d.live,
                      p = void 0
                    p = l <= e ? o * r : s * r
                    var v = u[l].realBitrate
                        ? Math.max(u[l].realBitrate, u[l].bitrate)
                        : u[l].bitrate,
                      g = (v * f) / p
                    if (
                      (Ie.b.trace(
                        'level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: ' +
                          l +
                          '/' +
                          Math.round(p) +
                          '/' +
                          v +
                          '/' +
                          f +
                          '/' +
                          a +
                          '/' +
                          g
                      ),
                      p > v &&
                        (!g || (h && !this.bitrateTestDelay) || g < a))
                    )
                      return l
                  }
                  return -1
                }),
                Ot(t, [
                  {
                    key: 'nextAutoLevel',
                    get: function () {
                      var e = this._nextAutoLevel,
                        t = this._bwEstimator
                      if (!(-1 === e || (t && t.canEstimate()))) return e
                      var r = this._nextABRAutoLevel
                      return -1 !== e && (r = Math.min(e, r)), r
                    },
                    set: function (e) {
                      this._nextAutoLevel = e
                    },
                  },
                  {
                    key: '_nextABRAutoLevel',
                    get: function () {
                      var e = this.hls,
                        t = e.maxAutoLevel,
                        r = e.levels,
                        i = e.config,
                        n = e.minAutoLevel,
                        a = e.media,
                        o = this.lastLoadedFragLevel,
                        s = this.fragCurrent
                          ? this.fragCurrent.duration
                          : 0,
                        u = a ? a.currentTime : 0,
                        l =
                          a && 0 !== a.playbackRate
                            ? Math.abs(a.playbackRate)
                            : 1,
                        c = this._bwEstimator
                          ? this._bwEstimator.getEstimate()
                          : i.abrEwmaDefaultEstimate,
                        d =
                          (nt.bufferInfo(a, u, i.maxBufferHole).end - u) /
                          l,
                        f = this._findBestLevel(
                          o,
                          s,
                          c,
                          n,
                          t,
                          d,
                          i.abrBandWidthFactor,
                          i.abrBandWidthUpFactor,
                          r
                        )
                      if (f >= 0) return f
                      Ie.b.trace(
                        'rebuffering expected to happen, lets try to find a quality level minimizing the rebuffering'
                      )
                      var h = s
                          ? Math.min(s, i.maxStarvationDelay)
                          : i.maxStarvationDelay,
                        p = i.abrBandWidthFactor,
                        v = i.abrBandWidthUpFactor
                      if (0 === d) {
                        var g = this.bitrateTestDelay
                        if (g) {
                          ;(h =
                            (s
                              ? Math.min(s, i.maxLoadingDelay)
                              : i.maxLoadingDelay) - g),
                            Ie.b.trace(
                              'bitrate test took ' +
                                Math.round(1e3 * g) +
                                'ms, set first fragment max fetchDuration to ' +
                                Math.round(1e3 * h) +
                                ' ms'
                            ),
                            (p = v = 1)
                        }
                      }
                      return (
                        (f = this._findBestLevel(
                          o,
                          s,
                          c,
                          n,
                          t,
                          d + h,
                          p,
                          v,
                          r
                        )),
                        Math.max(f, 0)
                      )
                    },
                  },
                ]),
                t
              )
            })(Ne),
            Pt = Lt,
            xt = y(),
            It = (function (e) {
              function t(r) {
                q(this, t)
                var i = V(
                  this,
                  e.call(
                    this,
                    r,
                    Pe.a.MEDIA_ATTACHING,
                    Pe.a.MEDIA_DETACHING,
                    Pe.a.MANIFEST_PARSED,
                    Pe.a.BUFFER_RESET,
                    Pe.a.BUFFER_APPENDING,
                    Pe.a.BUFFER_CODECS,
                    Pe.a.BUFFER_EOS,
                    Pe.a.BUFFER_FLUSHING,
                    Pe.a.LEVEL_PTS_UPDATED,
                    Pe.a.LEVEL_UPDATED
                  )
                )
                return (
                  (i._msDuration = null),
                  (i._levelDuration = null),
                  (i._live = null),
                  (i._objectUrl = null),
                  (i.onsbue = i.onSBUpdateEnd.bind(i)),
                  (i.onsbe = i.onSBUpdateError.bind(i)),
                  (i.pendingTracks = {}),
                  (i.tracks = {}),
                  i
                )
              }
              return (
                K(t, e),
                (t.prototype.destroy = function () {
                  Ne.prototype.destroy.call(this)
                }),
                (t.prototype.onLevelPtsUpdated = function (e) {
                  var t = e.type,
                    r = this.tracks.audio
                  if ('audio' === t && r && 'audio/mpeg' === r.container) {
                    var i = this.sourceBuffer.audio
                    if (Math.abs(i.timestampOffset - e.start) > 0.1) {
                      var n = i.updating
                      try {
                        i.abort()
                      } catch (e) {
                        ;(n = !0),
                          Ie.b.warn('can not abort audio buffer: ' + e)
                      }
                      n
                        ? (this.audioTimestampOffset = e.start)
                        : (Ie.b.warn(
                            'change mpeg audio timestamp offset from ' +
                              i.timestampOffset +
                              ' to ' +
                              e.start
                          ),
                          (i.timestampOffset = e.start))
                    }
                  }
                }),
                (t.prototype.onManifestParsed = function (e) {
                  var t = e.audio,
                    r = e.video || (e.levels.length && e.audio),
                    i = 0
                  e.altAudio &&
                    (t || r) &&
                    ((i = (t ? 1 : 0) + (r ? 1 : 0)),
                    Ie.b.log(i + ' sourceBuffer(s) expected')),
                    (this.sourceBufferNb = i)
                }),
                (t.prototype.onMediaAttaching = function (e) {
                  var t = (this.media = e.media)
                  if (t) {
                    var r = (this.mediaSource = new xt())
                    ;(this.onmso = this.onMediaSourceOpen.bind(this)),
                      (this.onmse = this.onMediaSourceEnded.bind(this)),
                      (this.onmsc = this.onMediaSourceClose.bind(this)),
                      r.addEventListener('sourceopen', this.onmso),
                      r.addEventListener('sourceended', this.onmse),
                      r.addEventListener('sourceclose', this.onmsc),
                      (t.src = URL.createObjectURL(r)),
                      (this._objectUrl = t.src)
                  }
                }),
                (t.prototype.onMediaDetaching = function () {
                  Ie.b.log('media source detaching')
                  var e = this.mediaSource
                  if (e) {
                    if ('open' === e.readyState)
                      try {
                        e.endOfStream()
                      } catch (e) {
                        Ie.b.warn(
                          'onMediaDetaching:' +
                            e.message +
                            ' while calling endOfStream'
                        )
                      }
                    e.removeEventListener('sourceopen', this.onmso),
                      e.removeEventListener('sourceended', this.onmse),
                      e.removeEventListener('sourceclose', this.onmsc),
                      this.media &&
                        (URL.revokeObjectURL(this._objectUrl),
                        this.media.src === this._objectUrl
                          ? (this.media.removeAttribute('src'),
                            this.media.load())
                          : Ie.b.warn(
                              'media.src was changed by a third party - skip cleanup'
                            )),
                      (this.mediaSource = null),
                      (this.media = null),
                      (this._objectUrl = null),
                      (this.pendingTracks = {}),
                      (this.tracks = {}),
                      (this.sourceBuffer = {}),
                      (this.flushRange = []),
                      (this.segments = []),
                      (this.appended = 0)
                  }
                  ;(this.onmso = this.onmse = this.onmsc = null),
                    this.hls.trigger(Pe.a.MEDIA_DETACHED)
                }),
                (t.prototype.onMediaSourceOpen = function () {
                  Ie.b.log('media source opened'),
                    this.hls.trigger(Pe.a.MEDIA_ATTACHED, {
                      media: this.media,
                    })
                  var e = this.mediaSource
                  e && e.removeEventListener('sourceopen', this.onmso),
                    this.checkPendingTracks()
                }),
                (t.prototype.checkPendingTracks = function () {
                  var e = this.pendingTracks,
                    t = Object.keys(e).length
                  t &&
                    (this.sourceBufferNb <= t ||
                      0 === this.sourceBufferNb) &&
                    (this.createSourceBuffers(e),
                    (this.pendingTracks = {}),
                    this.doAppending())
                }),
                (t.prototype.onMediaSourceClose = function () {
                  Ie.b.log('media source closed')
                }),
                (t.prototype.onMediaSourceEnded = function () {
                  Ie.b.log('media source ended')
                }),
                (t.prototype.onSBUpdateEnd = function () {
                  if (this.audioTimestampOffset) {
                    var e = this.sourceBuffer.audio
                    Ie.b.warn(
                      'change mpeg audio timestamp offset from ' +
                        e.timestampOffset +
                        ' to ' +
                        this.audioTimestampOffset
                    ),
                      (e.timestampOffset = this.audioTimestampOffset),
                      delete this.audioTimestampOffset
                  }
                  this._needsFlush && this.doFlush(),
                    this._needsEos && this.checkEos(),
                    (this.appending = !1)
                  var t = this.parent,
                    r = this.segments.reduce(function (e, r) {
                      return r.parent === t ? e + 1 : e
                    }, 0)
                  this.hls.trigger(Pe.a.BUFFER_APPENDED, {
                    parent: t,
                    pending: r,
                  }),
                    this._needsFlush || this.doAppending(),
                    this.updateMediaElementDuration()
                }),
                (t.prototype.onSBUpdateError = function (e) {
                  Ie.b.error('sourceBuffer error:', e),
                    this.hls.trigger(Pe.a.ERROR, {
                      type: xe.b.MEDIA_ERROR,
                      details: xe.a.BUFFER_APPENDING_ERROR,
                      fatal: !1,
                    })
                }),
                (t.prototype.onBufferReset = function () {
                  var e = this.sourceBuffer
                  for (var t in e) {
                    var r = e[t]
                    try {
                      this.mediaSource.removeSourceBuffer(r),
                        r.removeEventListener('updateend', this.onsbue),
                        r.removeEventListener('error', this.onsbe)
                    } catch (e) {}
                  }
                  ;(this.sourceBuffer = {}),
                    (this.flushRange = []),
                    (this.segments = []),
                    (this.appended = 0)
                }),
                (t.prototype.onBufferCodecs = function (e) {
                  if (0 === Object.keys(this.sourceBuffer).length) {
                    for (var t in e) this.pendingTracks[t] = e[t]
                    var r = this.mediaSource
                    r &&
                      'open' === r.readyState &&
                      this.checkPendingTracks()
                  }
                }),
                (t.prototype.createSourceBuffers = function (e) {
                  var t = this.sourceBuffer,
                    r = this.mediaSource
                  for (var i in e)
                    if (!t[i]) {
                      var n = e[i],
                        a = n.levelCodec || n.codec,
                        o = n.container + ';codecs=' + a
                      Ie.b.log('creating sourceBuffer(' + o + ')')
                      try {
                        var s = (t[i] = r.addSourceBuffer(o))
                        s.addEventListener('updateend', this.onsbue),
                          s.addEventListener('error', this.onsbe),
                          (this.tracks[i] = {
                            codec: a,
                            container: n.container,
                          }),
                          (n.buffer = s)
                      } catch (e) {
                        Ie.b.error(
                          'error while trying to add sourceBuffer:' +
                            e.message
                        ),
                          this.hls.trigger(Pe.a.ERROR, {
                            type: xe.b.MEDIA_ERROR,
                            details: xe.a.BUFFER_ADD_CODEC_ERROR,
                            fatal: !1,
                            err: e,
                            mimeType: o,
                          })
                      }
                    }
                  this.hls.trigger(Pe.a.BUFFER_CREATED, { tracks: e })
                }),
                (t.prototype.onBufferAppending = function (e) {
                  this._needsFlush ||
                    (this.segments
                      ? this.segments.push(e)
                      : (this.segments = [e]),
                    this.doAppending())
                }),
                (t.prototype.onBufferAppendFail = function (e) {
                  Ie.b.error('sourceBuffer error:', e.event),
                    this.hls.trigger(Pe.a.ERROR, {
                      type: xe.b.MEDIA_ERROR,
                      details: xe.a.BUFFER_APPENDING_ERROR,
                      fatal: !1,
                    })
                }),
                (t.prototype.onBufferEos = function (e) {
                  var t = this.sourceBuffer,
                    r = e.type
                  for (var i in t)
                    (r && i !== r) ||
                      t[i].ended ||
                      ((t[i].ended = !0),
                      Ie.b.log(i + ' sourceBuffer now EOS'))
                  this.checkEos()
                }),
                (t.prototype.checkEos = function () {
                  var e = this.sourceBuffer,
                    t = this.mediaSource
                  if (!t || 'open' !== t.readyState)
                    return void (this._needsEos = !1)
                  for (var r in e) {
                    var i = e[r]
                    if (!i.ended) return
                    if (i.updating) return void (this._needsEos = !0)
                  }
                  Ie.b.log(
                    'all media data available, signal endOfStream() to MediaSource and stop loading fragment'
                  )
                  try {
                    t.endOfStream()
                  } catch (e) {
                    Ie.b.warn(
                      'exception while calling mediaSource.endOfStream()'
                    )
                  }
                  this._needsEos = !1
                }),
                (t.prototype.onBufferFlushing = function (e) {
                  this.flushRange.push({
                    start: e.startOffset,
                    end: e.endOffset,
                    type: e.type,
                  }),
                    (this.flushBufferCounter = 0),
                    this.doFlush()
                }),
                (t.prototype.onLevelUpdated = function (e) {
                  var t = e.details
                  t.fragments.length > 0 &&
                    ((this._levelDuration =
                      t.totalduration + t.fragments[0].start),
                    (this._live = t.live),
                    this.updateMediaElementDuration())
                }),
                (t.prototype.updateMediaElementDuration = function () {
                  var e = this.hls.config,
                    t = void 0
                  if (
                    null !== this._levelDuration &&
                    this.media &&
                    this.mediaSource &&
                    this.sourceBuffer &&
                    0 !== this.media.readyState &&
                    'open' === this.mediaSource.readyState
                  ) {
                    for (var r in this.sourceBuffer)
                      if (!0 === this.sourceBuffer[r].updating) return
                    ;(t = this.media.duration),
                      null === this._msDuration &&
                        (this._msDuration = this.mediaSource.duration),
                      !0 === this._live && !0 === e.liveDurationInfinity
                        ? (Ie.b.log(
                            'Media Source duration is set to Infinity'
                          ),
                          (this._msDuration = this.mediaSource.duration =
                            1 / 0))
                        : ((this._levelDuration > this._msDuration &&
                            this._levelDuration > t) ||
                            t === 1 / 0 ||
                            isNaN(t)) &&
                          (Ie.b.log(
                            'Updating Media Source duration to ' +
                              this._levelDuration.toFixed(3)
                          ),
                          (this._msDuration = this.mediaSource.duration =
                            this._levelDuration))
                  }
                }),
                (t.prototype.doFlush = function () {
                  for (; this.flushRange.length; ) {
                    var e = this.flushRange[0]
                    if (!this.flushBuffer(e.start, e.end, e.type))
                      return void (this._needsFlush = !0)
                    this.flushRange.shift(), (this.flushBufferCounter = 0)
                  }
                  if (0 === this.flushRange.length) {
                    this._needsFlush = !1
                    var t = 0,
                      r = this.sourceBuffer
                    try {
                      for (var i in r) t += r[i].buffered.length
                    } catch (e) {
                      Ie.b.error(
                        'error while accessing sourceBuffer.buffered'
                      )
                    }
                    ;(this.appended = t),
                      this.hls.trigger(Pe.a.BUFFER_FLUSHED)
                  }
                }),
                (t.prototype.doAppending = function () {
                  var e = this.hls,
                    t = this.sourceBuffer,
                    r = this.segments
                  if (Object.keys(t).length) {
                    if (this.media.error)
                      return (
                        (this.segments = []),
                        void Ie.b.error(
                          'trying to append although a media error occured, flush segment and abort'
                        )
                      )
                    if (this.appending) return
                    if (r && r.length) {
                      var i = r.shift()
                      try {
                        var n = i.type,
                          a = t[n]
                        a
                          ? a.updating
                            ? r.unshift(i)
                            : ((a.ended = !1),
                              (this.parent = i.parent),
                              a.appendBuffer(i.data),
                              (this.appendError = 0),
                              this.appended++,
                              (this.appending = !0))
                          : this.onSBUpdateEnd()
                      } catch (t) {
                        Ie.b.error(
                          'error while trying to append buffer:' +
                            t.message
                        ),
                          r.unshift(i)
                        var o = {
                          type: xe.b.MEDIA_ERROR,
                          parent: i.parent,
                        }
                        if (22 === t.code)
                          return (
                            (this.segments = []),
                            (o.details = xe.a.BUFFER_FULL_ERROR),
                            (o.fatal = !1),
                            void e.trigger(Pe.a.ERROR, o)
                          )
                        if (
                          (this.appendError
                            ? this.appendError++
                            : (this.appendError = 1),
                          (o.details = xe.a.BUFFER_APPEND_ERROR),
                          this.appendError > e.config.appendErrorMaxRetry)
                        )
                          return (
                            Ie.b.log(
                              'fail ' +
                                e.config.appendErrorMaxRetry +
                                ' times to append segment in sourceBuffer'
                            ),
                            (r = []),
                            (o.fatal = !0),
                            void e.trigger(Pe.a.ERROR, o)
                          )
                        ;(o.fatal = !1), e.trigger(Pe.a.ERROR, o)
                      }
                    }
                  }
                }),
                (t.prototype.flushBuffer = function (e, t, r) {
                  var i,
                    n,
                    a,
                    o,
                    s,
                    u,
                    l = this.sourceBuffer
                  if (Object.keys(l).length) {
                    if (
                      (Ie.b.log(
                        'flushBuffer,pos/start/end: ' +
                          this.media.currentTime.toFixed(3) +
                          '/' +
                          e +
                          '/' +
                          t
                      ),
                      this.flushBufferCounter < this.appended)
                    ) {
                      for (var c in l)
                        if (!r || c === r) {
                          if (((i = l[c]), (i.ended = !1), i.updating))
                            return (
                              Ie.b.warn(
                                'cannot flush, sb updating in progress'
                              ),
                              !1
                            )
                          try {
                            for (n = 0; n < i.buffered.length; n++)
                              if (
                                ((a = i.buffered.start(n)),
                                (o = i.buffered.end(n)),
                                -1 !==
                                  navigator.userAgent
                                    .toLowerCase()
                                    .indexOf('firefox') &&
                                t === Number.POSITIVE_INFINITY
                                  ? ((s = e), (u = t))
                                  : ((s = Math.max(a, e)),
                                    (u = Math.min(o, t))),
                                Math.min(u, o) - s > 0.5)
                              )
                                return (
                                  this.flushBufferCounter++,
                                  Ie.b.log(
                                    'flush ' +
                                      c +
                                      ' [' +
                                      s +
                                      ',' +
                                      u +
                                      '], of [' +
                                      a +
                                      ',' +
                                      o +
                                      '], pos:' +
                                      this.media.currentTime
                                  ),
                                  i.remove(s, u),
                                  !1
                                )
                          } catch (e) {
                            Ie.b.warn(
                              'exception while accessing sourcebuffer, it might have been removed from MediaSource'
                            )
                          }
                        }
                    } else Ie.b.warn('abort flushing too many retries')
                    Ie.b.log('buffer flushed')
                  }
                  return !0
                }),
                t
              )
            })(Ne),
            Ct = It,
            Mt = (function () {
              function e(e, t) {
                for (var r = 0; r < t.length; r++) {
                  var i = t[r]
                  ;(i.enumerable = i.enumerable || !1),
                    (i.configurable = !0),
                    'value' in i && (i.writable = !0),
                    Object.defineProperty(e, i.key, i)
                }
              }
              return function (t, r, i) {
                return r && e(t.prototype, r), i && e(t, i), t
              }
            })(),
            Nt = (function (e) {
              function t(r) {
                return (
                  z(this, t),
                  W(
                    this,
                    e.call(
                      this,
                      r,
                      Pe.a.FPS_DROP_LEVEL_CAPPING,
                      Pe.a.MEDIA_ATTACHING,
                      Pe.a.MANIFEST_PARSED
                    )
                  )
                )
              }
              return (
                Y(t, e),
                (t.prototype.destroy = function () {
                  this.hls.config.capLevelToPlayerSize &&
                    ((this.media = this.restrictedLevels = null),
                    (this.autoLevelCapping = Number.POSITIVE_INFINITY),
                    this.timer && (this.timer = clearInterval(this.timer)))
                }),
                (t.prototype.onFpsDropLevelCapping = function (e) {
                  t.isLevelAllowed(
                    e.droppedLevel,
                    this.restrictedLevels
                  ) && this.restrictedLevels.push(e.droppedLevel)
                }),
                (t.prototype.onMediaAttaching = function (e) {
                  this.media =
                    e.media instanceof HTMLVideoElement ? e.media : null
                }),
                (t.prototype.onManifestParsed = function (e) {
                  var t = this.hls
                  ;(this.restrictedLevels = []),
                    t.config.capLevelToPlayerSize &&
                      ((this.autoLevelCapping = Number.POSITIVE_INFINITY),
                      (this.levels = e.levels),
                      (t.firstLevel = this.getMaxLevel(e.firstLevel)),
                      clearInterval(this.timer),
                      (this.timer = setInterval(
                        this.detectPlayerSize.bind(this),
                        1e3
                      )),
                      this.detectPlayerSize())
                }),
                (t.prototype.detectPlayerSize = function () {
                  if (this.media) {
                    var e = this.levels ? this.levels.length : 0
                    if (e) {
                      var t = this.hls
                      ;(t.autoLevelCapping = this.getMaxLevel(e - 1)),
                        t.autoLevelCapping > this.autoLevelCapping &&
                          t.streamController.nextLevelSwitch(),
                        (this.autoLevelCapping = t.autoLevelCapping)
                    }
                  }
                }),
                (t.prototype.getMaxLevel = function (e) {
                  var r = this
                  if (!this.levels) return -1
                  var i = this.levels.filter(function (i, n) {
                    return (
                      t.isLevelAllowed(n, r.restrictedLevels) && n <= e
                    )
                  })
                  return t.getMaxLevelByMediaSize(
                    i,
                    this.mediaWidth,
                    this.mediaHeight
                  )
                }),
                (t.isLevelAllowed = function (e) {
                  return (
                    -1 ===
                    (arguments.length > 1 && void 0 !== arguments[1]
                      ? arguments[1]
                      : []
                    ).indexOf(e)
                  )
                }),
                (t.getMaxLevelByMediaSize = function (e, t, r) {
                  if (!e || (e && !e.length)) return -1
                  for (var i = e.length - 1, n = 0; n < e.length; n += 1) {
                    var a = e[n]
                    if (
                      (a.width >= t || a.height >= r) &&
                      (function (e, t) {
                        return (
                          !t ||
                          e.width !== t.width ||
                          e.height !== t.height
                        )
                      })(a, e[n + 1])
                    ) {
                      i = n
                      break
                    }
                  }
                  return i
                }),
                Mt(
                  t,
                  [
                    {
                      key: 'mediaWidth',
                      get: function () {
                        var e = void 0,
                          r = this.media
                        return (
                          r &&
                            ((e =
                              r.width || r.clientWidth || r.offsetWidth),
                            (e *= t.contentScaleFactor)),
                          e
                        )
                      },
                    },
                    {
                      key: 'mediaHeight',
                      get: function () {
                        var e = void 0,
                          r = this.media
                        return (
                          r &&
                            ((e =
                              r.height ||
                              r.clientHeight ||
                              r.offsetHeight),
                            (e *= t.contentScaleFactor)),
                          e
                        )
                      },
                    },
                  ],
                  [
                    {
                      key: 'contentScaleFactor',
                      get: function () {
                        var e = 1
                        try {
                          e = window.devicePixelRatio
                        } catch (e) {}
                        return e
                      },
                    },
                  ]
                ),
                t
              )
            })(Ne),
            Ft = Nt,
            Ut = (function (e) {
              function t(r) {
                return (
                  Q(this, t),
                  X(this, e.call(this, r, Pe.a.MEDIA_ATTACHING))
                )
              }
              return (
                $(t, e),
                (t.prototype.destroy = function () {
                  this.timer && clearInterval(this.timer),
                    (this.isVideoPlaybackQualityAvailable = !1)
                }),
                (t.prototype.onMediaAttaching = function (e) {
                  var t = this.hls.config
                  if (t.capLevelOnFPSDrop) {
                    'function' ==
                      typeof (this.video =
                        e.media instanceof HTMLVideoElement
                          ? e.media
                          : null).getVideoPlaybackQuality &&
                      (this.isVideoPlaybackQualityAvailable = !0),
                      clearInterval(this.timer),
                      (this.timer = setInterval(
                        this.checkFPSInterval.bind(this),
                        t.fpsDroppedMonitoringPeriod
                      ))
                  }
                }),
                (t.prototype.checkFPS = function (e, t, r) {
                  var i = performance.now()
                  if (t) {
                    if (this.lastTime) {
                      var n = i - this.lastTime,
                        a = r - this.lastDroppedFrames,
                        o = t - this.lastDecodedFrames,
                        s = (1e3 * a) / n,
                        u = this.hls
                      if (
                        (u.trigger(Pe.a.FPS_DROP, {
                          currentDropped: a,
                          currentDecoded: o,
                          totalDroppedFrames: r,
                        }),
                        s > 0 &&
                          a > u.config.fpsDroppedMonitoringThreshold * o)
                      ) {
                        var l = u.currentLevel
                        Ie.b.warn(
                          'drop FPS ratio greater than max allowed value for currentLevel: ' +
                            l
                        ),
                          l > 0 &&
                            (-1 === u.autoLevelCapping ||
                              u.autoLevelCapping >= l) &&
                            ((l -= 1),
                            u.trigger(Pe.a.FPS_DROP_LEVEL_CAPPING, {
                              level: l,
                              droppedLevel: u.currentLevel,
                            }),
                            (u.autoLevelCapping = l),
                            u.streamController.nextLevelSwitch())
                      }
                    }
                    ;(this.lastTime = i),
                      (this.lastDroppedFrames = r),
                      (this.lastDecodedFrames = t)
                  }
                }),
                (t.prototype.checkFPSInterval = function () {
                  var e = this.video
                  if (e)
                    if (this.isVideoPlaybackQualityAvailable) {
                      var t = e.getVideoPlaybackQuality()
                      this.checkFPS(
                        e,
                        t.totalVideoFrames,
                        t.droppedVideoFrames
                      )
                    } else
                      this.checkFPS(
                        e,
                        e.webkitDecodedFrameCount,
                        e.webkitDroppedFrameCount
                      )
                }),
                t
              )
            })(Ne),
            Bt = Ut,
            jt = (function () {
              function e(t) {
                J(this, e), t && t.xhrSetup && (this.xhrSetup = t.xhrSetup)
              }
              return (
                (e.prototype.destroy = function () {
                  this.abort(), (this.loader = null)
                }),
                (e.prototype.abort = function () {
                  var e = this.loader
                  e &&
                    4 !== e.readyState &&
                    ((this.stats.aborted = !0), e.abort()),
                    window.clearTimeout(this.requestTimeout),
                    (this.requestTimeout = null),
                    window.clearTimeout(this.retryTimeout),
                    (this.retryTimeout = null)
                }),
                (e.prototype.load = function (e, t, r) {
                  ;(this.context = e),
                    (this.config = t),
                    (this.callbacks = r),
                    (this.stats = {
                      trequest: performance.now(),
                      retry: 0,
                    }),
                    (this.retryDelay = t.retryDelay),
                    this.loadInternal()
                }),
                (e.prototype.loadInternal = function () {
                  var e,
                    t = this.context
                  e = this.loader = new XMLHttpRequest()
                  var r = this.stats
                  ;(r.tfirst = 0), (r.loaded = 0)
                  var i = this.xhrSetup
                  try {
                    if (i)
                      try {
                        i(e, t.url)
                      } catch (r) {
                        e.open('GET', t.url, !0), i(e, t.url)
                      }
                    e.readyState || e.open('GET', t.url, !0)
                  } catch (r) {
                    return void this.callbacks.onError(
                      { code: e.status, text: r.message },
                      t,
                      e
                    )
                  }
                  t.rangeEnd &&
                    e.setRequestHeader(
                      'Range',
                      'bytes=' + t.rangeStart + '-' + (t.rangeEnd - 1)
                    ),
                    (e.onreadystatechange =
                      this.readystatechange.bind(this)),
                    (e.onprogress = this.loadprogress.bind(this)),
                    (e.responseType = t.responseType),
                    (this.requestTimeout = window.setTimeout(
                      this.loadtimeout.bind(this),
                      this.config.timeout
                    )),
                    e.send()
                }),
                (e.prototype.readystatechange = function (e) {
                  var t = e.currentTarget,
                    r = t.readyState,
                    i = this.stats,
                    n = this.context,
                    a = this.config
                  if (!i.aborted && r >= 2)
                    if (
                      (window.clearTimeout(this.requestTimeout),
                      0 === i.tfirst &&
                        (i.tfirst = Math.max(
                          performance.now(),
                          i.trequest
                        )),
                      4 === r)
                    ) {
                      var o = t.status
                      if (o >= 200 && o < 300) {
                        i.tload = Math.max(i.tfirst, performance.now())
                        var s = void 0,
                          u = void 0
                        'arraybuffer' === n.responseType
                          ? ((s = t.response), (u = s.byteLength))
                          : ((s = t.responseText), (u = s.length)),
                          (i.loaded = i.total = u)
                        var l = { url: t.responseURL, data: s }
                        this.callbacks.onSuccess(l, i, n, t)
                      } else
                        i.retry >= a.maxRetry || (o >= 400 && o < 499)
                          ? (Ie.b.error(o + ' while loading ' + n.url),
                            this.callbacks.onError(
                              { code: o, text: t.statusText },
                              n,
                              t
                            ))
                          : (Ie.b.warn(
                              o +
                                ' while loading ' +
                                n.url +
                                ', retrying in ' +
                                this.retryDelay +
                                '...'
                            ),
                            this.destroy(),
                            (this.retryTimeout = window.setTimeout(
                              this.loadInternal.bind(this),
                              this.retryDelay
                            )),
                            (this.retryDelay = Math.min(
                              2 * this.retryDelay,
                              a.maxRetryDelay
                            )),
                            i.retry++)
                    } else
                      this.requestTimeout = window.setTimeout(
                        this.loadtimeout.bind(this),
                        a.timeout
                      )
                }),
                (e.prototype.loadtimeout = function () {
                  Ie.b.warn('timeout while loading ' + this.context.url),
                    this.callbacks.onTimeout(
                      this.stats,
                      this.context,
                      null
                    )
                }),
                (e.prototype.loadprogress = function (e) {
                  var t = e.currentTarget,
                    r = this.stats
                  ;(r.loaded = e.loaded),
                    e.lengthComputable && (r.total = e.total)
                  var i = this.callbacks.onProgress
                  i && i(r, this.context, null, t)
                }),
                e
              )
            })(),
            Gt = jt,
            Ht = (function () {
              function e(e, t) {
                for (var r = 0; r < t.length; r++) {
                  var i = t[r]
                  ;(i.enumerable = i.enumerable || !1),
                    (i.configurable = !0),
                    'value' in i && (i.writable = !0),
                    Object.defineProperty(e, i.key, i)
                }
              }
              return function (t, r, i) {
                return r && e(t.prototype, r), i && e(t, i), t
              }
            })(),
            qt = (function (e) {
              function t(r) {
                Z(this, t)
                var i = ee(
                  this,
                  e.call(
                    this,
                    r,
                    Pe.a.MANIFEST_LOADING,
                    Pe.a.MANIFEST_PARSED,
                    Pe.a.AUDIO_TRACK_LOADED,
                    Pe.a.ERROR
                  )
                )
                return (i.ticks = 0), (i.ontick = i.tick.bind(i)), i
              }
              return (
                te(t, e),
                (t.prototype.destroy = function () {
                  this.cleanTimer(), Ne.prototype.destroy.call(this)
                }),
                (t.prototype.cleanTimer = function () {
                  this.timer &&
                    (clearTimeout(this.timer), (this.timer = null))
                }),
                (t.prototype.tick = function () {
                  1 === ++this.ticks &&
                    (this.doTick(),
                    this.ticks > 1 && setTimeout(this.tick, 1),
                    (this.ticks = 0))
                }),
                (t.prototype.doTick = function () {
                  this.updateTrack(this.trackId)
                }),
                (t.prototype.onError = function (e) {
                  e.fatal &&
                    e.type === xe.b.NETWORK_ERROR &&
                    this.cleanTimer()
                }),
                (t.prototype.onManifestLoading = function () {
                  ;(this.tracks = []), (this.trackId = -1)
                }),
                (t.prototype.onManifestParsed = function (e) {
                  var t = this,
                    r = e.audioTracks || [],
                    i = !1
                  ;(this.tracks = r),
                    this.hls.trigger(Pe.a.AUDIO_TRACKS_UPDATED, {
                      audioTracks: r,
                    })
                  var n = 0
                  r.forEach(function (e) {
                    if (e.default && !i)
                      return (t.audioTrack = n), void (i = !0)
                    n++
                  }),
                    !1 === i &&
                      r.length &&
                      (Ie.b.log(
                        'no default audio track defined, use first audio track as default'
                      ),
                      (this.audioTrack = 0))
                }),
                (t.prototype.onAudioTrackLoaded = function (e) {
                  e.id < this.tracks.length &&
                    (Ie.b.log('audioTrack ' + e.id + ' loaded'),
                    (this.tracks[e.id].details = e.details),
                    e.details.live &&
                      !this.timer &&
                      (this.timer = setInterval(
                        this.ontick,
                        1e3 * e.details.targetduration
                      )),
                    !e.details.live && this.timer && this.cleanTimer())
                }),
                (t.prototype.setAudioTrackInternal = function (e) {
                  if (e >= 0 && e < this.tracks.length) {
                    this.cleanTimer(),
                      (this.trackId = e),
                      Ie.b.log('switching to audioTrack ' + e)
                    var t = this.tracks[e],
                      r = this.hls,
                      i = t.type,
                      n = t.url,
                      a = { id: e, type: i, url: n }
                    r.trigger(Pe.a.AUDIO_TRACK_SWITCH, a),
                      r.trigger(Pe.a.AUDIO_TRACK_SWITCHING, a)
                    var o = t.details
                    !n ||
                      (void 0 !== o && !0 !== o.live) ||
                      (Ie.b.log(
                        '(re)loading playlist for audioTrack ' + e
                      ),
                      r.trigger(Pe.a.AUDIO_TRACK_LOADING, {
                        url: n,
                        id: e,
                      }))
                  }
                }),
                (t.prototype.updateTrack = function (e) {
                  if (e >= 0 && e < this.tracks.length) {
                    this.cleanTimer(),
                      (this.trackId = e),
                      Ie.b.log('updating audioTrack ' + e)
                    var t = this.tracks[e],
                      r = t.url,
                      i = t.details
                    !r ||
                      (void 0 !== i && !0 !== i.live) ||
                      (Ie.b.log(
                        '(re)loading playlist for audioTrack ' + e
                      ),
                      this.hls.trigger(Pe.a.AUDIO_TRACK_LOADING, {
                        url: r,
                        id: e,
                      }))
                  }
                }),
                Ht(t, [
                  {
                    key: 'audioTracks',
                    get: function () {
                      return this.tracks
                    },
                  },
                  {
                    key: 'audioTrack',
                    get: function () {
                      return this.trackId
                    },
                    set: function (e) {
                      ;(this.trackId === e &&
                        void 0 !== this.tracks[e].details) ||
                        this.setAudioTrackInternal(e)
                    },
                  },
                ]),
                t
              )
            })(Ne),
            Vt = qt,
            Kt = (function () {
              function e(e, t) {
                for (var r = 0; r < t.length; r++) {
                  var i = t[r]
                  ;(i.enumerable = i.enumerable || !1),
                    (i.configurable = !0),
                    'value' in i && (i.writable = !0),
                    Object.defineProperty(e, i.key, i)
                }
              }
              return function (t, r, i) {
                return r && e(t.prototype, r), i && e(t, i), t
              }
            })(),
            zt = {
              STOPPED: 'STOPPED',
              STARTING: 'STARTING',
              IDLE: 'IDLE',
              PAUSED: 'PAUSED',
              KEY_LOADING: 'KEY_LOADING',
              FRAG_LOADING: 'FRAG_LOADING',
              FRAG_LOADING_WAITING_RETRY: 'FRAG_LOADING_WAITING_RETRY',
              WAITING_TRACK: 'WAITING_TRACK',
              PARSING: 'PARSING',
              PARSED: 'PARSED',
              BUFFER_FLUSHING: 'BUFFER_FLUSHING',
              ENDED: 'ENDED',
              ERROR: 'ERROR',
              WAITING_INIT_PTS: 'WAITING_INIT_PTS',
            },
            Wt = (function (e) {
              function t(r) {
                re(this, t)
                var i = ie(
                  this,
                  e.call(
                    this,
                    r,
                    Pe.a.MEDIA_ATTACHED,
                    Pe.a.MEDIA_DETACHING,
                    Pe.a.AUDIO_TRACKS_UPDATED,
                    Pe.a.AUDIO_TRACK_SWITCHING,
                    Pe.a.AUDIO_TRACK_LOADED,
                    Pe.a.KEY_LOADED,
                    Pe.a.FRAG_LOADED,
                    Pe.a.FRAG_PARSING_INIT_SEGMENT,
                    Pe.a.FRAG_PARSING_DATA,
                    Pe.a.FRAG_PARSED,
                    Pe.a.ERROR,
                    Pe.a.BUFFER_RESET,
                    Pe.a.BUFFER_CREATED,
                    Pe.a.BUFFER_APPENDED,
                    Pe.a.BUFFER_FLUSHED,
                    Pe.a.INIT_PTS_FOUND
                  )
                )
                return (
                  (i.config = r.config),
                  (i.audioCodecSwap = !1),
                  (i.ticks = 0),
                  (i._state = zt.STOPPED),
                  (i.ontick = i.tick.bind(i)),
                  (i.initPTS = []),
                  (i.waitingFragment = null),
                  (i.videoTrackCC = null),
                  i
                )
              }
              return (
                ne(t, e),
                (t.prototype.destroy = function () {
                  this.stopLoad(),
                    this.timer &&
                      (clearInterval(this.timer), (this.timer = null)),
                    Ne.prototype.destroy.call(this),
                    (this.state = zt.STOPPED)
                }),
                (t.prototype.onInitPtsFound = function (e) {
                  var t = e.id,
                    r = e.frag.cc,
                    i = e.initPTS
                  'main' === t &&
                    ((this.initPTS[r] = i),
                    (this.videoTrackCC = r),
                    Ie.b.log(
                      'InitPTS for cc:' +
                        r +
                        ' found from video track:' +
                        i
                    ),
                    this.state === zt.WAITING_INIT_PTS && this.tick())
                }),
                (t.prototype.startLoad = function (e) {
                  if (this.tracks) {
                    var t = this.lastCurrentTime
                    this.stopLoad(),
                      this.timer ||
                        (this.timer = setInterval(this.ontick, 100)),
                      (this.fragLoadError = 0),
                      t > 0 && -1 === e
                        ? (Ie.b.log(
                            'audio:override startPosition with lastCurrentTime @' +
                              t.toFixed(3)
                          ),
                          (this.state = zt.IDLE))
                        : ((this.lastCurrentTime = this.startPosition
                            ? this.startPosition
                            : e),
                          (this.state = zt.STARTING)),
                      (this.nextLoadPosition = this.startPosition =
                        this.lastCurrentTime),
                      this.tick()
                  } else
                    (this.startPosition = e), (this.state = zt.STOPPED)
                }),
                (t.prototype.stopLoad = function () {
                  var e = this.fragCurrent
                  e &&
                    (e.loader && e.loader.abort(),
                    (this.fragCurrent = null)),
                    (this.fragPrevious = null),
                    this.demuxer &&
                      (this.demuxer.destroy(), (this.demuxer = null)),
                    (this.state = zt.STOPPED)
                }),
                (t.prototype.tick = function () {
                  1 === ++this.ticks &&
                    (this.doTick(),
                    this.ticks > 1 && setTimeout(this.tick, 1),
                    (this.ticks = 0))
                }),
                (t.prototype.doTick = function () {
                  var e,
                    t,
                    r,
                    i = this.hls,
                    n = i.config
                  switch (this.state) {
                    case zt.ERROR:
                    case zt.PAUSED:
                    case zt.BUFFER_FLUSHING:
                      break
                    case zt.STARTING:
                      ;(this.state = zt.WAITING_TRACK),
                        (this.loadedmetadata = !1)
                      break
                    case zt.IDLE:
                      var a = this.tracks
                      if (!a) break
                      if (
                        !this.media &&
                        (this.startFragRequested || !n.startFragPrefetch)
                      )
                        break
                      if (this.loadedmetadata) e = this.media.currentTime
                      else if (void 0 === (e = this.nextLoadPosition))
                        break
                      var o = this.mediaBuffer
                          ? this.mediaBuffer
                          : this.media,
                        s = this.videoBuffer
                          ? this.videoBuffer
                          : this.media,
                        u = nt.bufferInfo(o, e, n.maxBufferHole),
                        l = nt.bufferInfo(s, e, n.maxBufferHole),
                        c = u.len,
                        d = u.end,
                        f = this.fragPrevious,
                        h = Math.max(n.maxBufferLength, l.len),
                        p = this.audioSwitch,
                        v = this.trackId
                      if ((c < h || p) && v < a.length) {
                        if (void 0 === (r = a[v].details)) {
                          this.state = zt.WAITING_TRACK
                          break
                        }
                        if (
                          !p &&
                          !r.live &&
                          f &&
                          f.sn === r.endSN &&
                          !u.nextStart &&
                          (!this.media.seeking ||
                            this.media.duration - d < f.duration / 2)
                        ) {
                          this.hls.trigger(Pe.a.BUFFER_EOS, {
                            type: 'audio',
                          }),
                            (this.state = zt.ENDED)
                          break
                        }
                        var g = r.fragments,
                          y = g.length,
                          m = g[0].start,
                          _ = g[y - 1].start + g[y - 1].duration,
                          b = void 0
                        if (p)
                          if (r.live && !r.PTSKnown)
                            Ie.b.log(
                              'switching audiotrack, live stream, unknown PTS,load first fragment'
                            ),
                              (d = 0)
                          else if (((d = e), r.PTSKnown && e < m)) {
                            if (!(u.end > m || u.nextStart)) return
                            Ie.b.log(
                              'alt audio track ahead of main track, seek to start of alt audio track'
                            ),
                              (this.media.currentTime = m + 0.05)
                          }
                        if (r.initSegment && !r.initSegment.data)
                          b = r.initSegment
                        else if (d <= m) {
                          if (
                            ((b = g[0]),
                            null !== this.videoTrackCC &&
                              b.cc !== this.videoTrackCC &&
                              (b = T(g, this.videoTrackCC)),
                            r.live &&
                              b.loadIdx &&
                              b.loadIdx === this.fragLoadIdx)
                          ) {
                            var E = u.nextStart ? u.nextStart : m
                            return (
                              Ie.b.log(
                                'no alt audio available @currentTime:' +
                                  this.media.currentTime +
                                  ', seeking @' +
                                  (E + 0.05)
                              ),
                              void (this.media.currentTime = E + 0.05)
                            )
                          }
                        } else {
                          var w = void 0,
                            S = n.maxFragLookUpTolerance,
                            A = f ? g[f.sn - g[0].sn + 1] : void 0,
                            R = function (e) {
                              var t = Math.min(S, e.duration)
                              return e.start + e.duration - t <= d
                                ? 1
                                : e.start - t > d && e.start
                                ? -1
                                : 0
                            }
                          d < _
                            ? (d > _ - S && (S = 0),
                              (w = A && !R(A) ? A : rt.search(g, R)))
                            : (w = g[y - 1]),
                            w &&
                              ((b = w),
                              (m = w.start),
                              f &&
                                b.level === f.level &&
                                b.sn === f.sn &&
                                (b.sn < r.endSN
                                  ? ((b = g[b.sn + 1 - r.startSN]),
                                    Ie.b.log(
                                      'SN just loaded, load next one: ' +
                                        b.sn
                                    ))
                                  : (b = null)))
                        }
                        if (b)
                          if (
                            b.decryptdata &&
                            null != b.decryptdata.uri &&
                            null == b.decryptdata.key
                          )
                            Ie.b.log(
                              'Loading key for ' +
                                b.sn +
                                ' of [' +
                                r.startSN +
                                ' ,' +
                                r.endSN +
                                '],track ' +
                                v
                            ),
                              (this.state = zt.KEY_LOADING),
                              i.trigger(Pe.a.KEY_LOADING, { frag: b })
                          else {
                            if (
                              (Ie.b.log(
                                'Loading ' +
                                  b.sn +
                                  ', cc: ' +
                                  b.cc +
                                  ' of [' +
                                  r.startSN +
                                  ' ,' +
                                  r.endSN +
                                  '],track ' +
                                  v +
                                  ', currentTime:' +
                                  e +
                                  ',bufferEnd:' +
                                  d.toFixed(3)
                              ),
                              void 0 !== this.fragLoadIdx
                                ? this.fragLoadIdx++
                                : (this.fragLoadIdx = 0),
                              b.loadCounter)
                            ) {
                              b.loadCounter++
                              var k = n.fragLoadingLoopThreshold
                              if (
                                b.loadCounter > k &&
                                Math.abs(this.fragLoadIdx - b.loadIdx) < k
                              )
                                return void i.trigger(Pe.a.ERROR, {
                                  type: xe.b.MEDIA_ERROR,
                                  details: xe.a.FRAG_LOOP_LOADING_ERROR,
                                  fatal: !1,
                                  frag: b,
                                })
                            } else b.loadCounter = 1
                            ;(b.loadIdx = this.fragLoadIdx),
                              (this.fragCurrent = b),
                              (this.startFragRequested = !0),
                              isNaN(b.sn) ||
                                (this.nextLoadPosition =
                                  b.start + b.duration),
                              i.trigger(Pe.a.FRAG_LOADING, { frag: b }),
                              (this.state = zt.FRAG_LOADING)
                          }
                      }
                      break
                    case zt.WAITING_TRACK:
                      ;(t = this.tracks[this.trackId]),
                        t && t.details && (this.state = zt.IDLE)
                      break
                    case zt.FRAG_LOADING_WAITING_RETRY:
                      var D = performance.now(),
                        O = this.retryDate
                      o = this.media
                      var L = o && o.seeking
                      ;(!O || D >= O || L) &&
                        (Ie.b.log(
                          'audioStreamController: retryDate reached, switch back to IDLE state'
                        ),
                        (this.state = zt.IDLE))
                      break
                    case zt.WAITING_INIT_PTS:
                      var P = this.videoTrackCC
                      if (void 0 === this.initPTS[P]) break
                      var x = this.waitingFragment
                      if (x) {
                        var I = x.frag.cc
                        P !== I
                          ? ((t = this.tracks[this.trackId]),
                            t.details &&
                              t.details.live &&
                              (Ie.b.warn(
                                'Waiting fragment CC (' +
                                  I +
                                  ') does not match video track CC (' +
                                  P +
                                  ')'
                              ),
                              (this.waitingFragment = null),
                              (this.state = zt.IDLE)))
                          : ((this.state = zt.FRAG_LOADING),
                            this.onFragLoaded(this.waitingFragment),
                            (this.waitingFragment = null))
                      } else this.state = zt.IDLE
                      break
                    case zt.STOPPED:
                    case zt.FRAG_LOADING:
                    case zt.PARSING:
                    case zt.PARSED:
                    case zt.ENDED:
                  }
                }),
                (t.prototype.onMediaAttached = function (e) {
                  var t = (this.media = this.mediaBuffer = e.media)
                  ;(this.onvseeking = this.onMediaSeeking.bind(this)),
                    (this.onvended = this.onMediaEnded.bind(this)),
                    t.addEventListener('seeking', this.onvseeking),
                    t.addEventListener('ended', this.onvended)
                  var r = this.config
                  this.tracks &&
                    r.autoStartLoad &&
                    this.startLoad(r.startPosition)
                }),
                (t.prototype.onMediaDetaching = function () {
                  var e = this.media
                  e &&
                    e.ended &&
                    (Ie.b.log(
                      'MSE detaching and video ended, reset startPosition'
                    ),
                    (this.startPosition = this.lastCurrentTime = 0))
                  var t = this.tracks
                  t &&
                    t.forEach(function (e) {
                      e.details &&
                        e.details.fragments.forEach(function (e) {
                          e.loadCounter = void 0
                        })
                    }),
                    e &&
                      (e.removeEventListener('seeking', this.onvseeking),
                      e.removeEventListener('ended', this.onvended),
                      (this.onvseeking =
                        this.onvseeked =
                        this.onvended =
                          null)),
                    (this.media =
                      this.mediaBuffer =
                      this.videoBuffer =
                        null),
                    (this.loadedmetadata = !1),
                    this.stopLoad()
                }),
                (t.prototype.onMediaSeeking = function () {
                  this.state === zt.ENDED && (this.state = zt.IDLE),
                    this.media &&
                      (this.lastCurrentTime = this.media.currentTime),
                    void 0 !== this.fragLoadIdx &&
                      (this.fragLoadIdx +=
                        2 * this.config.fragLoadingLoopThreshold),
                    this.tick()
                }),
                (t.prototype.onMediaEnded = function () {
                  this.startPosition = this.lastCurrentTime = 0
                }),
                (t.prototype.onAudioTracksUpdated = function (e) {
                  Ie.b.log('audio tracks updated'),
                    (this.tracks = e.audioTracks)
                }),
                (t.prototype.onAudioTrackSwitching = function (e) {
                  var t = !!e.url
                  ;(this.trackId = e.id),
                    (this.fragCurrent = null),
                    (this.state = zt.PAUSED),
                    (this.waitingFragment = null),
                    t
                      ? this.timer ||
                        (this.timer = setInterval(this.ontick, 100))
                      : this.demuxer &&
                        (this.demuxer.destroy(), (this.demuxer = null)),
                    t &&
                      ((this.audioSwitch = !0),
                      (this.state = zt.IDLE),
                      void 0 !== this.fragLoadIdx &&
                        (this.fragLoadIdx +=
                          2 * this.config.fragLoadingLoopThreshold)),
                    this.tick()
                }),
                (t.prototype.onAudioTrackLoaded = function (e) {
                  var t = e.details,
                    r = e.id,
                    i = this.tracks[r],
                    n = t.totalduration,
                    a = 0
                  if (
                    (Ie.b.log(
                      'track ' +
                        r +
                        ' loaded [' +
                        t.startSN +
                        ',' +
                        t.endSN +
                        '],duration:' +
                        n
                    ),
                    t.live)
                  ) {
                    var o = i.details
                    o && t.fragments.length > 0
                      ? (E(o, t),
                        (a = t.fragments[0].start),
                        t.PTSKnown
                          ? Ie.b.log(
                              'live audio playlist sliding:' + a.toFixed(3)
                            )
                          : Ie.b.log(
                              'live audio playlist - outdated PTS, unknown sliding'
                            ))
                      : ((t.PTSKnown = !1),
                        Ie.b.log(
                          'live audio playlist - first load, unknown sliding'
                        ))
                  } else t.PTSKnown = !1
                  if (((i.details = t), !this.startFragRequested)) {
                    if (-1 === this.startPosition) {
                      var s = t.startTimeOffset
                      isNaN(s)
                        ? (this.startPosition = 0)
                        : (Ie.b.log(
                            'start time offset found in playlist, adjust startPosition to ' +
                              s
                          ),
                          (this.startPosition = s))
                    }
                    this.nextLoadPosition = this.startPosition
                  }
                  this.state === zt.WAITING_TRACK &&
                    (this.state = zt.IDLE),
                    this.tick()
                }),
                (t.prototype.onKeyLoaded = function () {
                  this.state === zt.KEY_LOADING &&
                    ((this.state = zt.IDLE), this.tick())
                }),
                (t.prototype.onFragLoaded = function (e) {
                  var t = this.fragCurrent,
                    r = e.frag
                  if (
                    this.state === zt.FRAG_LOADING &&
                    t &&
                    'audio' === r.type &&
                    r.level === t.level &&
                    r.sn === t.sn
                  ) {
                    var i = this.tracks[this.trackId],
                      n = i.details,
                      a = n.totalduration,
                      o = t.level,
                      s = t.sn,
                      u = t.cc,
                      l =
                        this.config.defaultAudioCodec ||
                        i.audioCodec ||
                        'mp4a.40.2',
                      c = (this.stats = e.stats)
                    if ('initSegment' === s)
                      (this.state = zt.IDLE),
                        (c.tparsed = c.tbuffered = performance.now()),
                        (n.initSegment.data = e.payload),
                        this.hls.trigger(Pe.a.FRAG_BUFFERED, {
                          stats: c,
                          frag: t,
                          id: 'audio',
                        }),
                        this.tick()
                    else {
                      ;(this.state = zt.PARSING),
                        (this.appended = !1),
                        this.demuxer ||
                          (this.demuxer = new ft(this.hls, 'audio'))
                      var d = this.initPTS[u],
                        f = n.initSegment ? n.initSegment.data : []
                      if (n.initSegment || void 0 !== d) {
                        ;(this.pendingBuffering = !0),
                          Ie.b.log(
                            'Demuxing ' +
                              s +
                              ' of [' +
                              n.startSN +
                              ' ,' +
                              n.endSN +
                              '],track ' +
                              o
                          )
                        this.demuxer.push(
                          e.payload,
                          f,
                          l,
                          null,
                          t,
                          a,
                          !1,
                          d
                        )
                      } else
                        Ie.b.log(
                          'unknown video PTS for continuity counter ' +
                            u +
                            ', waiting for video PTS before demuxing audio frag ' +
                            s +
                            ' of [' +
                            n.startSN +
                            ' ,' +
                            n.endSN +
                            '],track ' +
                            o
                        ),
                          (this.waitingFragment = e),
                          (this.state = zt.WAITING_INIT_PTS)
                    }
                  }
                  this.fragLoadError = 0
                }),
                (t.prototype.onFragParsingInitSegment = function (e) {
                  var t = this.fragCurrent,
                    r = e.frag
                  if (
                    t &&
                    'audio' === e.id &&
                    r.sn === t.sn &&
                    r.level === t.level &&
                    this.state === zt.PARSING
                  ) {
                    var i = e.tracks,
                      n = void 0
                    if ((i.video && delete i.video, (n = i.audio))) {
                      ;(n.levelCodec = n.codec),
                        (n.id = e.id),
                        this.hls.trigger(Pe.a.BUFFER_CODECS, i),
                        Ie.b.log(
                          'audio track:audio,container:' +
                            n.container +
                            ',codecs[level/parsed]=[' +
                            n.levelCodec +
                            '/' +
                            n.codec +
                            ']'
                        )
                      var a = n.initSegment
                      if (a) {
                        var o = {
                          type: 'audio',
                          data: a,
                          parent: 'audio',
                          content: 'initSegment',
                        }
                        this.audioSwitch
                          ? (this.pendingData = [o])
                          : ((this.appended = !0),
                            (this.pendingBuffering = !0),
                            this.hls.trigger(Pe.a.BUFFER_APPENDING, o))
                      }
                      this.tick()
                    }
                  }
                }),
                (t.prototype.onFragParsingData = function (e) {
                  var t = this,
                    r = this.fragCurrent,
                    i = e.frag
                  if (
                    r &&
                    'audio' === e.id &&
                    'audio' === e.type &&
                    i.sn === r.sn &&
                    i.level === r.level &&
                    this.state === zt.PARSING
                  ) {
                    var n = this.trackId,
                      a = this.tracks[n],
                      o = this.hls
                    isNaN(e.endPTS) &&
                      ((e.endPTS = e.startPTS + r.duration),
                      (e.endDTS = e.startDTS + r.duration)),
                      Ie.b.log(
                        'parsed ' +
                          e.type +
                          ',PTS:[' +
                          e.startPTS.toFixed(3) +
                          ',' +
                          e.endPTS.toFixed(3) +
                          '],DTS:[' +
                          e.startDTS.toFixed(3) +
                          '/' +
                          e.endDTS.toFixed(3) +
                          '],nb:' +
                          e.nb
                      ),
                      b(a.details, r, e.startPTS, e.endPTS)
                    var s = this.audioSwitch,
                      u = this.media,
                      l = !1
                    if (s && u)
                      if (u.readyState) {
                        var c = u.currentTime
                        Ie.b.log(
                          'switching audio track : currentTime:' + c
                        ),
                          c >= e.startPTS &&
                            (Ie.b.log(
                              'switching audio track : flushing all audio'
                            ),
                            (this.state = zt.BUFFER_FLUSHING),
                            o.trigger(Pe.a.BUFFER_FLUSHING, {
                              startOffset: 0,
                              endOffset: Number.POSITIVE_INFINITY,
                              type: 'audio',
                            }),
                            (l = !0),
                            (this.audioSwitch = !1),
                            o.trigger(Pe.a.AUDIO_TRACK_SWITCHED, {
                              id: n,
                            }))
                      } else
                        (this.audioSwitch = !1),
                          o.trigger(Pe.a.AUDIO_TRACK_SWITCHED, { id: n })
                    var d = this.pendingData
                    this.audioSwitch ||
                      ([e.data1, e.data2].forEach(function (t) {
                        t &&
                          t.length &&
                          d.push({
                            type: e.type,
                            data: t,
                            parent: 'audio',
                            content: 'data',
                          })
                      }),
                      !l &&
                        d.length &&
                        (d.forEach(function (e) {
                          t.state === zt.PARSING &&
                            ((t.pendingBuffering = !0),
                            t.hls.trigger(Pe.a.BUFFER_APPENDING, e))
                        }),
                        (this.pendingData = []),
                        (this.appended = !0))),
                      this.tick()
                  }
                }),
                (t.prototype.onFragParsed = function (e) {
                  var t = this.fragCurrent,
                    r = e.frag
                  t &&
                    'audio' === e.id &&
                    r.sn === t.sn &&
                    r.level === t.level &&
                    this.state === zt.PARSING &&
                    ((this.stats.tparsed = performance.now()),
                    (this.state = zt.PARSED),
                    this._checkAppendedParsed())
                }),
                (t.prototype.onBufferReset = function () {
                  ;(this.mediaBuffer = this.videoBuffer = null),
                    (this.loadedmetadata = !1)
                }),
                (t.prototype.onBufferCreated = function (e) {
                  var t = e.tracks.audio
                  t &&
                    ((this.mediaBuffer = t.buffer),
                    (this.loadedmetadata = !0)),
                    e.tracks.video &&
                      (this.videoBuffer = e.tracks.video.buffer)
                }),
                (t.prototype.onBufferAppended = function (e) {
                  if ('audio' === e.parent) {
                    var t = this.state
                    ;(t !== zt.PARSING && t !== zt.PARSED) ||
                      ((this.pendingBuffering = e.pending > 0),
                      this._checkAppendedParsed())
                  }
                }),
                (t.prototype._checkAppendedParsed = function () {
                  if (
                    !(
                      this.state !== zt.PARSED ||
                      (this.appended && this.pendingBuffering)
                    )
                  ) {
                    var e = this.fragCurrent,
                      t = this.stats,
                      r = this.hls
                    if (e) {
                      ;(this.fragPrevious = e),
                        (t.tbuffered = performance.now()),
                        r.trigger(Pe.a.FRAG_BUFFERED, {
                          stats: t,
                          frag: e,
                          id: 'audio',
                        })
                      var i = this.mediaBuffer
                        ? this.mediaBuffer
                        : this.media
                      Ie.b.log(
                        'audio buffered : ' + pt.toString(i.buffered)
                      ),
                        this.audioSwitch &&
                          this.appended &&
                          ((this.audioSwitch = !1),
                          r.trigger(Pe.a.AUDIO_TRACK_SWITCHED, {
                            id: this.trackId,
                          })),
                        (this.state = zt.IDLE)
                    }
                    this.tick()
                  }
                }),
                (t.prototype.onError = function (e) {
                  var t = e.frag
                  if (!t || 'audio' === t.type)
                    switch (e.details) {
                      case xe.a.FRAG_LOAD_ERROR:
                      case xe.a.FRAG_LOAD_TIMEOUT:
                        if (!e.fatal) {
                          var r = this.fragLoadError
                          r ? r++ : (r = 1)
                          var i = this.config
                          if (r <= i.fragLoadingMaxRetry) {
                            ;(this.fragLoadError = r), (t.loadCounter = 0)
                            var n = Math.min(
                              Math.pow(2, r - 1) * i.fragLoadingRetryDelay,
                              i.fragLoadingMaxRetryTimeout
                            )
                            Ie.b.warn(
                              'audioStreamController: frag loading failed, retry in ' +
                                n +
                                ' ms'
                            ),
                              (this.retryDate = performance.now() + n),
                              (this.state = zt.FRAG_LOADING_WAITING_RETRY)
                          } else
                            Ie.b.error(
                              'audioStreamController: ' +
                                e.details +
                                ' reaches max retry, redispatch as fatal ...'
                            ),
                              (e.fatal = !0),
                              (this.state = zt.ERROR)
                        }
                        break
                      case xe.a.FRAG_LOOP_LOADING_ERROR:
                      case xe.a.AUDIO_TRACK_LOAD_ERROR:
                      case xe.a.AUDIO_TRACK_LOAD_TIMEOUT:
                      case xe.a.KEY_LOAD_ERROR:
                      case xe.a.KEY_LOAD_TIMEOUT:
                        this.state !== zt.ERROR &&
                          ((this.state = e.fatal ? zt.ERROR : zt.IDLE),
                          Ie.b.warn(
                            'audioStreamController: ' +
                              e.details +
                              ' while loading frag,switch to ' +
                              this.state +
                              ' state ...'
                          ))
                        break
                      case xe.a.BUFFER_FULL_ERROR:
                        if (
                          'audio' === e.parent &&
                          (this.state === zt.PARSING ||
                            this.state === zt.PARSED)
                        ) {
                          var a = this.mediaBuffer,
                            o = this.media.currentTime
                          if (
                            a &&
                            nt.isBuffered(a, o) &&
                            nt.isBuffered(a, o + 0.5)
                          ) {
                            var s = this.config
                            s.maxMaxBufferLength >= s.maxBufferLength &&
                              ((s.maxMaxBufferLength /= 2),
                              Ie.b.warn(
                                'audio:reduce max buffer length to ' +
                                  s.maxMaxBufferLength +
                                  's'
                              ),
                              (this.fragLoadIdx +=
                                2 * s.fragLoadingLoopThreshold)),
                              (this.state = zt.IDLE)
                          } else
                            Ie.b.warn(
                              'buffer full error also media.currentTime is not buffered, flush audio buffer'
                            ),
                              (this.fragCurrent = null),
                              (this.state = zt.BUFFER_FLUSHING),
                              this.hls.trigger(Pe.a.BUFFER_FLUSHING, {
                                startOffset: 0,
                                endOffset: Number.POSITIVE_INFINITY,
                                type: 'audio',
                              })
                        }
                    }
                }),
                (t.prototype.onBufferFlushed = function () {
                  var e = this,
                    t = this.pendingData
                  t && t.length
                    ? (Ie.b.log(
                        'appending pending audio data on Buffer Flushed'
                      ),
                      t.forEach(function (t) {
                        e.hls.trigger(Pe.a.BUFFER_APPENDING, t)
                      }),
                      (this.appended = !0),
                      (this.pendingData = []),
                      (this.state = zt.PARSED))
                    : ((this.state = zt.IDLE),
                      (this.fragPrevious = null),
                      this.tick())
                }),
                Kt(t, [
                  {
                    key: 'state',
                    set: function (e) {
                      if (this.state !== e) {
                        var t = this.state
                        ;(this._state = e),
                          Ie.b.log('audio stream:' + t + '->' + e)
                      }
                    },
                    get: function () {
                      return this._state
                    },
                  },
                ]),
                t
              )
            })(Ne),
            Yt = Wt,
            Qt = (function () {
              function e(e) {
                return (
                  'string' == typeof e &&
                  !!a[e.toLowerCase()] &&
                  e.toLowerCase()
                )
              }
              function t(e) {
                return (
                  'string' == typeof e &&
                  !!o[e.toLowerCase()] &&
                  e.toLowerCase()
                )
              }
              function r(e) {
                for (var t = 1; t < arguments.length; t++) {
                  var r = arguments[t]
                  for (var i in r) e[i] = r[i]
                }
                return e
              }
              function i(i, a, o) {
                var s = this,
                  u = (function () {
                    if ('undefined' != typeof navigator)
                      return /MSIE\s8\.0/.test(navigator.userAgent)
                  })(),
                  l = {}
                u
                  ? (s = document.createElement('custom'))
                  : (l.enumerable = !0),
                  (s.hasBeenReset = !1)
                var c = '',
                  d = !1,
                  f = i,
                  h = a,
                  p = o,
                  v = null,
                  g = '',
                  y = !0,
                  m = 'auto',
                  _ = 'start',
                  b = 50,
                  E = 'middle',
                  w = 50,
                  T = 'middle'
                if (
                  (Object.defineProperty(
                    s,
                    'id',
                    r({}, l, {
                      get: function () {
                        return c
                      },
                      set: function (e) {
                        c = '' + e
                      },
                    })
                  ),
                  Object.defineProperty(
                    s,
                    'pauseOnExit',
                    r({}, l, {
                      get: function () {
                        return d
                      },
                      set: function (e) {
                        d = !!e
                      },
                    })
                  ),
                  Object.defineProperty(
                    s,
                    'startTime',
                    r({}, l, {
                      get: function () {
                        return f
                      },
                      set: function (e) {
                        if ('number' != typeof e)
                          throw new TypeError(
                            'Start time must be set to a number.'
                          )
                        ;(f = e), (this.hasBeenReset = !0)
                      },
                    })
                  ),
                  Object.defineProperty(
                    s,
                    'endTime',
                    r({}, l, {
                      get: function () {
                        return h
                      },
                      set: function (e) {
                        if ('number' != typeof e)
                          throw new TypeError(
                            'End time must be set to a number.'
                          )
                        ;(h = e), (this.hasBeenReset = !0)
                      },
                    })
                  ),
                  Object.defineProperty(
                    s,
                    'text',
                    r({}, l, {
                      get: function () {
                        return p
                      },
                      set: function (e) {
                        ;(p = '' + e), (this.hasBeenReset = !0)
                      },
                    })
                  ),
                  Object.defineProperty(
                    s,
                    'region',
                    r({}, l, {
                      get: function () {
                        return v
                      },
                      set: function (e) {
                        ;(v = e), (this.hasBeenReset = !0)
                      },
                    })
                  ),
                  Object.defineProperty(
                    s,
                    'vertical',
                    r({}, l, {
                      get: function () {
                        return g
                      },
                      set: function (t) {
                        var r = e(t)
                        if (!1 === r)
                          throw new SyntaxError(
                            'An invalid or illegal string was specified.'
                          )
                        ;(g = r), (this.hasBeenReset = !0)
                      },
                    })
                  ),
                  Object.defineProperty(
                    s,
                    'snapToLines',
                    r({}, l, {
                      get: function () {
                        return y
                      },
                      set: function (e) {
                        ;(y = !!e), (this.hasBeenReset = !0)
                      },
                    })
                  ),
                  Object.defineProperty(
                    s,
                    'line',
                    r({}, l, {
                      get: function () {
                        return m
                      },
                      set: function (e) {
                        if ('number' != typeof e && e !== n)
                          throw new SyntaxError(
                            'An invalid number or illegal string was specified.'
                          )
                        ;(m = e), (this.hasBeenReset = !0)
                      },
                    })
                  ),
                  Object.defineProperty(
                    s,
                    'lineAlign',
                    r({}, l, {
                      get: function () {
                        return _
                      },
                      set: function (e) {
                        var r = t(e)
                        if (!r)
                          throw new SyntaxError(
                            'An invalid or illegal string was specified.'
                          )
                        ;(_ = r), (this.hasBeenReset = !0)
                      },
                    })
                  ),
                  Object.defineProperty(
                    s,
                    'position',
                    r({}, l, {
                      get: function () {
                        return b
                      },
                      set: function (e) {
                        if (e < 0 || e > 100)
                          throw new Error(
                            'Position must be between 0 and 100.'
                          )
                        ;(b = e), (this.hasBeenReset = !0)
                      },
                    })
                  ),
                  Object.defineProperty(
                    s,
                    'positionAlign',
                    r({}, l, {
                      get: function () {
                        return E
                      },
                      set: function (e) {
                        var r = t(e)
                        if (!r)
                          throw new SyntaxError(
                            'An invalid or illegal string was specified.'
                          )
                        ;(E = r), (this.hasBeenReset = !0)
                      },
                    })
                  ),
                  Object.defineProperty(
                    s,
                    'size',
                    r({}, l, {
                      get: function () {
                        return w
                      },
                      set: function (e) {
                        if (e < 0 || e > 100)
                          throw new Error(
                            'Size must be between 0 and 100.'
                          )
                        ;(w = e), (this.hasBeenReset = !0)
                      },
                    })
                  ),
                  Object.defineProperty(
                    s,
                    'align',
                    r({}, l, {
                      get: function () {
                        return T
                      },
                      set: function (e) {
                        var r = t(e)
                        if (!r)
                          throw new SyntaxError(
                            'An invalid or illegal string was specified.'
                          )
                        ;(T = r), (this.hasBeenReset = !0)
                      },
                    })
                  ),
                  (s.displayState = void 0),
                  u)
                )
                  return s
              }
              if ('undefined' != typeof window && window.VTTCue)
                return window.VTTCue
              var n = 'auto',
                a = { '': !0, 'lr': !0, 'rl': !0 },
                o = { start: !0, middle: !0, end: !0, left: !0, right: !0 }
              return (
                (i.prototype.getCueAsHTML = function () {
                  return window.WebVTT.convertCueToDOMTree(
                    window,
                    this.text
                  )
                }),
                i
              )
            })(),
            Xt = function () {
              return {
                decode: function (e) {
                  if (!e) return ''
                  if ('string' != typeof e)
                    throw new Error('Error - expected string data.')
                  return decodeURIComponent(encodeURIComponent(e))
                },
              }
            }
          se.prototype = {
            set: function (e, t) {
              this.get(e) || '' === t || (this.values[e] = t)
            },
            get: function (e, t, r) {
              return r
                ? this.has(e)
                  ? this.values[e]
                  : t[r]
                : this.has(e)
                ? this.values[e]
                : t
            },
            has: function (e) {
              return e in this.values
            },
            alt: function (e, t, r) {
              for (var i = 0; i < r.length; ++i)
                if (t === r[i]) {
                  this.set(e, t)
                  break
                }
            },
            integer: function (e, t) {
              ;/^-?\d+$/.test(t) && this.set(e, parseInt(t, 10))
            },
            percent: function (e, t) {
              return (
                !!(
                  t.match(/^([\d]{1,3})(\.[\d]*)?%$/) &&
                  (t = parseFloat(t)) >= 0 &&
                  t <= 100
                ) && (this.set(e, t), !0)
              )
            },
          }
          var $t = new Qt(0, 0, 0),
            Jt = 'middle' === $t.align ? 'middle' : 'center'
          ae.prototype = {
            parse: function (e) {
              function t() {
                var e = r.buffer,
                  t = 0
                for (
                  e = ce(e);
                  t < e.length && '\r' !== e[t] && '\n' !== e[t];

                )
                  ++t
                var i = e.substr(0, t)
                return (
                  '\r' === e[t] && ++t,
                  '\n' === e[t] && ++t,
                  (r.buffer = e.substr(t)),
                  i
                )
              }
              var r = this
              e && (r.buffer += r.decoder.decode(e, { stream: !0 }))
              try {
                var i
                if ('INITIAL' === r.state) {
                  if (!/\r\n|\n/.test(r.buffer)) return this
                  i = t()
                  var n = i.match(/^(ï»¿)?WEBVTT([ \t].*)?$/)
                  if (!n || !n[0])
                    throw new Error('Malformed WebVTT signature.')
                  r.state = 'HEADER'
                }
                for (var a = !1; r.buffer; ) {
                  if (!/\r\n|\n/.test(r.buffer)) return this
                  switch ((a ? (a = !1) : (i = t()), r.state)) {
                    case 'HEADER':
                      ;/:/.test(i)
                        ? (function (e) {
                            ue(
                              e,
                              function (e, t) {
                                switch (e) {
                                  case 'Region':
                                    console.log('parse region', t)
                                }
                              },
                              /:/
                            )
                          })(i)
                        : i || (r.state = 'ID')
                      continue
                    case 'NOTE':
                      i || (r.state = 'ID')
                      continue
                    case 'ID':
                      if (/^NOTE($|[ \t])/.test(i)) {
                        r.state = 'NOTE'
                        break
                      }
                      if (!i) continue
                      if (
                        ((r.cue = new Qt(0, 0, '')),
                        (r.state = 'CUE'),
                        -1 === i.indexOf('--\x3e'))
                      ) {
                        r.cue.id = i
                        continue
                      }
                    case 'CUE':
                      try {
                        le(i, r.cue, r.regionList)
                      } catch (e) {
                        ;(r.cue = null), (r.state = 'BADCUE')
                        continue
                      }
                      r.state = 'CUETEXT'
                      continue
                    case 'CUETEXT':
                      var o = -1 !== i.indexOf('--\x3e')
                      if (!i || (o && (a = !0))) {
                        r.oncue && r.oncue(r.cue),
                          (r.cue = null),
                          (r.state = 'ID')
                        continue
                      }
                      r.cue.text && (r.cue.text += '\n'), (r.cue.text += i)
                      continue
                    case 'BADCUE':
                      i || (r.state = 'ID')
                      continue
                  }
                }
              } catch (e) {
                'CUETEXT' === r.state &&
                  r.cue &&
                  r.oncue &&
                  r.oncue(r.cue),
                  (r.cue = null),
                  (r.state =
                    'INITIAL' === r.state ? 'BADWEBVTT' : 'BADCUE')
              }
              return this
            },
            flush: function () {
              var e = this
              try {
                if (
                  ((e.buffer += e.decoder.decode()),
                  (e.cue || 'HEADER' === e.state) &&
                    ((e.buffer += '\n\n'), e.parse()),
                  'INITIAL' === e.state)
                )
                  throw new Error('Malformed WebVTT signature.')
              } catch (e) {
                throw e
              }
              return e.onflush && e.onflush(), this
            },
          }
          var Zt = ae,
            er = {
              42: 225,
              92: 233,
              94: 237,
              95: 243,
              96: 250,
              123: 231,
              124: 247,
              125: 209,
              126: 241,
              127: 9608,
              128: 174,
              129: 176,
              130: 189,
              131: 191,
              132: 8482,
              133: 162,
              134: 163,
              135: 9834,
              136: 224,
              137: 32,
              138: 232,
              139: 226,
              140: 234,
              141: 238,
              142: 244,
              143: 251,
              144: 193,
              145: 201,
              146: 211,
              147: 218,
              148: 220,
              149: 252,
              150: 8216,
              151: 161,
              152: 42,
              153: 8217,
              154: 9473,
              155: 169,
              156: 8480,
              157: 8226,
              158: 8220,
              159: 8221,
              160: 192,
              161: 194,
              162: 199,
              163: 200,
              164: 202,
              165: 203,
              166: 235,
              167: 206,
              168: 207,
              169: 239,
              170: 212,
              171: 217,
              172: 249,
              173: 219,
              174: 171,
              175: 187,
              176: 195,
              177: 227,
              178: 205,
              179: 204,
              180: 236,
              181: 210,
              182: 242,
              183: 213,
              184: 245,
              185: 123,
              186: 125,
              187: 92,
              188: 94,
              189: 95,
              190: 124,
              191: 8764,
              192: 196,
              193: 228,
              194: 214,
              195: 246,
              196: 223,
              197: 165,
              198: 164,
              199: 9475,
              200: 197,
              201: 229,
              202: 216,
              203: 248,
              204: 9487,
              205: 9491,
              206: 9495,
              207: 9499,
            },
            tr = function (e) {
              var t = e
              return (
                er.hasOwnProperty(e) && (t = er[e]), String.fromCharCode(t)
              )
            },
            rr = 15,
            ir = 100,
            nr = {
              17: 1,
              18: 3,
              21: 5,
              22: 7,
              23: 9,
              16: 11,
              19: 12,
              20: 14,
            },
            ar = { 17: 2, 18: 4, 21: 6, 22: 8, 23: 10, 19: 13, 20: 15 },
            or = {
              25: 1,
              26: 3,
              29: 5,
              30: 7,
              31: 9,
              24: 11,
              27: 12,
              28: 14,
            },
            sr = { 25: 2, 26: 4, 29: 6, 30: 8, 31: 10, 27: 13, 28: 15 },
            ur = [
              'white',
              'green',
              'blue',
              'cyan',
              'red',
              'yellow',
              'magenta',
              'black',
              'transparent',
            ],
            lr = {
              verboseFilter: {
                DATA: 3,
                DEBUG: 3,
                INFO: 2,
                WARNING: 2,
                TEXT: 1,
                ERROR: 0,
              },
              time: null,
              verboseLevel: 0,
              setTime: function (e) {
                this.time = e
              },
              log: function (e, t) {
                var r = this.verboseFilter[e]
                this.verboseLevel >= r &&
                  console.log(this.time + ' [' + e + '] ' + t)
              },
            },
            cr = function (e) {
              for (var t = [], r = 0; r < e.length; r++)
                t.push(e[r].toString(16))
              return t
            },
            dr = (function () {
              function e(t, r, i, n, a) {
                fe(this, e),
                  (this.foreground = t || 'white'),
                  (this.underline = r || !1),
                  (this.italics = i || !1),
                  (this.background = n || 'black'),
                  (this.flash = a || !1)
              }
              return (
                (e.prototype.reset = function () {
                  ;(this.foreground = 'white'),
                    (this.underline = !1),
                    (this.italics = !1),
                    (this.background = 'black'),
                    (this.flash = !1)
                }),
                (e.prototype.setStyles = function (e) {
                  for (
                    var t = [
                        'foreground',
                        'underline',
                        'italics',
                        'background',
                        'flash',
                      ],
                      r = 0;
                    r < t.length;
                    r++
                  ) {
                    var i = t[r]
                    e.hasOwnProperty(i) && (this[i] = e[i])
                  }
                }),
                (e.prototype.isDefault = function () {
                  return (
                    'white' === this.foreground &&
                    !this.underline &&
                    !this.italics &&
                    'black' === this.background &&
                    !this.flash
                  )
                }),
                (e.prototype.equals = function (e) {
                  return (
                    this.foreground === e.foreground &&
                    this.underline === e.underline &&
                    this.italics === e.italics &&
                    this.background === e.background &&
                    this.flash === e.flash
                  )
                }),
                (e.prototype.copy = function (e) {
                  ;(this.foreground = e.foreground),
                    (this.underline = e.underline),
                    (this.italics = e.italics),
                    (this.background = e.background),
                    (this.flash = e.flash)
                }),
                (e.prototype.toString = function () {
                  return (
                    'color=' +
                    this.foreground +
                    ', underline=' +
                    this.underline +
                    ', italics=' +
                    this.italics +
                    ', background=' +
                    this.background +
                    ', flash=' +
                    this.flash
                  )
                }),
                e
              )
            })(),
            fr = (function () {
              function e(t, r, i, n, a, o) {
                fe(this, e),
                  (this.uchar = t || ' '),
                  (this.penState = new dr(r, i, n, a, o))
              }
              return (
                (e.prototype.reset = function () {
                  ;(this.uchar = ' '), this.penState.reset()
                }),
                (e.prototype.setChar = function (e, t) {
                  ;(this.uchar = e), this.penState.copy(t)
                }),
                (e.prototype.setPenState = function (e) {
                  this.penState.copy(e)
                }),
                (e.prototype.equals = function (e) {
                  return (
                    this.uchar === e.uchar &&
                    this.penState.equals(e.penState)
                  )
                }),
                (e.prototype.copy = function (e) {
                  ;(this.uchar = e.uchar), this.penState.copy(e.penState)
                }),
                (e.prototype.isEmpty = function () {
                  return ' ' === this.uchar && this.penState.isDefault()
                }),
                e
              )
            })(),
            hr = (function () {
              function e() {
                fe(this, e), (this.chars = [])
                for (var t = 0; t < ir; t++) this.chars.push(new fr())
                ;(this.pos = 0), (this.currPenState = new dr())
              }
              return (
                (e.prototype.equals = function (e) {
                  for (var t = !0, r = 0; r < ir; r++)
                    if (!this.chars[r].equals(e.chars[r])) {
                      t = !1
                      break
                    }
                  return t
                }),
                (e.prototype.copy = function (e) {
                  for (var t = 0; t < ir; t++)
                    this.chars[t].copy(e.chars[t])
                }),
                (e.prototype.isEmpty = function () {
                  for (var e = !0, t = 0; t < ir; t++)
                    if (!this.chars[t].isEmpty()) {
                      e = !1
                      break
                    }
                  return e
                }),
                (e.prototype.setCursor = function (e) {
                  this.pos !== e && (this.pos = e),
                    this.pos < 0
                      ? (lr.log(
                          'ERROR',
                          'Negative cursor position ' + this.pos
                        ),
                        (this.pos = 0))
                      : this.pos > ir &&
                        (lr.log(
                          'ERROR',
                          'Too large cursor position ' + this.pos
                        ),
                        (this.pos = ir))
                }),
                (e.prototype.moveCursor = function (e) {
                  var t = this.pos + e
                  if (e > 1)
                    for (var r = this.pos + 1; r < t + 1; r++)
                      this.chars[r].setPenState(this.currPenState)
                  this.setCursor(t)
                }),
                (e.prototype.backSpace = function () {
                  this.moveCursor(-1),
                    this.chars[this.pos].setChar(' ', this.currPenState)
                }),
                (e.prototype.insertChar = function (e) {
                  e >= 144 && this.backSpace()
                  var t = tr(e)
                  if (this.pos >= ir)
                    return void lr.log(
                      'ERROR',
                      'Cannot insert ' +
                        e.toString(16) +
                        ' (' +
                        t +
                        ') at position ' +
                        this.pos +
                        '. Skipping it!'
                    )
                  this.chars[this.pos].setChar(t, this.currPenState),
                    this.moveCursor(1)
                }),
                (e.prototype.clearFromPos = function (e) {
                  var t
                  for (t = e; t < ir; t++) this.chars[t].reset()
                }),
                (e.prototype.clear = function () {
                  this.clearFromPos(0),
                    (this.pos = 0),
                    this.currPenState.reset()
                }),
                (e.prototype.clearToEndOfRow = function () {
                  this.clearFromPos(this.pos)
                }),
                (e.prototype.getTextString = function () {
                  for (var e = [], t = !0, r = 0; r < ir; r++) {
                    var i = this.chars[r].uchar
                    ' ' !== i && (t = !1), e.push(i)
                  }
                  return t ? '' : e.join('')
                }),
                (e.prototype.setPenStyles = function (e) {
                  this.currPenState.setStyles(e),
                    this.chars[this.pos].setPenState(this.currPenState)
                }),
                e
              )
            })(),
            pr = (function () {
              function e() {
                fe(this, e), (this.rows = [])
                for (var t = 0; t < rr; t++) this.rows.push(new hr())
                ;(this.currRow = rr - 1),
                  (this.nrRollUpRows = null),
                  this.reset()
              }
              return (
                (e.prototype.reset = function () {
                  for (var e = 0; e < rr; e++) this.rows[e].clear()
                  this.currRow = rr - 1
                }),
                (e.prototype.equals = function (e) {
                  for (var t = !0, r = 0; r < rr; r++)
                    if (!this.rows[r].equals(e.rows[r])) {
                      t = !1
                      break
                    }
                  return t
                }),
                (e.prototype.copy = function (e) {
                  for (var t = 0; t < rr; t++) this.rows[t].copy(e.rows[t])
                }),
                (e.prototype.isEmpty = function () {
                  for (var e = !0, t = 0; t < rr; t++)
                    if (!this.rows[t].isEmpty()) {
                      e = !1
                      break
                    }
                  return e
                }),
                (e.prototype.backSpace = function () {
                  this.rows[this.currRow].backSpace()
                }),
                (e.prototype.clearToEndOfRow = function () {
                  this.rows[this.currRow].clearToEndOfRow()
                }),
                (e.prototype.insertChar = function (e) {
                  this.rows[this.currRow].insertChar(e)
                }),
                (e.prototype.setPen = function (e) {
                  this.rows[this.currRow].setPenStyles(e)
                }),
                (e.prototype.moveCursor = function (e) {
                  this.rows[this.currRow].moveCursor(e)
                }),
                (e.prototype.setCursor = function (e) {
                  lr.log('INFO', 'setCursor: ' + e),
                    this.rows[this.currRow].setCursor(e)
                }),
                (e.prototype.setPAC = function (e) {
                  lr.log('INFO', 'pacData = ' + JSON.stringify(e))
                  var t = e.row - 1
                  if (
                    (this.nrRollUpRows &&
                      t < this.nrRollUpRows - 1 &&
                      (t = this.nrRollUpRows - 1),
                    this.nrRollUpRows && this.currRow !== t)
                  ) {
                    for (var r = 0; r < rr; r++) this.rows[r].clear()
                    var i = this.currRow + 1 - this.nrRollUpRows,
                      n = this.lastOutputScreen
                    if (n) {
                      var a = n.rows[i].cueStartTime
                      if (a && a < lr.time)
                        for (var o = 0; o < this.nrRollUpRows; o++)
                          this.rows[t - this.nrRollUpRows + o + 1].copy(
                            n.rows[i + o]
                          )
                    }
                  }
                  this.currRow = t
                  var s = this.rows[this.currRow]
                  if (null !== e.indent) {
                    var u = e.indent,
                      l = Math.max(u - 1, 0)
                    s.setCursor(e.indent),
                      (e.color = s.chars[l].penState.foreground)
                  }
                  var c = {
                    foreground: e.color,
                    underline: e.underline,
                    italics: e.italics,
                    background: 'black',
                    flash: !1,
                  }
                  this.setPen(c)
                }),
                (e.prototype.setBkgData = function (e) {
                  lr.log('INFO', 'bkgData = ' + JSON.stringify(e)),
                    this.backSpace(),
                    this.setPen(e),
                    this.insertChar(32)
                }),
                (e.prototype.setRollUpRows = function (e) {
                  this.nrRollUpRows = e
                }),
                (e.prototype.rollUp = function () {
                  if (null === this.nrRollUpRows)
                    return void lr.log(
                      'DEBUG',
                      'roll_up but nrRollUpRows not set yet'
                    )
                  lr.log('TEXT', this.getDisplayText())
                  var e = this.currRow + 1 - this.nrRollUpRows,
                    t = this.rows.splice(e, 1)[0]
                  t.clear(),
                    this.rows.splice(this.currRow, 0, t),
                    lr.log('INFO', 'Rolling up')
                }),
                (e.prototype.getDisplayText = function (e) {
                  e = e || !1
                  for (var t = [], r = '', i = -1, n = 0; n < rr; n++) {
                    var a = this.rows[n].getTextString()
                    a &&
                      ((i = n + 1),
                      e
                        ? t.push('Row ' + i + ": '" + a + "'")
                        : t.push(a.trim()))
                  }
                  return (
                    t.length > 0 &&
                      (r = e ? '[' + t.join(' | ') + ']' : t.join('\n')),
                    r
                  )
                }),
                (e.prototype.getTextAndFormat = function () {
                  return this.rows
                }),
                e
              )
            })(),
            vr = (function () {
              function e(t, r) {
                fe(this, e),
                  (this.chNr = t),
                  (this.outputFilter = r),
                  (this.mode = null),
                  (this.verbose = 0),
                  (this.displayedMemory = new pr()),
                  (this.nonDisplayedMemory = new pr()),
                  (this.lastOutputScreen = new pr()),
                  (this.currRollUpRow = this.displayedMemory.rows[rr - 1]),
                  (this.writeScreen = this.displayedMemory),
                  (this.mode = null),
                  (this.cueStartTime = null)
              }
              return (
                (e.prototype.reset = function () {
                  ;(this.mode = null),
                    this.displayedMemory.reset(),
                    this.nonDisplayedMemory.reset(),
                    this.lastOutputScreen.reset(),
                    (this.currRollUpRow =
                      this.displayedMemory.rows[rr - 1]),
                    (this.writeScreen = this.displayedMemory),
                    (this.mode = null),
                    (this.cueStartTime = null),
                    (this.lastCueEndTime = null)
                }),
                (e.prototype.getHandler = function () {
                  return this.outputFilter
                }),
                (e.prototype.setHandler = function (e) {
                  this.outputFilter = e
                }),
                (e.prototype.setPAC = function (e) {
                  this.writeScreen.setPAC(e)
                }),
                (e.prototype.setBkgData = function (e) {
                  this.writeScreen.setBkgData(e)
                }),
                (e.prototype.setMode = function (e) {
                  e !== this.mode &&
                    ((this.mode = e),
                    lr.log('INFO', 'MODE=' + e),
                    'MODE_POP-ON' === this.mode
                      ? (this.writeScreen = this.nonDisplayedMemory)
                      : ((this.writeScreen = this.displayedMemory),
                        this.writeScreen.reset()),
                    'MODE_ROLL-UP' !== this.mode &&
                      ((this.displayedMemory.nrRollUpRows = null),
                      (this.nonDisplayedMemory.nrRollUpRows = null)),
                    (this.mode = e))
                }),
                (e.prototype.insertChars = function (e) {
                  for (var t = 0; t < e.length; t++)
                    this.writeScreen.insertChar(e[t])
                  var r =
                    this.writeScreen === this.displayedMemory
                      ? 'DISP'
                      : 'NON_DISP'
                  lr.log(
                    'INFO',
                    r + ': ' + this.writeScreen.getDisplayText(!0)
                  ),
                    ('MODE_PAINT-ON' !== this.mode &&
                      'MODE_ROLL-UP' !== this.mode) ||
                      (lr.log(
                        'TEXT',
                        'DISPLAYED: ' +
                          this.displayedMemory.getDisplayText(!0)
                      ),
                      this.outputDataUpdate())
                }),
                (e.prototype.ccRCL = function () {
                  lr.log('INFO', 'RCL - Resume Caption Loading'),
                    this.setMode('MODE_POP-ON')
                }),
                (e.prototype.ccBS = function () {
                  lr.log('INFO', 'BS - BackSpace'),
                    'MODE_TEXT' !== this.mode &&
                      (this.writeScreen.backSpace(),
                      this.writeScreen === this.displayedMemory &&
                        this.outputDataUpdate())
                }),
                (e.prototype.ccAOF = function () {}),
                (e.prototype.ccAON = function () {}),
                (e.prototype.ccDER = function () {
                  lr.log('INFO', 'DER- Delete to End of Row'),
                    this.writeScreen.clearToEndOfRow(),
                    this.outputDataUpdate()
                }),
                (e.prototype.ccRU = function (e) {
                  lr.log('INFO', 'RU(' + e + ') - Roll Up'),
                    (this.writeScreen = this.displayedMemory),
                    this.setMode('MODE_ROLL-UP'),
                    this.writeScreen.setRollUpRows(e)
                }),
                (e.prototype.ccFON = function () {
                  lr.log('INFO', 'FON - Flash On'),
                    this.writeScreen.setPen({ flash: !0 })
                }),
                (e.prototype.ccRDC = function () {
                  lr.log('INFO', 'RDC - Resume Direct Captioning'),
                    this.setMode('MODE_PAINT-ON')
                }),
                (e.prototype.ccTR = function () {
                  lr.log('INFO', 'TR'), this.setMode('MODE_TEXT')
                }),
                (e.prototype.ccRTD = function () {
                  lr.log('INFO', 'RTD'), this.setMode('MODE_TEXT')
                }),
                (e.prototype.ccEDM = function () {
                  lr.log('INFO', 'EDM - Erase Displayed Memory'),
                    this.displayedMemory.reset(),
                    this.outputDataUpdate(!0)
                }),
                (e.prototype.ccCR = function () {
                  lr.log('CR - Carriage Return'),
                    this.writeScreen.rollUp(),
                    this.outputDataUpdate(!0)
                }),
                (e.prototype.ccENM = function () {
                  lr.log('INFO', 'ENM - Erase Non-displayed Memory'),
                    this.nonDisplayedMemory.reset()
                }),
                (e.prototype.ccEOC = function () {
                  if (
                    (lr.log('INFO', 'EOC - End Of Caption'),
                    'MODE_POP-ON' === this.mode)
                  ) {
                    var e = this.displayedMemory
                    ;(this.displayedMemory = this.nonDisplayedMemory),
                      (this.nonDisplayedMemory = e),
                      (this.writeScreen = this.nonDisplayedMemory),
                      lr.log(
                        'TEXT',
                        'DISP: ' + this.displayedMemory.getDisplayText()
                      )
                  }
                  this.outputDataUpdate(!0)
                }),
                (e.prototype.ccTO = function (e) {
                  lr.log('INFO', 'TO(' + e + ') - Tab Offset'),
                    this.writeScreen.moveCursor(e)
                }),
                (e.prototype.ccMIDROW = function (e) {
                  var t = { flash: !1 }
                  if (
                    ((t.underline = e % 2 == 1),
                    (t.italics = e >= 46),
                    t.italics)
                  )
                    t.foreground = 'white'
                  else {
                    var r = Math.floor(e / 2) - 16,
                      i = [
                        'white',
                        'green',
                        'blue',
                        'cyan',
                        'red',
                        'yellow',
                        'magenta',
                      ]
                    t.foreground = i[r]
                  }
                  lr.log('INFO', 'MIDROW: ' + JSON.stringify(t)),
                    this.writeScreen.setPen(t)
                }),
                (e.prototype.outputDataUpdate = function () {
                  var e =
                      arguments.length > 0 &&
                      void 0 !== arguments[0] &&
                      arguments[0],
                    t = lr.time
                  null !== t &&
                    this.outputFilter &&
                    (null !== this.cueStartTime ||
                    this.displayedMemory.isEmpty()
                      ? this.displayedMemory.equals(
                          this.lastOutputScreen
                        ) ||
                        (this.outputFilter.newCue &&
                          (this.outputFilter.newCue(
                            this.cueStartTime,
                            t,
                            this.lastOutputScreen
                          ),
                          !0 === e &&
                            this.outputFilter.dispatchCue &&
                            this.outputFilter.dispatchCue()),
                        (this.cueStartTime = this.displayedMemory.isEmpty()
                          ? null
                          : t))
                      : (this.cueStartTime = t),
                    this.lastOutputScreen.copy(this.displayedMemory))
                }),
                (e.prototype.cueSplitAtTime = function (e) {
                  this.outputFilter &&
                    (this.displayedMemory.isEmpty() ||
                      (this.outputFilter.newCue &&
                        this.outputFilter.newCue(
                          this.cueStartTime,
                          e,
                          this.displayedMemory
                        ),
                      (this.cueStartTime = e)))
                }),
                e
              )
            })(),
            gr = (function () {
              function e(t, r, i) {
                fe(this, e),
                  (this.field = t || 1),
                  (this.outputs = [r, i]),
                  (this.channels = [new vr(1, r), new vr(2, i)]),
                  (this.currChNr = -1),
                  (this.lastCmdA = null),
                  (this.lastCmdB = null),
                  (this.bufferedData = []),
                  (this.startTime = null),
                  (this.lastTime = null),
                  (this.dataCounters = {
                    padding: 0,
                    char: 0,
                    cmd: 0,
                    other: 0,
                  })
              }
              return (
                (e.prototype.getHandler = function (e) {
                  return this.channels[e].getHandler()
                }),
                (e.prototype.setHandler = function (e, t) {
                  this.channels[e].setHandler(t)
                }),
                (e.prototype.addData = function (e, t) {
                  var r,
                    i,
                    n,
                    a = !1
                  ;(this.lastTime = e), lr.setTime(e)
                  for (var o = 0; o < t.length; o += 2)
                    if (
                      ((i = 127 & t[o]),
                      (n = 127 & t[o + 1]),
                      0 !== i || 0 !== n)
                    ) {
                      if (
                        (lr.log(
                          'DATA',
                          '[' +
                            cr([t[o], t[o + 1]]) +
                            '] -> (' +
                            cr([i, n]) +
                            ')'
                        ),
                        (r = this.parseCmd(i, n)),
                        r || (r = this.parseMidrow(i, n)),
                        r || (r = this.parsePAC(i, n)),
                        r || (r = this.parseBackgroundAttributes(i, n)),
                        !r && (a = this.parseChars(i, n)))
                      )
                        if (this.currChNr && this.currChNr >= 0) {
                          var s = this.channels[this.currChNr - 1]
                          s.insertChars(a)
                        } else
                          lr.log(
                            'WARNING',
                            'No channel found yet. TEXT-MODE?'
                          )
                      r
                        ? (this.dataCounters.cmd += 2)
                        : a
                        ? (this.dataCounters.char += 2)
                        : ((this.dataCounters.other += 2),
                          lr.log(
                            'WARNING',
                            "Couldn't parse cleaned data " +
                              cr([i, n]) +
                              ' orig: ' +
                              cr([t[o], t[o + 1]])
                          ))
                    } else this.dataCounters.padding += 2
                }),
                (e.prototype.parseCmd = function (e, t) {
                  var r = null,
                    i = (20 === e || 28 === e) && 32 <= t && t <= 47,
                    n = (23 === e || 31 === e) && 33 <= t && t <= 35
                  if (!i && !n) return !1
                  if (e === this.lastCmdA && t === this.lastCmdB)
                    return (
                      (this.lastCmdA = null),
                      (this.lastCmdB = null),
                      lr.log(
                        'DEBUG',
                        'Repeated command (' + cr([e, t]) + ') is dropped'
                      ),
                      !0
                    )
                  r = 20 === e || 23 === e ? 1 : 2
                  var a = this.channels[r - 1]
                  return (
                    20 === e || 28 === e
                      ? 32 === t
                        ? a.ccRCL()
                        : 33 === t
                        ? a.ccBS()
                        : 34 === t
                        ? a.ccAOF()
                        : 35 === t
                        ? a.ccAON()
                        : 36 === t
                        ? a.ccDER()
                        : 37 === t
                        ? a.ccRU(2)
                        : 38 === t
                        ? a.ccRU(3)
                        : 39 === t
                        ? a.ccRU(4)
                        : 40 === t
                        ? a.ccFON()
                        : 41 === t
                        ? a.ccRDC()
                        : 42 === t
                        ? a.ccTR()
                        : 43 === t
                        ? a.ccRTD()
                        : 44 === t
                        ? a.ccEDM()
                        : 45 === t
                        ? a.ccCR()
                        : 46 === t
                        ? a.ccENM()
                        : 47 === t && a.ccEOC()
                      : a.ccTO(t - 32),
                    (this.lastCmdA = e),
                    (this.lastCmdB = t),
                    (this.currChNr = r),
                    !0
                  )
                }),
                (e.prototype.parseMidrow = function (e, t) {
                  var r = null
                  if ((17 === e || 25 === e) && 32 <= t && t <= 47) {
                    if ((r = 17 === e ? 1 : 2) !== this.currChNr)
                      return (
                        lr.log(
                          'ERROR',
                          'Mismatch channel in midrow parsing'
                        ),
                        !1
                      )
                    return (
                      this.channels[r - 1].ccMIDROW(t),
                      lr.log('DEBUG', 'MIDROW (' + cr([e, t]) + ')'),
                      !0
                    )
                  }
                  return !1
                }),
                (e.prototype.parsePAC = function (e, t) {
                  var r = null,
                    i = null,
                    n =
                      ((17 <= e && e <= 23) || (25 <= e && e <= 31)) &&
                      64 <= t &&
                      t <= 127,
                    a = (16 === e || 24 === e) && 64 <= t && t <= 95
                  if (!n && !a) return !1
                  if (e === this.lastCmdA && t === this.lastCmdB)
                    return (
                      (this.lastCmdA = null), (this.lastCmdB = null), !0
                    )
                  ;(r = e <= 23 ? 1 : 2),
                    (i =
                      64 <= t && t <= 95
                        ? 1 === r
                          ? nr[e]
                          : or[e]
                        : 1 === r
                        ? ar[e]
                        : sr[e])
                  var o = this.interpretPAC(i, t)
                  return (
                    this.channels[r - 1].setPAC(o),
                    (this.lastCmdA = e),
                    (this.lastCmdB = t),
                    (this.currChNr = r),
                    !0
                  )
                }),
                (e.prototype.interpretPAC = function (e, t) {
                  var r = t,
                    i = {
                      color: null,
                      italics: !1,
                      indent: null,
                      underline: !1,
                      row: e,
                    }
                  return (
                    (r = t > 95 ? t - 96 : t - 64),
                    (i.underline = 1 == (1 & r)),
                    r <= 13
                      ? (i.color = [
                          'white',
                          'green',
                          'blue',
                          'cyan',
                          'red',
                          'yellow',
                          'magenta',
                          'white',
                        ][Math.floor(r / 2)])
                      : r <= 15
                      ? ((i.italics = !0), (i.color = 'white'))
                      : (i.indent = 4 * Math.floor((r - 16) / 2)),
                    i
                  )
                }),
                (e.prototype.parseChars = function (e, t) {
                  var r = null,
                    i = null,
                    n = null
                  if (
                    (e >= 25 ? ((r = 2), (n = e - 8)) : ((r = 1), (n = e)),
                    17 <= n && n <= 19)
                  ) {
                    var a = t
                    ;(a =
                      17 === n ? t + 80 : 18 === n ? t + 112 : t + 144),
                      lr.log(
                        'INFO',
                        "Special char '" + tr(a) + "' in channel " + r
                      ),
                      (i = [a])
                  } else
                    32 <= e && e <= 127 && (i = 0 === t ? [e] : [e, t])
                  if (i) {
                    var o = cr(i)
                    lr.log('DEBUG', 'Char codes =  ' + o.join(',')),
                      (this.lastCmdA = null),
                      (this.lastCmdB = null)
                  }
                  return i
                }),
                (e.prototype.parseBackgroundAttributes = function (e, t) {
                  var r,
                    i,
                    n,
                    a,
                    o = (16 === e || 24 === e) && 32 <= t && t <= 47,
                    s = (23 === e || 31 === e) && 45 <= t && t <= 47
                  return (
                    !(!o && !s) &&
                    ((r = {}),
                    16 === e || 24 === e
                      ? ((i = Math.floor((t - 32) / 2)),
                        (r.background = ur[i]),
                        t % 2 == 1 &&
                          (r.background = r.background + '_semi'))
                      : 45 === t
                      ? (r.background = 'transparent')
                      : ((r.foreground = 'black'),
                        47 === t && (r.underline = !0)),
                    (n = e < 24 ? 1 : 2),
                    (a = this.channels[n - 1]),
                    a.setBkgData(r),
                    (this.lastCmdA = null),
                    (this.lastCmdB = null),
                    !0)
                  )
                }),
                (e.prototype.reset = function () {
                  for (var e = 0; e < this.channels.length; e++)
                    this.channels[e] && this.channels[e].reset()
                  ;(this.lastCmdA = null), (this.lastCmdB = null)
                }),
                (e.prototype.cueSplitAtTime = function (e) {
                  for (var t = 0; t < this.channels.length; t++)
                    this.channels[t] && this.channels[t].cueSplitAtTime(e)
                }),
                e
              )
            })(),
            yr = gr,
            mr = (function () {
              function e(t, r) {
                he(this, e),
                  (this.timelineController = t),
                  (this.track = r),
                  (this.startTime = null),
                  (this.endTime = null),
                  (this.screen = null)
              }
              return (
                (e.prototype.dispatchCue = function () {
                  null !== this.startTime &&
                    (this.timelineController.addCues(
                      'textTrack' + this.track,
                      this.startTime,
                      this.endTime,
                      this.screen
                    ),
                    (this.startTime = null))
                }),
                (e.prototype.newCue = function (e, t, r) {
                  ;(null === this.startTime || this.startTime > e) &&
                    (this.startTime = e),
                    (this.endTime = t),
                    (this.screen = r),
                    this.timelineController.createCaptionsTrack(this.track)
                }),
                e
              )
            })(),
            _r = mr,
            br = function (e, t, r) {
              return e.substr(r || 0, t.length) === t
            },
            Er = function (e) {
              var t = parseInt(e.substr(-3)),
                r = parseInt(e.substr(-6, 2)),
                i = parseInt(e.substr(-9, 2)),
                n =
                  e.length > 9 ? parseInt(e.substr(0, e.indexOf(':'))) : 0
              return isNaN(t) || isNaN(r) || isNaN(i) || isNaN(n)
                ? -1
                : ((t += 1e3 * r), (t += 6e4 * i), (t += 36e5 * n))
            },
            wr = function (e) {
              for (var t = 5381, r = e.length; r; )
                t = (33 * t) ^ e.charCodeAt(--r)
              return (t >>> 0).toString()
            },
            Tr = function (e, t, r) {
              var i = e[t],
                n = e[i.prevCC]
              if (!n || (!n.new && i.new))
                return (
                  (e.ccOffset = e.presentationOffset = i.start),
                  void (i.new = !1)
                )
              for (; n && n.new; )
                (e.ccOffset += i.start - n.start),
                  (i.new = !1),
                  (i = n),
                  (n = e[i.prevCC])
              e.presentationOffset = r
            },
            Sr = {
              parse: function (e, t, r, i, n, a) {
                var o = /\r\n|\n\r|\n|\r/g,
                  s = Object(wt.b)(new Uint8Array(e))
                    .trim()
                    .replace(o, '\n')
                    .split('\n'),
                  u = '00:00.000',
                  l = 0,
                  c = 0,
                  d = 0,
                  f = [],
                  h = void 0,
                  p = !0,
                  v = new Zt()
                ;(v.oncue = function (e) {
                  var t = r[i],
                    n = r.ccOffset
                  t &&
                    t.new &&
                    (void 0 !== c
                      ? (n = r.ccOffset = t.start)
                      : Tr(r, i, d)),
                    d && (n = d + r.ccOffset - r.presentationOffset),
                    (e.startTime += n - c),
                    (e.endTime += n - c),
                    (e.id =
                      wr(e.startTime.toString()) +
                      wr(e.endTime.toString()) +
                      wr(e.text)),
                    (e.text = decodeURIComponent(
                      encodeURIComponent(e.text)
                    )),
                    e.endTime > 0 && f.push(e)
                }),
                  (v.onparsingerror = function (e) {
                    h = e
                  }),
                  (v.onflush = function () {
                    if (h && a) return void a(h)
                    n(f)
                  }),
                  s.forEach(function (e) {
                    if (p) {
                      if (br(e, 'X-TIMESTAMP-MAP=')) {
                        ;(p = !1),
                          e
                            .substr(16)
                            .split(',')
                            .forEach(function (e) {
                              br(e, 'LOCAL:')
                                ? (u = e.substr(6))
                                : br(e, 'MPEGTS:') &&
                                  (l = parseInt(e.substr(7)))
                            })
                        try {
                          ;(t = t < 0 ? t + 8589934592 : t),
                            (l -= t),
                            (c = Er(u) / 1e3),
                            (d = l / 9e4),
                            -1 === c &&
                              (h = new Error(
                                'Malformed X-TIMESTAMP-MAP: ' + e
                              ))
                        } catch (t) {
                          h = new Error('Malformed X-TIMESTAMP-MAP: ' + e)
                        }
                        return
                      }
                      '' === e && (p = !1)
                    }
                    v.parse(e + '\n')
                  }),
                  v.flush()
              },
            },
            Ar = Sr,
            Rr = (function (e) {
              function t(r) {
                pe(this, t)
                var i = ve(
                  this,
                  e.call(
                    this,
                    r,
                    Pe.a.MEDIA_ATTACHING,
                    Pe.a.MEDIA_DETACHING,
                    Pe.a.FRAG_PARSING_USERDATA,
                    Pe.a.FRAG_DECRYPTED,
                    Pe.a.MANIFEST_LOADING,
                    Pe.a.MANIFEST_LOADED,
                    Pe.a.FRAG_LOADED,
                    Pe.a.LEVEL_SWITCHING,
                    Pe.a.INIT_PTS_FOUND
                  )
                )
                if (
                  ((i.hls = r),
                  (i.config = r.config),
                  (i.enabled = !0),
                  (i.Cues = r.config.cueHandler),
                  (i.textTracks = []),
                  (i.tracks = []),
                  (i.unparsedVttFrags = []),
                  (i.initPTS = void 0),
                  (i.cueRanges = []),
                  i.config.enableCEA708Captions)
                ) {
                  var n = new _r(i, 1),
                    a = new _r(i, 2)
                  i.cea608Parser = new yr(0, n, a)
                }
                return i
              }
              return (
                ge(t, e),
                (t.prototype.addCues = function (e, t, r, i) {
                  for (
                    var n = this.cueRanges, a = !1, o = n.length;
                    o--;

                  ) {
                    var s = n[o],
                      u = _e(s[0], s[1], t, r)
                    if (
                      u >= 0 &&
                      ((s[0] = Math.min(s[0], t)),
                      (s[1] = Math.max(s[1], r)),
                      (a = !0),
                      u / (r - t) > 0.5)
                    )
                      return
                  }
                  a || n.push([t, r]), this.Cues.newCue(this[e], t, r, i)
                }),
                (t.prototype.onInitPtsFound = function (e) {
                  var t = this
                  void 0 === this.initPTS && (this.initPTS = e.initPTS),
                    this.unparsedVttFrags.length &&
                      (this.unparsedVttFrags.forEach(function (e) {
                        t.onFragLoaded(e)
                      }),
                      (this.unparsedVttFrags = []))
                }),
                (t.prototype.getExistingTrack = function (e) {
                  var t = this.media
                  if (t)
                    for (var r = 0; r < t.textTracks.length; r++) {
                      var i = t.textTracks[r],
                        n = 'textTrack' + e
                      if (!0 === i[n]) return i
                    }
                  return null
                }),
                (t.prototype.sendAddTrackEvent = function (e, t) {
                  var r = null
                  try {
                    r = new window.Event('addtrack')
                  } catch (e) {
                    ;(r = document.createEvent('Event')),
                      r.initEvent('addtrack', !1, !1)
                  }
                  ;(r.track = e), t.dispatchEvent(r)
                }),
                (t.prototype.createCaptionsTrack = function (e) {
                  var t = 'textTrack' + e
                  if (!this[t]) {
                    var r = this.getExistingTrack(e)
                    if (r)
                      (this[t] = r),
                        ye(this[t]),
                        this.sendAddTrackEvent(this[t], this.media)
                    else {
                      var i = this.createTextTrack(
                        'captions',
                        this.config['captionsTextTrack' + e + 'Label'],
                        this.config.captionsTextTrack1LanguageCode
                      )
                      i && ((i[t] = !0), (this[t] = i))
                    }
                  }
                }),
                (t.prototype.createTextTrack = function (e, t, r) {
                  var i = this.media
                  if (i) return i.addTextTrack(e, t, r)
                }),
                (t.prototype.destroy = function () {
                  Ne.prototype.destroy.call(this)
                }),
                (t.prototype.onMediaAttaching = function (e) {
                  ;(this.media = e.media), this._cleanTracks()
                }),
                (t.prototype.onMediaDetaching = function () {
                  ye(this.textTrack1), ye(this.textTrack2)
                }),
                (t.prototype.onManifestLoading = function () {
                  ;(this.lastSn = -1),
                    (this.prevCC = -1),
                    (this.vttCCs = { ccOffset: 0, presentationOffset: 0 }),
                    this._cleanTracks()
                }),
                (t.prototype._cleanTracks = function () {
                  var e = this.media
                  if (e) {
                    var t = e.textTracks
                    if (t) for (var r = 0; r < t.length; r++) ye(t[r])
                  }
                }),
                (t.prototype.onManifestLoaded = function (e) {
                  var t = this
                  if (
                    ((this.textTracks = []),
                    (this.unparsedVttFrags = this.unparsedVttFrags || []),
                    (this.initPTS = void 0),
                    (this.cueRanges = []),
                    this.config.enableWebVTT)
                  ) {
                    this.tracks = e.subtitles || []
                    var r = this.media ? this.media.textTracks : []
                    this.tracks.forEach(function (e, i) {
                      var n = void 0
                      if (i < r.length) {
                        var a = r[i]
                        me(a, e) && (n = a)
                      }
                      n ||
                        (n = t.createTextTrack(
                          'subtitles',
                          e.name,
                          e.lang
                        )),
                        (n.mode = e.default ? 'showing' : 'hidden'),
                        t.textTracks.push(n)
                    })
                  }
                }),
                (t.prototype.onLevelSwitching = function () {
                  this.enabled =
                    'NONE' !== this.hls.currentLevel.closedCaptions
                }),
                (t.prototype.onFragLoaded = function (e) {
                  var t = e.frag,
                    r = e.payload
                  if ('main' === t.type) {
                    var i = t.sn
                    if (i !== this.lastSn + 1) {
                      var n = this.cea608Parser
                      n && n.reset()
                    }
                    this.lastSn = i
                  } else if ('subtitle' === t.type)
                    if (r.byteLength) {
                      if (void 0 === this.initPTS)
                        return void this.unparsedVttFrags.push(e)
                      var a = t.decryptdata
                      ;(null != a &&
                        null != a.key &&
                        'AES-128' === a.method) ||
                        this._parseVTTs(t, r)
                    } else
                      this.hls.trigger(Pe.a.SUBTITLE_FRAG_PROCESSED, {
                        success: !1,
                        frag: t,
                      })
                }),
                (t.prototype._parseVTTs = function (e, t) {
                  var r = this.vttCCs
                  r[e.cc] ||
                    ((r[e.cc] = {
                      start: e.start,
                      prevCC: this.prevCC,
                      new: !0,
                    }),
                    (this.prevCC = e.cc))
                  var i = this.textTracks,
                    n = this.hls
                  Ar.parse(
                    t,
                    this.initPTS,
                    r,
                    e.cc,
                    function (t) {
                      var r = i[e.trackId]
                      t.forEach(function (e) {
                        if (!r.cues.getCueById(e.id))
                          try {
                            r.addCue(e)
                          } catch (i) {
                            var t = new window.TextTrackCue(
                              e.startTime,
                              e.endTime,
                              e.text
                            )
                            ;(t.id = e.id), r.addCue(t)
                          }
                      }),
                        n.trigger(Pe.a.SUBTITLE_FRAG_PROCESSED, {
                          success: !0,
                          frag: e,
                        })
                    },
                    function (t) {
                      Ie.b.log('Failed to parse VTT cue: ' + t),
                        n.trigger(Pe.a.SUBTITLE_FRAG_PROCESSED, {
                          success: !1,
                          frag: e,
                        })
                    }
                  )
                }),
                (t.prototype.onFragDecrypted = function (e) {
                  var t = e.payload,
                    r = e.frag
                  if ('subtitle' === r.type) {
                    if (void 0 === this.initPTS)
                      return void this.unparsedVttFrags.push(e)
                    this._parseVTTs(r, t)
                  }
                }),
                (t.prototype.onFragParsingUserdata = function (e) {
                  if (this.enabled && this.config.enableCEA708Captions)
                    for (var t = 0; t < e.samples.length; t++) {
                      var r = this.extractCea608Data(e.samples[t].bytes)
                      this.cea608Parser.addData(e.samples[t].pts, r)
                    }
                }),
                (t.prototype.extractCea608Data = function (e) {
                  for (
                    var t, r, i, n, a, o = 31 & e[0], s = 2, u = [], l = 0;
                    l < o;
                    l++
                  )
                    (t = e[s++]),
                      (r = 127 & e[s++]),
                      (i = 127 & e[s++]),
                      (n = 0 != (4 & t)),
                      (a = 3 & t),
                      (0 === r && 0 === i) ||
                        (n && 0 === a && (u.push(r), u.push(i)))
                  return u
                }),
                t
              )
            })(Ne),
            kr = Rr,
            Dr = (function () {
              function e(e, t) {
                for (var r = 0; r < t.length; r++) {
                  var i = t[r]
                  ;(i.enumerable = i.enumerable || !1),
                    (i.configurable = !0),
                    'value' in i && (i.writable = !0),
                    Object.defineProperty(e, i.key, i)
                }
              }
              return function (t, r, i) {
                return r && e(t.prototype, r), i && e(t, i), t
              }
            })(),
            Or = (function (e) {
              function t(r) {
                be(this, t)
                var i = Ee(
                  this,
                  e.call(
                    this,
                    r,
                    Pe.a.MEDIA_ATTACHED,
                    Pe.a.MEDIA_DETACHING,
                    Pe.a.MANIFEST_LOADING,
                    Pe.a.MANIFEST_LOADED,
                    Pe.a.SUBTITLE_TRACK_LOADED
                  )
                )
                return (
                  (i.tracks = []),
                  (i.trackId = -1),
                  (i.media = void 0),
                  (i.subtitleDisplay = !1),
                  i
                )
              }
              return (
                we(t, e),
                (t.prototype._onTextTracksChanged = function () {
                  if (this.media) {
                    for (
                      var e = -1, t = Te(this.media.textTracks), r = 0;
                      r < t.length;
                      r++
                    )
                      'showing' === t[r].mode && (e = r)
                    this.subtitleTrack = e
                  }
                }),
                (t.prototype.destroy = function () {
                  Ne.prototype.destroy.call(this)
                }),
                (t.prototype.onMediaAttached = function (e) {
                  var t = this
                  ;(this.media = e.media),
                    this.media &&
                      (void 0 !== this.queuedDefaultTrack &&
                        ((this.subtitleTrack = this.queuedDefaultTrack),
                        delete this.queuedDefaultTrack),
                      (this.trackChangeListener =
                        this._onTextTracksChanged.bind(this)),
                      (this.useTextTrackPolling = !(
                        this.media.textTracks &&
                        'onchange' in this.media.textTracks
                      )),
                      this.useTextTrackPolling
                        ? (this.subtitlePollingInterval = setInterval(
                            function () {
                              t.trackChangeListener()
                            },
                            500
                          ))
                        : this.media.textTracks.addEventListener(
                            'change',
                            this.trackChangeListener
                          ))
                }),
                (t.prototype.onMediaDetaching = function () {
                  this.media &&
                    (this.useTextTrackPolling
                      ? clearInterval(this.subtitlePollingInterval)
                      : this.media.textTracks.removeEventListener(
                          'change',
                          this.trackChangeListener
                        ),
                    (this.media = void 0))
                }),
                (t.prototype.onManifestLoading = function () {
                  ;(this.tracks = []), (this.trackId = -1)
                }),
                (t.prototype.onManifestLoaded = function (e) {
                  var t = this,
                    r = e.subtitles || []
                  ;(this.tracks = r),
                    (this.trackId = -1),
                    this.hls.trigger(Pe.a.SUBTITLE_TRACKS_UPDATED, {
                      subtitleTracks: r,
                    }),
                    r.forEach(function (e) {
                      e.default &&
                        (t.media
                          ? (t.subtitleTrack = e.id)
                          : (t.queuedDefaultTrack = e.id))
                    })
                }),
                (t.prototype.onTick = function () {
                  var e = this.trackId,
                    t = this.tracks[e]
                  if (t) {
                    var r = t.details
                    ;(void 0 !== r && !0 !== r.live) ||
                      (Ie.b.log(
                        '(re)loading playlist for subtitle track ' + e
                      ),
                      this.hls.trigger(Pe.a.SUBTITLE_TRACK_LOADING, {
                        url: t.url,
                        id: e,
                      }))
                  }
                }),
                (t.prototype.onSubtitleTrackLoaded = function (e) {
                  var t = this
                  e.id < this.tracks.length &&
                    (Ie.b.log('subtitle track ' + e.id + ' loaded'),
                    (this.tracks[e.id].details = e.details),
                    e.details.live &&
                      !this.timer &&
                      (this.timer = setInterval(
                        function () {
                          t.onTick()
                        },
                        1e3 * e.details.targetduration,
                        this
                      )),
                    !e.details.live &&
                      this.timer &&
                      (clearInterval(this.timer), (this.timer = null)))
                }),
                (t.prototype.setSubtitleTrackInternal = function (e) {
                  if (!(e < -1 || e >= this.tracks.length)) {
                    this.timer &&
                      (clearInterval(this.timer), (this.timer = null))
                    var t = Te(this.media.textTracks)
                    if (
                      (-1 !== this.trackId &&
                        this.subtitleDisplay &&
                        (t[this.trackId].mode = 'hidden'),
                      (this.trackId = e),
                      Ie.b.log('switching to subtitle track ' + e),
                      this.hls.trigger(Pe.a.SUBTITLE_TRACK_SWITCH, {
                        id: e,
                      }),
                      -1 !== e)
                    ) {
                      var r = this.tracks[e]
                      this.subtitleDisplay && (t[e].mode = 'showing')
                      var i = r.details
                      ;(void 0 !== i && !0 !== i.live) ||
                        (Ie.b.log(
                          '(re)loading playlist for subtitle track ' + e
                        ),
                        this.hls.trigger(Pe.a.SUBTITLE_TRACK_LOADING, {
                          url: r.url,
                          id: e,
                        }))
                    }
                  }
                }),
                Dr(t, [
                  {
                    key: 'subtitleTracks',
                    get: function () {
                      return this.tracks
                    },
                  },
                  {
                    key: 'subtitleTrack',
                    get: function () {
                      return this.trackId
                    },
                    set: function (e) {
                      this.trackId !== e &&
                        this.setSubtitleTrackInternal(e)
                    },
                  },
                ]),
                t
              )
            })(Ne),
            Lr = Or,
            Pr = r(4),
            xr = {
              STOPPED: 'STOPPED',
              IDLE: 'IDLE',
              KEY_LOADING: 'KEY_LOADING',
              FRAG_LOADING: 'FRAG_LOADING',
            },
            Ir = (function (e) {
              function t(r) {
                Se(this, t)
                var i = Ae(
                  this,
                  e.call(
                    this,
                    r,
                    Pe.a.MEDIA_ATTACHED,
                    Pe.a.ERROR,
                    Pe.a.KEY_LOADED,
                    Pe.a.FRAG_LOADED,
                    Pe.a.SUBTITLE_TRACKS_UPDATED,
                    Pe.a.SUBTITLE_TRACK_SWITCH,
                    Pe.a.SUBTITLE_TRACK_LOADED,
                    Pe.a.SUBTITLE_FRAG_PROCESSED
                  )
                )
                return (
                  (i.config = r.config),
                  (i.vttFragSNsProcessed = {}),
                  (i.vttFragQueues = void 0),
                  (i.currentlyProcessing = null),
                  (i.state = xr.STOPPED),
                  (i.currentTrackId = -1),
                  (i.ticks = 0),
                  (i.decrypter = new Pr.a(r.observer, r.config)),
                  i
                )
              }
              return (
                Re(t, e),
                (t.prototype.destroy = function () {
                  Ne.prototype.destroy.call(this),
                    (this.state = xr.STOPPED)
                }),
                (t.prototype.clearVttFragQueues = function () {
                  var e = this
                  ;(this.vttFragQueues = {}),
                    this.tracks.forEach(function (t) {
                      e.vttFragQueues[t.id] = []
                    })
                }),
                (t.prototype.nextFrag = function () {
                  if (
                    null === this.currentlyProcessing &&
                    this.currentTrackId > -1 &&
                    this.vttFragQueues[this.currentTrackId].length
                  ) {
                    var e = (this.currentlyProcessing =
                      this.vttFragQueues[this.currentTrackId].shift())
                    ;(this.fragCurrent = e),
                      this.hls.trigger(Pe.a.FRAG_LOADING, { frag: e }),
                      (this.state = xr.FRAG_LOADING)
                  }
                }),
                (t.prototype.onSubtitleFragProcessed = function (e) {
                  e.success &&
                    this.vttFragSNsProcessed[e.frag.trackId].push(
                      e.frag.sn
                    ),
                    (this.currentlyProcessing = null),
                    (this.state = xr.IDLE),
                    this.nextFrag()
                }),
                (t.prototype.onMediaAttached = function () {
                  this.state = xr.IDLE
                }),
                (t.prototype.onError = function (e) {
                  var t = e.frag
                  ;(t && 'subtitle' !== t.type) ||
                    (this.currentlyProcessing &&
                      ((this.currentlyProcessing = null), this.nextFrag()))
                }),
                (t.prototype.tick = function () {
                  var e = this
                  1 === ++this.ticks &&
                    (this.doTick(),
                    this.ticks > 1 &&
                      setTimeout(function () {
                        e.tick()
                      }, 1),
                    (this.ticks = 0))
                }),
                (t.prototype.doTick = function () {
                  var e = this
                  switch (this.state) {
                    case xr.IDLE:
                      var t = this.tracks,
                        r = this.currentTrackId,
                        i = this.vttFragSNsProcessed[r],
                        n = this.vttFragQueues[r],
                        a = this.currentlyProcessing
                          ? this.currentlyProcessing.sn
                          : -1,
                        o = function (e) {
                          return i.indexOf(e.sn) > -1
                        },
                        s = function (e) {
                          return n.some(function (t) {
                            return t.sn === e.sn
                          })
                        }
                      if (!t) break
                      var u
                      if (
                        (r < t.length && (u = t[r].details), void 0 === u)
                      )
                        break
                      u.fragments.forEach(function (t) {
                        o(t) ||
                          t.sn === a ||
                          s(t) ||
                          (t.decryptdata &&
                          null != t.decryptdata.uri &&
                          null == t.decryptdata.key
                            ? (Ie.b.log('Loading key for ' + t.sn),
                              (e.state = xr.KEY_LOADING),
                              e.hls.trigger(Pe.a.KEY_LOADING, { frag: t }))
                            : ((t.trackId = r), n.push(t), e.nextFrag()))
                      })
                  }
                }),
                (t.prototype.onSubtitleTracksUpdated = function (e) {
                  var t = this
                  Ie.b.log('subtitle tracks updated'),
                    (this.tracks = e.subtitleTracks),
                    this.clearVttFragQueues(),
                    (this.vttFragSNsProcessed = {}),
                    this.tracks.forEach(function (e) {
                      t.vttFragSNsProcessed[e.id] = []
                    })
                }),
                (t.prototype.onSubtitleTrackSwitch = function (e) {
                  ;(this.currentTrackId = e.id), this.clearVttFragQueues()
                }),
                (t.prototype.onSubtitleTrackLoaded = function () {
                  this.tick()
                }),
                (t.prototype.onKeyLoaded = function () {
                  this.state === xr.KEY_LOADING &&
                    ((this.state = xr.IDLE), this.tick())
                }),
                (t.prototype.onFragLoaded = function (e) {
                  var t = this.fragCurrent,
                    r = e.frag.decryptdata,
                    i = e.frag,
                    n = this.hls
                  if (
                    this.state === xr.FRAG_LOADING &&
                    t &&
                    'subtitle' === e.frag.type &&
                    t.sn === e.frag.sn &&
                    e.payload.byteLength > 0 &&
                    null != r &&
                    null != r.key &&
                    'AES-128' === r.method
                  ) {
                    var a
                    try {
                      a = performance.now()
                    } catch (e) {
                      a = Date.now()
                    }
                    this.decrypter.decrypt(
                      e.payload,
                      r.key.buffer,
                      r.iv.buffer,
                      function (e) {
                        var t
                        try {
                          t = performance.now()
                        } catch (e) {
                          t = Date.now()
                        }
                        n.trigger(Pe.a.FRAG_DECRYPTED, {
                          frag: i,
                          payload: e,
                          stats: { tstart: a, tdecrypt: t },
                        })
                      }
                    )
                  }
                }),
                t
              )
            })(Ne),
            Cr = Ir,
            Mr = {
              autoStartLoad: !0,
              startPosition: -1,
              defaultAudioCodec: void 0,
              debug: !1,
              capLevelOnFPSDrop: !1,
              capLevelToPlayerSize: !1,
              initialLiveManifestSize: 1,
              maxBufferLength: 30,
              maxBufferSize: 6e7,
              maxBufferHole: 0.5,
              maxSeekHole: 2,
              lowBufferWatchdogPeriod: 0.5,
              highBufferWatchdogPeriod: 3,
              nudgeOffset: 0.1,
              nudgeMaxRetry: 3,
              maxFragLookUpTolerance: 0.25,
              liveSyncDurationCount: 3,
              liveMaxLatencyDurationCount: 1 / 0,
              liveSyncDuration: void 0,
              liveMaxLatencyDuration: void 0,
              liveDurationInfinity: !1,
              maxMaxBufferLength: 600,
              enableWorker: !0,
              enableSoftwareAES: !0,
              manifestLoadingTimeOut: 1e4,
              manifestLoadingMaxRetry: 1,
              manifestLoadingRetryDelay: 1e3,
              manifestLoadingMaxRetryTimeout: 64e3,
              startLevel: void 0,
              levelLoadingTimeOut: 1e4,
              levelLoadingMaxRetry: 4,
              levelLoadingRetryDelay: 1e3,
              levelLoadingMaxRetryTimeout: 64e3,
              fragLoadingTimeOut: 2e4,
              fragLoadingMaxRetry: 6,
              fragLoadingRetryDelay: 1e3,
              fragLoadingMaxRetryTimeout: 64e3,
              fragLoadingLoopThreshold: 3,
              startFragPrefetch: !1,
              fpsDroppedMonitoringPeriod: 5e3,
              fpsDroppedMonitoringThreshold: 0.2,
              appendErrorMaxRetry: 3,
              loader: Gt,
              fLoader: void 0,
              pLoader: void 0,
              xhrSetup: void 0,
              fetchSetup: void 0,
              abrController: Pt,
              bufferController: Ct,
              capLevelController: Ft,
              fpsController: Bt,
              stretchShortVideoTrack: !1,
              maxAudioFramesDrift: 1,
              forceKeyFrameOnDiscontinuity: !0,
              abrEwmaFastLive: 3,
              abrEwmaSlowLive: 9,
              abrEwmaFastVoD: 3,
              abrEwmaSlowVoD: 9,
              abrEwmaDefaultEstimate: 5e5,
              abrBandWidthFactor: 0.95,
              abrBandWidthUpFactor: 0.7,
              abrMaxWithRealBitrate: !1,
              maxStarvationDelay: 4,
              maxLoadingDelay: 4,
              minAutoBitrate: 0,
            }
          ;(Mr.subtitleStreamController = Cr),
            (Mr.subtitleTrackController = Lr),
            (Mr.timelineController = kr),
            (Mr.cueHandler = De),
            (Mr.enableCEA708Captions = !0),
            (Mr.enableWebVTT = !0),
            (Mr.captionsTextTrack1Label = 'English'),
            (Mr.captionsTextTrack1LanguageCode = 'en'),
            (Mr.captionsTextTrack2Label = 'Spanish'),
            (Mr.captionsTextTrack2LanguageCode = 'es'),
            (Mr.audioStreamController = Yt),
            (Mr.audioTrackController = Vt)
          var Nr = (function () {
              function e(e, t) {
                for (var r = 0; r < t.length; r++) {
                  var i = t[r]
                  ;(i.enumerable = i.enumerable || !1),
                    (i.configurable = !0),
                    'value' in i && (i.writable = !0),
                    Object.defineProperty(e, i.key, i)
                }
              }
              return function (t, r, i) {
                return r && e(t.prototype, r), i && e(t, i), t
              }
            })(),
            Fr = (function () {
              function e() {
                var t = this,
                  r =
                    arguments.length > 0 && void 0 !== arguments[0]
                      ? arguments[0]
                      : {}
                ke(this, e)
                var i = e.DefaultConfig
                if (
                  (r.liveSyncDurationCount ||
                    r.liveMaxLatencyDurationCount) &&
                  (r.liveSyncDuration || r.liveMaxLatencyDuration)
                )
                  throw new Error(
                    "Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration"
                  )
                for (var n in i) n in r || (r[n] = i[n])
                if (
                  void 0 !== r.liveMaxLatencyDurationCount &&
                  r.liveMaxLatencyDurationCount <= r.liveSyncDurationCount
                )
                  throw new Error(
                    'Illegal hls.js config: "liveMaxLatencyDurationCount" must be gt "liveSyncDurationCount"'
                  )
                if (
                  void 0 !== r.liveMaxLatencyDuration &&
                  (r.liveMaxLatencyDuration <= r.liveSyncDuration ||
                    void 0 === r.liveSyncDuration)
                )
                  throw new Error(
                    'Illegal hls.js config: "liveMaxLatencyDuration" must be gt "liveSyncDuration"'
                  )
                Object(Ie.a)(r.debug),
                  (this.config = r),
                  (this._autoLevelCapping = -1)
                var a = (this.observer = new st.a())
                ;(a.trigger = function (e) {
                  for (
                    var t = arguments.length,
                      r = Array(t > 1 ? t - 1 : 0),
                      i = 1;
                    i < t;
                    i++
                  )
                    r[i - 1] = arguments[i]
                  a.emit.apply(a, [e, e].concat(r))
                }),
                  (a.off = function (e) {
                    for (
                      var t = arguments.length,
                        r = Array(t > 1 ? t - 1 : 0),
                        i = 1;
                      i < t;
                      i++
                    )
                      r[i - 1] = arguments[i]
                    a.removeListener.apply(a, [e].concat(r))
                  }),
                  (this.on = a.on.bind(a)),
                  (this.off = a.off.bind(a)),
                  (this.trigger = a.trigger.bind(a))
                var o = (this.abrController = new r.abrController(this)),
                  s = new r.bufferController(this),
                  u = new r.capLevelController(this),
                  l = new r.fpsController(this),
                  c = new Xe(this),
                  d = new Je(this),
                  f = new et(this),
                  h = new St(this),
                  p = (this.levelController = new Et(this)),
                  v = (this.streamController = new mt(this)),
                  g = [p, v],
                  y = r.audioStreamController
                y && g.push(new y(this)), (this.networkControllers = g)
                var m = [c, d, f, o, s, u, l, h]
                if ((y = r.audioTrackController)) {
                  var _ = new y(this)
                  ;(this.audioTrackController = _), m.push(_)
                }
                if ((y = r.subtitleTrackController)) {
                  var b = new y(this)
                  ;(this.subtitleTrackController = b), m.push(b)
                }
                ;[
                  r.subtitleStreamController,
                  r.timelineController,
                ].forEach(function (e) {
                  e && m.push(new e(t))
                }),
                  (this.coreComponents = m)
              }
              return (
                (e.isSupported = function () {
                  return F()
                }),
                Nr(e, null, [
                  {
                    key: 'version',
                    get: function () {
                      return '0.8.8'
                    },
                  },
                  {
                    key: 'Events',
                    get: function () {
                      return Pe.a
                    },
                  },
                  {
                    key: 'ErrorTypes',
                    get: function () {
                      return xe.b
                    },
                  },
                  {
                    key: 'ErrorDetails',
                    get: function () {
                      return xe.a
                    },
                  },
                  {
                    key: 'DefaultConfig',
                    get: function () {
                      return e.defaultConfig ? e.defaultConfig : Mr
                    },
                    set: function (t) {
                      e.defaultConfig = t
                    },
                  },
                ]),
                (e.prototype.destroy = function () {
                  Ie.b.log('destroy'),
                    this.trigger(Pe.a.DESTROYING),
                    this.detachMedia(),
                    this.coreComponents
                      .concat(this.networkControllers)
                      .forEach(function (e) {
                        e.destroy()
                      }),
                    (this.url = null),
                    this.observer.removeAllListeners(),
                    (this._autoLevelCapping = -1)
                }),
                (e.prototype.attachMedia = function (e) {
                  Ie.b.log('attachMedia'),
                    (this.media = e),
                    this.trigger(Pe.a.MEDIA_ATTACHING, { media: e })
                }),
                (e.prototype.detachMedia = function () {
                  Ie.b.log('detachMedia'),
                    this.trigger(Pe.a.MEDIA_DETACHING),
                    (this.media = null)
                }),
                (e.prototype.loadSource = function (e) {
                  ;(e = Le.a.buildAbsoluteURL(window.location.href, e, {
                    alwaysNormalize: !0,
                  })),
                    Ie.b.log('loadSource:' + e),
                    (this.url = e),
                    this.trigger(Pe.a.MANIFEST_LOADING, { url: e })
                }),
                (e.prototype.startLoad = function () {
                  var e =
                    arguments.length > 0 && void 0 !== arguments[0]
                      ? arguments[0]
                      : -1
                  Ie.b.log('startLoad(' + e + ')'),
                    this.networkControllers.forEach(function (t) {
                      t.startLoad(e)
                    })
                }),
                (e.prototype.stopLoad = function () {
                  Ie.b.log('stopLoad'),
                    this.networkControllers.forEach(function (e) {
                      e.stopLoad()
                    })
                }),
                (e.prototype.swapAudioCodec = function () {
                  Ie.b.log('swapAudioCodec'),
                    this.streamController.swapAudioCodec()
                }),
                (e.prototype.recoverMediaError = function () {
                  Ie.b.log('recoverMediaError')
                  var e = this.media
                  this.detachMedia(), this.attachMedia(e)
                }),
                Nr(e, [
                  {
                    key: 'levels',
                    get: function () {
                      return this.levelController.levels
                    },
                  },
                  {
                    key: 'currentLevel',
                    get: function () {
                      return this.streamController.currentLevel
                    },
                    set: function (e) {
                      Ie.b.log('set currentLevel:' + e),
                        (this.loadLevel = e),
                        this.streamController.immediateLevelSwitch()
                    },
                  },
                  {
                    key: 'nextLevel',
                    get: function () {
                      return this.streamController.nextLevel
                    },
                    set: function (e) {
                      Ie.b.log('set nextLevel:' + e),
                        (this.levelController.manualLevel = e),
                        this.streamController.nextLevelSwitch()
                    },
                  },
                  {
                    key: 'loadLevel',
                    get: function () {
                      return this.levelController.level
                    },
                    set: function (e) {
                      Ie.b.log('set loadLevel:' + e),
                        (this.levelController.manualLevel = e)
                    },
                  },
                  {
                    key: 'nextLoadLevel',
                    get: function () {
                      return this.levelController.nextLoadLevel
                    },
                    set: function (e) {
                      this.levelController.nextLoadLevel = e
                    },
                  },
                  {
                    key: 'firstLevel',
                    get: function () {
                      return Math.max(
                        this.levelController.firstLevel,
                        this.minAutoLevel
                      )
                    },
                    set: function (e) {
                      Ie.b.log('set firstLevel:' + e),
                        (this.levelController.firstLevel = e)
                    },
                  },
                  {
                    key: 'startLevel',
                    get: function () {
                      return this.levelController.startLevel
                    },
                    set: function (e) {
                      Ie.b.log('set startLevel:' + e)
                      var t = this
                      ;-1 !== e && (e = Math.max(e, t.minAutoLevel)),
                        (t.levelController.startLevel = e)
                    },
                  },
                  {
                    key: 'autoLevelCapping',
                    get: function () {
                      return this._autoLevelCapping
                    },
                    set: function (e) {
                      Ie.b.log('set autoLevelCapping:' + e),
                        (this._autoLevelCapping = e)
                    },
                  },
                  {
                    key: 'autoLevelEnabled',
                    get: function () {
                      return -1 === this.levelController.manualLevel
                    },
                  },
                  {
                    key: 'manualLevel',
                    get: function () {
                      return this.levelController.manualLevel
                    },
                  },
                  {
                    key: 'minAutoLevel',
                    get: function () {
                      for (
                        var e = this,
                          t = e.levels,
                          r = e.config.minAutoBitrate,
                          i = t ? t.length : 0,
                          n = 0;
                        n < i;
                        n++
                      ) {
                        if (
                          (t[n].realBitrate
                            ? Math.max(t[n].realBitrate, t[n].bitrate)
                            : t[n].bitrate) > r
                        )
                          return n
                      }
                      return 0
                    },
                  },
                  {
                    key: 'maxAutoLevel',
                    get: function () {
                      var e = this,
                        t = e.levels,
                        r = e.autoLevelCapping
                      return -1 === r && t && t.length ? t.length - 1 : r
                    },
                  },
                  {
                    key: 'nextAutoLevel',
                    get: function () {
                      var e = this
                      return Math.min(
                        Math.max(
                          e.abrController.nextAutoLevel,
                          e.minAutoLevel
                        ),
                        e.maxAutoLevel
                      )
                    },
                    set: function (e) {
                      var t = this
                      t.abrController.nextAutoLevel = Math.max(
                        t.minAutoLevel,
                        e
                      )
                    },
                  },
                  {
                    key: 'audioTracks',
                    get: function () {
                      var e = this.audioTrackController
                      return e ? e.audioTracks : []
                    },
                  },
                  {
                    key: 'audioTrack',
                    get: function () {
                      var e = this.audioTrackController
                      return e ? e.audioTrack : -1
                    },
                    set: function (e) {
                      var t = this.audioTrackController
                      t && (t.audioTrack = e)
                    },
                  },
                  {
                    key: 'liveSyncPosition',
                    get: function () {
                      return this.streamController.liveSyncPosition
                    },
                  },
                  {
                    key: 'subtitleTracks',
                    get: function () {
                      var e = this.subtitleTrackController
                      return e ? e.subtitleTracks : []
                    },
                  },
                  {
                    key: 'subtitleTrack',
                    get: function () {
                      var e = this.subtitleTrackController
                      return e ? e.subtitleTrack : -1
                    },
                    set: function (e) {
                      var t = this.subtitleTrackController
                      t && (t.subtitleTrack = e)
                    },
                  },
                  {
                    key: 'subtitleDisplay',
                    get: function () {
                      var e = this.subtitleTrackController
                      return !!e && e.subtitleDisplay
                    },
                    set: function (e) {
                      var t = this.subtitleTrackController
                      t && (t.subtitleDisplay = e)
                    },
                  },
                ]),
                e
              )
            })()
          t.default = Fr
        },
        function (e, t, r) {
          function i(e) {
            function t(i) {
              if (r[i]) return r[i].exports
              var n = (r[i] = { i: i, l: !1, exports: {} })
              return (
                e[i].call(n.exports, n, n.exports, t),
                (n.l = !0),
                n.exports
              )
            }
            var r = {}
            ;(t.m = e),
              (t.c = r),
              (t.i = function (e) {
                return e
              }),
              (t.d = function (e, r, i) {
                t.o(e, r) ||
                  Object.defineProperty(e, r, {
                    configurable: !1,
                    enumerable: !0,
                    get: i,
                  })
              }),
              (t.n = function (e) {
                var r =
                  e && e.__esModule
                    ? function () {
                        return e.default
                      }
                    : function () {
                        return e
                      }
                return t.d(r, 'a', r), r
              }),
              (t.o = function (e, t) {
                return Object.prototype.hasOwnProperty.call(e, t)
              }),
              (t.p = '/'),
              (t.oe = function (e) {
                throw (console.error(e), e)
              })
            var i = t((t.s = ENTRY_MODULE))
            return i.default || i
          }
          function n(e) {
            return (e + '').replace(/[.?*+^$[\]\\(){}|-]/g, '\\$&')
          }
          function a(e) {
            var t = [],
              r = e.toString(),
              i = r.match(/^function\s?\(\w+,\s*\w+,\s*(\w+)\)/)
            if (!i) return t
            for (
              var a,
                o = i[1],
                s = new RegExp(
                  '(\\\\n|\\W)' +
                    n(o) +
                    '\\((/\\*.*?\\*/)?s?.*?([\\.|\\-|\\w|/|@]+).*?\\)',
                  'g'
                );
              (a = s.exec(r));

            )
              t.push(a[3])
            return t
          }
          function o(e, t) {
            for (var r = [t], i = [], n = {}; r.length; ) {
              var o = r.pop()
              if (!n[o] && e[o]) {
                ;(n[o] = !0), i.push(o)
                var s = a(e[o])
                r = r.concat(s)
              }
            }
            return i
          }
          e.exports = function (e, t) {
            t = t || {}
            var n = r.m,
              a = t.all ? Object.keys(n) : o(n, e),
              s =
                '(' +
                i.toString().replace('ENTRY_MODULE', JSON.stringify(e)) +
                ')({' +
                a
                  .map(function (e) {
                    return JSON.stringify(e) + ': ' + n[e].toString()
                  })
                  .join(',') +
                '})(self);',
              u = new window.Blob([s], { type: 'text/javascript' })
            if (t.bare) return u
            var l =
                window.URL ||
                window.webkitURL ||
                window.mozURL ||
                window.msURL,
              c = l.createObjectURL(u),
              d = new window.Worker(c)
            return (d.objectURL = c), d
          }
        },
        function (e, t, r) {
          'use strict'
          Object.defineProperty(t, '__esModule', { value: !0 })
          var i = r(7),
            n = r(1),
            a = r(0),
            o = r(5),
            s = r.n(o),
            u = function (e) {
              var t = new s.a()
              ;(t.trigger = function (e) {
                for (
                  var r = arguments.length,
                    i = Array(r > 1 ? r - 1 : 0),
                    n = 1;
                  n < r;
                  n++
                )
                  i[n - 1] = arguments[n]
                t.emit.apply(t, [e, e].concat(i))
              }),
                (t.off = function (e) {
                  for (
                    var r = arguments.length,
                      i = Array(r > 1 ? r - 1 : 0),
                      n = 1;
                    n < r;
                    n++
                  )
                    i[n - 1] = arguments[n]
                  t.removeListener.apply(t, [e].concat(i))
                })
              var r = function (t, r) {
                e.postMessage({ event: t, data: r })
              }
              e.addEventListener('message', function (n) {
                var o = n.data
                switch (o.cmd) {
                  case 'init':
                    var s = JSON.parse(o.config)
                    e.demuxer = new i.a(t, o.typeSupported, s, o.vendor)
                    try {
                      Object(a.a)(!0 === s.debug)
                    } catch (e) {
                      console.warn('demuxerWorker: unable to enable logs')
                    }
                    r('init', null)
                    break
                  case 'demux':
                    e.demuxer.push(
                      o.data,
                      o.decryptdata,
                      o.initSegment,
                      o.audioCodec,
                      o.videoCodec,
                      o.timeOffset,
                      o.discontinuity,
                      o.trackSwitch,
                      o.contiguous,
                      o.duration,
                      o.accurateTimeOffset,
                      o.defaultInitPTS
                    )
                }
              }),
                t.on(n.a.FRAG_DECRYPTED, r),
                t.on(n.a.FRAG_PARSING_INIT_SEGMENT, r),
                t.on(n.a.FRAG_PARSED, r),
                t.on(n.a.ERROR, r),
                t.on(n.a.FRAG_PARSING_METADATA, r),
                t.on(n.a.FRAG_PARSING_USERDATA, r),
                t.on(n.a.INIT_PTS_FOUND, r),
                t.on(n.a.FRAG_PARSING_DATA, function (t, r) {
                  var i = [],
                    n = { event: t, data: r }
                  r.data1 &&
                    ((n.data1 = r.data1.buffer),
                    i.push(r.data1.buffer),
                    delete r.data1),
                    r.data2 &&
                      ((n.data2 = r.data2.buffer),
                      i.push(r.data2.buffer),
                      delete r.data2),
                    e.postMessage(n, i)
                })
            }
          t.default = u
        },
      ]).default
    })
  },
  function (e, t, r) {
    'use strict'
    function i(e) {
      if (e && e.__esModule) return e
      var t = {}
      if (null != e)
        for (var r in e)
          Object.prototype.hasOwnProperty.call(e, r) && (t[r] = e[r])
      return (t.default = e), t
    }
    function n(e) {
      return e && e.__esModule ? e : { default: e }
    }
    Object.defineProperty(t, '__esModule', { value: !0 })
    var a = r(130),
      o = n(a),
      s = r(31),
      u = n(s),
      l = r(146),
      c = n(l),
      d = r(0),
      f = n(d),
      h = r(1),
      p = n(h),
      v = r(149),
      g = n(v),
      y = r(150),
      m = n(y),
      _ = r(22),
      b = r(151),
      E = n(b),
      w = r(38),
      T = r(30),
      S = i(T),
      A = r(155),
      R = n(A),
      k = r(6),
      D = r(159),
      O = n(D),
      L = r(160),
      P = i(L),
      x = r(161),
      I = n(x),
      C = r(3),
      M = n(C),
      N = r(82),
      F = n(N),
      U = r(58),
      B = n(U),
      j = r(163),
      G = i(j),
      H = r(164),
      q = n(H),
      V = r(166),
      K = r(174),
      z = n(K),
      W = r(180),
      Y = n(W),
      Q = r(10),
      X = r(23),
      $ = n(X),
      J = r(7),
      Z = i(J),
      ee = (function () {
        function e(t, r, i) {
          ;(0, f.default)(this, e),
            (this.logger =
              M.default.createTaggedLoggers('PlayerController')),
            (this.playerConfiguration = new q.default(r)),
            (this.playerStore = (0, V.createPlayerStore)(
              (0, V.getInitialState)(this.playerConfiguration)
            )),
            (this.rootContainer = t),
            (this.eventDispatcher = i),
            (this.rootView = null),
            (this.currentPlayback = null),
            (this.resizeObserver = null),
            (this.storeObservers = []),
            (this.daiStream = null),
            (this.fullscreen = new I.default()),
            this.addListeners(),
            this.render(this.rootContainer),
            this.bootstrap()
        }
        return (
          (0, p.default)(e, [
            {
              key: 'addListeners',
              value: function () {
                var e = this
                ;(this.resizeObserver = new m.default(function (t) {
                  var r = !0,
                    i = !1,
                    n = void 0
                  try {
                    for (
                      var a, o = (0, c.default)(t);
                      !(r = (a = o.next()).done);
                      r = !0
                    ) {
                      var s = a.value,
                        u = s.contentRect,
                        l = u.width,
                        d = u.height
                      e.playerStore.dispatch(
                        (0, _.setDimensions)({ width: l, height: d })
                      )
                    }
                  } catch (e) {
                    ;(i = !0), (n = e)
                  } finally {
                    try {
                      !r && o.return && o.return()
                    } finally {
                      if (i) throw n
                    }
                  }
                })),
                  this.resizeObserver.observe(this.rootContainer),
                  this.addObserver(Q.getInitState, function (t, r) {
                    !0 === t &&
                      (r(),
                      !0 ===
                        (0, Q.getAutoPlayState)(
                          e.playerStore.getState()
                        ) && e.start())
                  }),
                  this.addObserver(Q.isUserInitPlayback, function (t, r) {
                    !0 === t && (r(), e.start())
                  }),
                  this.addObserver(Q.isPlaybackReady, function (t, r) {
                    !0 === t && (r(), e.currentPlayback.play())
                  }),
                  this.addObserver(Q.getBufferingState, function (t) {
                    null !== t &&
                      e.eventDispatcher.emit(
                        P.BUFFERING_STATE_DID_CHANGE,
                        t
                      )
                  }),
                  this.addObserver(Q.getFullScreenState, function (t) {
                    null !== t &&
                      e.eventDispatcher.emit(
                        P.FULL_SCREEN_STATE_DID_CHANGE,
                        t
                      )
                  }),
                  this.addObserver(Q.getPlaybackType, function (t) {
                    e.eventDispatcher.emit(P.PLAYBACK_TYPE_DID_CHANGE, t)
                  }),
                  this.addObserver(Q.getMediaState, function (t) {
                    null !== t &&
                      e.eventDispatcher.emit(P.MEDIA_STATE_DID_CHANGE, t)
                  }),
                  this.addObserver(Q.getSeekingState, function (t) {
                    null !== t &&
                      e.eventDispatcher.emit(P.SEEKING_STATE_DID_CHANGE, t)
                  }),
                  this.addObserver(Q.getError, function (t) {
                    null !== t &&
                      (e.playerStore.dispatch((0, _.setBusyState)(!0)),
                      !0 === t.fatal &&
                        (e.dispose(),
                        (e.rootView = new O.default(e.playerStore)),
                        e.rootView.attachTo(e.rootContainer)),
                      e.eventDispatcher.emit(P.ERROR_DID_OCCUR, {
                        handled: !t.fatal,
                      }))
                  })
              },
            },
            {
              key: 'addObserver',
              value: function (e, t) {
                this.storeObservers.push(
                  (0, $.default)(this.playerStore, e, t)
                )
              },
            },
            {
              key: 'bootstrap',
              value: function () {
                var e = this
                u.default
                  .all([this.initSdkIfNeeded(), this.checkAutoPlay()])
                  .then(function () {
                    return e.playerStore.dispatch((0, _.setInitState)(!0))
                  }),
                  this.initFullScreen()
              },
            },
            {
              key: 'checkAutoPlay',
              value: function () {
                var e = this
                return u.default.resolve().then(function () {
                  var t = e.playerStore.getState()
                  if (null === (0, Q.getAutoPlayState)(t))
                    return g.default
                      .video({ muted: (0, Q.isVolumeMute)(t) })
                      .then(function (t) {
                        var r = t.result
                        t.error
                        e.playerStore.dispatch((0, _.setAutoPlayState)(r))
                      })
                })
              },
            },
            {
              key: 'createAdCustomParameters',
              value: function (e, t) {
                var r = this.playerStore.getState(),
                  i = this.rootView.getView(),
                  n = i.clientWidth,
                  a = i.clientHeight,
                  s = (0, w.getLocation)(),
                  u = s.hostname
                return (0, o.default)({}, t, {
                  autoPlay: (0, Q.getAutoPlayState)(r),
                  embedHost: u,
                  tiny: n <= S.AD_TINY_WIDTH || a <= S.AD_TINY_HEIGHT,
                  videoAdType: e,
                })
              },
            },
            {
              key: 'dispose',
              value: function () {
                null !== this.daiStream &&
                  (this.daiStream.dispose(), (this.daiStream = null)),
                  null !== this.currentPlayback &&
                    (this.currentPlayback.dispose(),
                    (this.currentPlayback = null)),
                  null !== this.fullscreen &&
                    (this.fullscreen.dispose(), (this.fullscreen = null)),
                  null !== this.rootView &&
                    (this.rootView.dispose(), (this.rootView = null)),
                  null !== this.resizeObserver &&
                    (this.resizeObserver.disconnect(),
                    (this.resizeObserver = null)),
                  null !== this.storeObservers &&
                    (this.storeObservers.forEach(function (e) {
                      return e()
                    }),
                    (this.storeObservers = null)),
                  F.default.sharedInstance().dispose()
              },
            },
            {
              key: 'initFullScreen',
              value: function () {
                var e = this
                this.fullscreen.initWithContextView(
                  this.rootView.querySelector(
                    (0, k.createCssClassSelector)(Z.VIDEO_ELEMENT)
                  ),
                  function (t) {
                    return e.playerStore.dispatch(
                      (0, _.setFullScreenState)(t)
                    )
                  }
                )
              },
            },
            {
              key: 'initSdkIfNeeded',
              value: function () {
                var e = this
                return u.default
                  .resolve()
                  .then(function () {
                    var t = e.playerStore.getState(),
                      r = e.playerConfiguration.getMuxApiKey()
                    null === r && (r = S.MUX_PRODUCTION_KEY),
                      F.default
                        .sharedInstance()
                        .monitor(
                          r,
                          e.rootView.querySelector(
                            (0, k.createCssClassSelector)(Z.VIDEO_ELEMENT)
                          ),
                          (0, Q.isLiveContent)(t),
                          (0, Q.getMediaUrl)(t),
                          e.playerConfiguration.getMuxSampleRate(),
                          e.playerConfiguration.getExperiments(),
                          !1
                        )
                  })
                  .then(function () {
                    if (!0 === e.playerConfiguration.isAdvertEnabled())
                      return u.default
                        .all([
                          new Y.default(S.SDK_IMA_URL).loadIfNeeded(),
                          new Y.default(S.SDK_IMA_DAI_URL).loadIfNeeded(),
                        ])
                        .then(
                          function () {
                            var t = (0, Q.getAdDaiAccessKey)(
                              e.playerStore.getState()
                            )
                            return (
                              e.playerStore.dispatch(
                                (0, _.setSdkReady)(!0)
                              ),
                              u.default
                                .resolve()
                                .then(function () {
                                  return null === t
                                    ? u.default.reject(
                                        new Error(
                                          'DAI Access Key is not available. Playback should fallback to HLS media.'
                                        )
                                      )
                                    : !1 ===
                                      e.playerConfiguration.isLiveContent()
                                    ? u.default.reject(
                                        new Error(
                                          'DAI has been disabled. Content is VOD.'
                                        )
                                      )
                                    : void 0
                                })
                                .then(function () {
                                  return (
                                    (e.daiStream = new R.default(
                                      e.rootView
                                    )),
                                    e.daiStream.load(
                                      t,
                                      e.createAdCustomParameters(
                                        S.AD_TYPE_MID_ROLL,
                                        (0, Q.getAdExtraParams)(
                                          e.playerStore.getState()
                                        )
                                      )
                                    )
                                  )
                                })
                                .then(function (t) {
                                  return e.playerStore.dispatch(
                                    (0, _.setPlaybackUrl)(t)
                                  )
                                })
                                .catch(function (e) {})
                            )
                          },
                          function (t) {
                            e.playerStore.dispatch((0, _.setSdkReady)(!1))
                          }
                        )
                  })
                  .then(function () {
                    var t = e.playerStore.getState()
                    null === (0, Q.getPlaybackUrl)(t) &&
                      e.playerStore.dispatch(
                        (0, _.setPlaybackUrl)((0, Q.getMediaUrl)(t))
                      )
                  })
              },
            },
            {
              key: 'getBufferingState',
              value: function () {
                return (0, Q.getBufferingState)(
                  this.playerStore.getState()
                )
              },
            },
            {
              key: 'getCurrentTime',
              value: function () {
                return (0, Q.getCurrentTime)(this.playerStore.getState())
              },
            },
            {
              key: 'getDuration',
              value: function () {
                return (0, Q.getDuration)(this.playerStore.getState())
              },
            },
            {
              key: 'getFullScreenState',
              value: function () {
                return (0, Q.getFullScreenState)(
                  this.playerStore.getState()
                )
              },
            },
            {
              key: 'getMediaUrl',
              value: function () {
                return (0, Q.getMediaUrl)(this.playerStore.getState())
              },
            },
            {
              key: 'getPlaybackType',
              value: function () {
                return (0, Q.getPlaybackType)(this.playerStore.getState())
              },
            },
            {
              key: 'getSeekingState',
              value: function () {
                return (0, Q.getSeekingState)(this.playerStore.getState())
              },
            },
            {
              key: 'pause',
              value: function () {
                null !== this.currentPlayback &&
                  this.currentPlayback.pause()
              },
            },
            {
              key: 'play',
              value: function () {
                null === this.currentPlayback
                  ? !0 ===
                      (0, Q.getInitState)(this.playerStore.getState()) &&
                    this.playerStore.dispatch(
                      (0, _.setUserInitPlayback)(!0)
                    )
                  : this.currentPlayback.play()
              },
            },
            {
              key: 'render',
              value: function (e) {
                ;(this.rootView = new z.default(this.playerStore)),
                  this.rootView.attachTo(e)
              },
            },
            {
              key: 'setPlaybackImplementation',
              value: function (e) {
                null !== this.currentPlayback &&
                  (this.currentPlayback.dispose(),
                  (this.currentPlayback = null)),
                  null !== this.rootView &&
                    ((this.currentPlayback = e),
                    this.currentPlayback.attachRootView(this.rootView),
                    this.currentPlayback.attachStore(this.playerStore),
                    this.currentPlayback.load(),
                    this.playerStore.dispatch(
                      (0, _.setPlaybackType)(G.CONTENT)
                    ))
              },
            },
            {
              key: 'setThumbnail',
              value: function (e) {
                this.playerStore.dispatch((0, _.setThumbnailUrl)(e))
              },
            },
            {
              key: 'start',
              value: function () {
                var e = this,
                  t = this.playerStore.getState(),
                  r = new B.default(),
                  i = { dai: null !== this.daiStream }
                !0 === (0, Q.getSdkState)(t)
                  ? ((this.currentPlayback = new E.default(
                      this.rootView,
                      this.playerStore
                    )),
                    this.playerStore.dispatch(
                      (0, _.setPlaybackType)(G.ADVERTISEMENT)
                    ),
                    this.currentPlayback
                      .initWithDfpCredentials({
                        adType: S.AD_TYPE_PRE_ROLL,
                        networkCode: (0, Q.getAdNetworkCode)(t),
                        unit: (0, Q.getAdUnit)(t),
                        customParams: this.createAdCustomParameters(
                          S.AD_TYPE_PRE_ROLL,
                          (0, Q.getAdExtraParams)(t)
                        ),
                      })
                      .catch(function (e) {})
                      .then(function () {
                        return e.setPlaybackImplementation(
                          r.createPlayback(i)
                        )
                      }))
                  : this.setPlaybackImplementation(r.createPlayback(i))
              },
            },
          ]),
          e
        )
      })()
    t.default = ee
  },
  function (e, t, r) {
    e.exports = { default: r(131), __esModule: !0 }
  },
  function (e, t, r) {
    r(132), (e.exports = r(2).Object.assign)
  },
  function (e, t, r) {
    var i = r(11)
    i(i.S + i.F, 'Object', { assign: r(133) })
  },
  function (e, t, r) {
    'use strict'
    var i = r(28),
      n = r(53),
      a = r(36),
      o = r(42),
      s = r(65),
      u = Object.assign
    e.exports =
      !u ||
      r(21)(function () {
        var e = {},
          t = {},
          r = Symbol(),
          i = 'abcdefghijklmnopqrst'
        return (
          (e[r] = 7),
          i.split('').forEach(function (e) {
            t[e] = e
          }),
          7 != u({}, e)[r] || Object.keys(u({}, t)).join('') != i
        )
      })
        ? function (e, t) {
            for (
              var r = o(e), u = arguments.length, l = 1, c = n.f, d = a.f;
              u > l;

            )
              for (
                var f,
                  h = s(arguments[l++]),
                  p = c ? i(h).concat(c(h)) : i(h),
                  v = p.length,
                  g = 0;
                v > g;

              )
                d.call(h, (f = p[g++])) && (r[f] = h[f])
            return r
          }
        : u
  },
  function (e, t, r) {
    r(69), r(46), r(50), r(135), (e.exports = r(2).Promise)
  },
  function (e, t, r) {
    'use strict'
    var i,
      n,
      a,
      o = r(34),
      s = r(5),
      u = r(25),
      l = r(73),
      c = r(11),
      d = r(20),
      f = r(39),
      h = r(136),
      p = r(137),
      v = r(140),
      g = r(75).set,
      y = r(142)(),
      m = s.TypeError,
      _ = s.process,
      b = s.Promise,
      _ = s.process,
      E = 'process' == l(_),
      w = function () {},
      T = !!(function () {
        try {
          var e = b.resolve(1),
            t = ((e.constructor = {})[r(4)('species')] = function (e) {
              e(w, w)
            })
          return (
            (E || 'function' == typeof PromiseRejectionEvent) &&
            e.then(w) instanceof t
          )
        } catch (e) {}
      })(),
      S = function (e, t) {
        return e === t || (e === b && t === a)
      },
      A = function (e) {
        var t
        return !(!d(e) || 'function' != typeof (t = e.then)) && t
      },
      R = function (e) {
        return S(b, e) ? new k(e) : new n(e)
      },
      k = (n = function (e) {
        var t, r
        ;(this.promise = new e(function (e, i) {
          if (void 0 !== t || void 0 !== r)
            throw m('Bad Promise constructor')
          ;(t = e), (r = i)
        })),
          (this.resolve = f(t)),
          (this.reject = f(r))
      }),
      D = function (e) {
        try {
          e()
        } catch (e) {
          return { error: e }
        }
      },
      O = function (e, t) {
        if (!e._n) {
          e._n = !0
          var r = e._c
          y(function () {
            for (var i = e._v, n = 1 == e._s, a = 0; r.length > a; )
              !(function (t) {
                var r,
                  a,
                  o = n ? t.ok : t.fail,
                  s = t.resolve,
                  u = t.reject,
                  l = t.domain
                try {
                  o
                    ? (n || (2 == e._h && x(e), (e._h = 1)),
                      !0 === o
                        ? (r = i)
                        : (l && l.enter(), (r = o(i)), l && l.exit()),
                      r === t.promise
                        ? u(m('Promise-chain cycle'))
                        : (a = A(r))
                        ? a.call(r, s, u)
                        : s(r))
                    : u(i)
                } catch (e) {
                  u(e)
                }
              })(r[a++])
            ;(e._c = []), (e._n = !1), t && !e._h && L(e)
          })
        }
      },
      L = function (e) {
        g.call(s, function () {
          var t,
            r,
            i,
            n = e._v
          if (
            (P(e) &&
              ((t = D(function () {
                E
                  ? _.emit('unhandledRejection', n, e)
                  : (r = s.onunhandledrejection)
                  ? r({ promise: e, reason: n })
                  : (i = s.console) &&
                    i.error &&
                    i.error('Unhandled promise rejection', n)
              })),
              (e._h = E || P(e) ? 2 : 1)),
            (e._a = void 0),
            t)
          )
            throw t.error
        })
      },
      P = function (e) {
        if (1 == e._h) return !1
        for (var t, r = e._a || e._c, i = 0; r.length > i; )
          if (((t = r[i++]), t.fail || !P(t.promise))) return !1
        return !0
      },
      x = function (e) {
        g.call(s, function () {
          var t
          E
            ? _.emit('rejectionHandled', e)
            : (t = s.onrejectionhandled) && t({ promise: e, reason: e._v })
        })
      },
      I = function (e) {
        var t = this
        t._d ||
          ((t._d = !0),
          (t = t._w || t),
          (t._v = e),
          (t._s = 2),
          t._a || (t._a = t._c.slice()),
          O(t, !0))
      },
      C = function (e) {
        var t,
          r = this
        if (!r._d) {
          ;(r._d = !0), (r = r._w || r)
          try {
            if (r === e) throw m("Promise can't be resolved itself")
            ;(t = A(e))
              ? y(function () {
                  var i = { _w: r, _d: !1 }
                  try {
                    t.call(e, u(C, i, 1), u(I, i, 1))
                  } catch (e) {
                    I.call(i, e)
                  }
                })
              : ((r._v = e), (r._s = 1), O(r, !1))
          } catch (e) {
            I.call({ _w: r, _d: !1 }, e)
          }
        }
      }
    T ||
      ((b = function (e) {
        h(this, b, 'Promise', '_h'), f(e), i.call(this)
        try {
          e(u(C, this, 1), u(I, this, 1))
        } catch (e) {
          I.call(this, e)
        }
      }),
      (i = function (e) {
        ;(this._c = []),
          (this._a = void 0),
          (this._s = 0),
          (this._d = !1),
          (this._v = void 0),
          (this._h = 0),
          (this._n = !1)
      }),
      (i.prototype = r(143)(b.prototype, {
        then: function (e, t) {
          var r = R(v(this, b))
          return (
            (r.ok = 'function' != typeof e || e),
            (r.fail = 'function' == typeof t && t),
            (r.domain = E ? _.domain : void 0),
            this._c.push(r),
            this._a && this._a.push(r),
            this._s && O(this, !1),
            r.promise
          )
        },
        catch: function (e) {
          return this.then(void 0, e)
        },
      })),
      (k = function () {
        var e = new i()
        ;(this.promise = e),
          (this.resolve = u(C, e, 1)),
          (this.reject = u(I, e, 1))
      })),
      c(c.G + c.W + c.F * !T, { Promise: b }),
      r(35)(b, 'Promise'),
      r(144)('Promise'),
      (a = r(2).Promise),
      c(c.S + c.F * !T, 'Promise', {
        reject: function (e) {
          var t = R(this)
          return (0, t.reject)(e), t.promise
        },
      }),
      c(c.S + c.F * (o || !T), 'Promise', {
        resolve: function (e) {
          if (e instanceof b && S(e.constructor, this)) return e
          var t = R(this)
          return (0, t.resolve)(e), t.promise
        },
      }),
      c(
        c.S +
          c.F *
            !(
              T &&
              r(145)(function (e) {
                b.all(e).catch(w)
              })
            ),
        'Promise',
        {
          all: function (e) {
            var t = this,
              r = R(t),
              i = r.resolve,
              n = r.reject,
              a = D(function () {
                var r = [],
                  a = 0,
                  o = 1
                p(e, !1, function (e) {
                  var s = a++,
                    u = !1
                  r.push(void 0),
                    o++,
                    t.resolve(e).then(function (e) {
                      u || ((u = !0), (r[s] = e), --o || i(r))
                    }, n)
                }),
                  --o || i(r)
              })
            return a && n(a.error), r.promise
          },
          race: function (e) {
            var t = this,
              r = R(t),
              i = r.reject,
              n = D(function () {
                p(e, !1, function (e) {
                  t.resolve(e).then(r.resolve, i)
                })
              })
            return n && i(n.error), r.promise
          },
        }
      )
  },
  function (e, t) {
    e.exports = function (e, t, r, i) {
      if (!(e instanceof t) || (void 0 !== i && i in e))
        throw TypeError(r + ': incorrect invocation!')
      return e
    }
  },
  function (e, t, r) {
    var i = r(25),
      n = r(138),
      a = r(139),
      o = r(8),
      s = r(66),
      u = r(74),
      l = {},
      c = {},
      t = (e.exports = function (e, t, r, d, f) {
        var h,
          p,
          v,
          g,
          y = f
            ? function () {
                return e
              }
            : u(e),
          m = i(r, d, t ? 2 : 1),
          _ = 0
        if ('function' != typeof y)
          throw TypeError(e + ' is not iterable!')
        if (a(y)) {
          for (h = s(e.length); h > _; _++)
            if (
              (g = t ? m(o((p = e[_]))[0], p[1]) : m(e[_])) === l ||
              g === c
            )
              return g
        } else
          for (v = y.call(e); !(p = v.next()).done; )
            if ((g = n(v, m, p.value, t)) === l || g === c) return g
      })
    ;(t.BREAK = l), (t.RETURN = c)
  },
  function (e, t, r) {
    var i = r(8)
    e.exports = function (e, t, r, n) {
      try {
        return n ? t(i(r)[0], r[1]) : t(r)
      } catch (t) {
        var a = e.return
        throw (void 0 !== a && i(a.call(e)), t)
      }
    }
  },
  function (e, t, r) {
    var i = r(27),
      n = r(4)('iterator'),
      a = Array.prototype
    e.exports = function (e) {
      return void 0 !== e && (i.Array === e || a[n] === e)
    }
  },
  function (e, t, r) {
    var i = r(8),
      n = r(39),
      a = r(4)('species')
    e.exports = function (e, t) {
      var r,
        o = i(e).constructor
      return void 0 === o || void 0 == (r = i(o)[a]) ? t : n(r)
    }
  },
  function (e, t) {
    e.exports = function (e, t, r) {
      var i = void 0 === r
      switch (t.length) {
        case 0:
          return i ? e() : e.call(r)
        case 1:
          return i ? e(t[0]) : e.call(r, t[0])
        case 2:
          return i ? e(t[0], t[1]) : e.call(r, t[0], t[1])
        case 3:
          return i ? e(t[0], t[1], t[2]) : e.call(r, t[0], t[1], t[2])
        case 4:
          return i
            ? e(t[0], t[1], t[2], t[3])
            : e.call(r, t[0], t[1], t[2], t[3])
      }
      return e.apply(r, t)
    }
  },
  function (e, t, r) {
    var i = r(5),
      n = r(75).set,
      a = i.MutationObserver || i.WebKitMutationObserver,
      o = i.process,
      s = i.Promise,
      u = 'process' == r(29)(o)
    e.exports = function () {
      var e,
        t,
        r,
        l = function () {
          var i, n
          for (u && (i = o.domain) && i.exit(); e; ) {
            ;(n = e.fn), (e = e.next)
            try {
              n()
            } catch (i) {
              throw (e ? r() : (t = void 0), i)
            }
          }
          ;(t = void 0), i && i.enter()
        }
      if (u)
        r = function () {
          o.nextTick(l)
        }
      else if (a) {
        var c = !0,
          d = document.createTextNode('')
        new a(l).observe(d, { characterData: !0 }),
          (r = function () {
            d.data = c = !c
          })
      } else if (s && s.resolve) {
        var f = s.resolve()
        r = function () {
          f.then(l)
        }
      } else
        r = function () {
          n.call(i, l)
        }
      return function (i) {
        var n = { fn: i, next: void 0 }
        t && (t.next = n), e || ((e = n), r()), (t = n)
      }
    }
  },
  function (e, t, r) {
    var i = r(17)
    e.exports = function (e, t, r) {
      for (var n in t) r && e[n] ? (e[n] = t[n]) : i(e, n, t[n])
      return e
    }
  },
  function (e, t, r) {
    'use strict'
    var i = r(5),
      n = r(2),
      a = r(12),
      o = r(13),
      s = r(4)('species')
    e.exports = function (e) {
      var t = 'function' == typeof n[e] ? n[e] : i[e]
      o &&
        t &&
        !t[s] &&
        a.f(t, s, {
          configurable: !0,
          get: function () {
            return this
          },
        })
    }
  },
  function (e, t, r) {
    var i = r(4)('iterator'),
      n = !1
    try {
      var a = [7][i]()
      ;(a.return = function () {
        n = !0
      }),
        Array.from(a, function () {
          throw 2
        })
    } catch (e) {}
    e.exports = function (e, t) {
      if (!t && !n) return !1
      var r = !1
      try {
        var a = [7],
          o = a[i]()
        ;(o.next = function () {
          return { done: (r = !0) }
        }),
          (a[i] = function () {
            return o
          }),
          e(a)
      } catch (e) {}
      return r
    }
  },
  function (e, t, r) {
    e.exports = { default: r(147), __esModule: !0 }
  },
  function (e, t, r) {
    r(50), r(46), (e.exports = r(148))
  },
  function (e, t, r) {
    var i = r(8),
      n = r(74)
    e.exports = r(2).getIterator = function (e) {
      var t = n(e)
      if ('function' != typeof t) throw TypeError(e + ' is not iterable!')
      return i(t.call(e))
    }
  },
  function (e, t, r) {
    'use strict'
    function i(e) {
      return Object.assign({ muted: !1, timeout: 250, inline: !1 }, e)
    }
    function n(e, t) {
      var r = e.muted,
        i = e.timeout,
        n = e.inline,
        a = t(),
        o = a.element,
        s = a.source,
        u = void 0,
        l = void 0,
        c = void 0
      return (
        (o.muted = r),
        !0 === r && o.setAttribute('muted', 'muted'),
        !0 === n && o.setAttribute('playsinline', 'playsinline'),
        (o.src = s),
        new Promise(function (e) {
          ;(u = o.play()),
            (l = setTimeout(function () {
              c(!1, new Error('Timeout ' + i + ' ms has been reached'))
            }, i)),
            (c = function (t) {
              var r =
                arguments.length > 1 && void 0 !== arguments[1]
                  ? arguments[1]
                  : null
              clearTimeout(l), e({ result: t, error: r })
            }),
            void 0 !== u
              ? u
                  .then(function () {
                    return c(!0)
                  })
                  .catch(function (e) {
                    return c(!1, e)
                  })
              : c(!0)
        })
      )
    }
    function a(e) {
      return (
        (e = i(e)),
        n(e, function () {
          return {
            element: document.createElement('video'),
            source: URL.createObjectURL(u),
          }
        })
      )
    }
    function o(e) {
      return (
        (e = i(e)),
        n(e, function () {
          return {
            element: document.createElement('audio'),
            source: URL.createObjectURL(s),
          }
        })
      )
    }
    Object.defineProperty(t, '__esModule', { value: !0 })
    var s = new Blob(
        [
          new Uint8Array([
            255, 227, 24, 196, 0, 0, 0, 3, 72, 1, 64, 0, 0, 4, 132, 16, 31,
            227, 192, 225, 76, 255, 67, 12, 255, 221, 27, 255, 228, 97, 73,
            63, 255, 195, 131, 69, 192, 232, 223, 255, 255, 207, 102, 239,
            255, 255, 255, 101, 158, 206, 70, 20, 59, 255, 254, 95, 70,
            149, 66, 4, 16, 128, 0, 2, 2, 32, 240, 138, 255, 36, 106, 183,
            255, 227, 24, 196, 59, 11, 34, 62, 80, 49, 135, 40, 0, 253, 29,
            191, 209, 200, 141, 71, 7, 255, 252, 152, 74, 15, 130, 33, 185,
            6, 63, 255, 252, 195, 70, 203, 86, 53, 15, 255, 255, 247, 103,
            76, 121, 64, 32, 47, 255, 34, 227, 194, 209, 138, 76, 65, 77,
            69, 51, 46, 57, 55, 170, 170, 170, 170, 170, 170, 170, 170,
            170, 170, 255, 227, 24, 196, 73, 13, 153, 210, 100, 81, 135,
            56, 0, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170,
            170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170,
            170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170,
            170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170,
            170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170,
          ]),
        ],
        { type: 'audio/mpeg' }
      ),
      u = new Blob(
        [
          new Uint8Array([
            0, 0, 0, 28, 102, 116, 121, 112, 105, 115, 111, 109, 0, 0, 2,
            0, 105, 115, 111, 109, 105, 115, 111, 50, 109, 112, 52, 49, 0,
            0, 0, 8, 102, 114, 101, 101, 0, 0, 2, 239, 109, 100, 97, 116,
            33, 16, 5, 32, 164, 27, 255, 192, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            0, 0, 0, 0, 0, 0, 55, 167, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 112, 33, 16,
            5, 32, 164, 27, 255, 192, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            0, 0, 0, 0, 55, 167, 128, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 112, 0, 0,
            2, 194, 109, 111, 111, 118, 0, 0, 0, 108, 109, 118, 104, 100,
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 232, 0, 0, 0, 47,
            0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0,
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0,
            0, 0, 0, 0, 0, 0, 64, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 0, 0, 1,
            236, 116, 114, 97, 107, 0, 0, 0, 92, 116, 107, 104, 100, 0, 0,
            0, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0,
            47, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 1, 0, 0,
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0,
            0, 0, 0, 0, 0, 0, 0, 64, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            0, 36, 101, 100, 116, 115, 0, 0, 0, 28, 101, 108, 115, 116, 0,
            0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 47, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0,
            1, 100, 109, 100, 105, 97, 0, 0, 0, 32, 109, 100, 104, 100, 0,
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 172, 68, 0, 0, 8, 0, 85,
            196, 0, 0, 0, 0, 0, 45, 104, 100, 108, 114, 0, 0, 0, 0, 0, 0,
            0, 0, 115, 111, 117, 110, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            83, 111, 117, 110, 100, 72, 97, 110, 100, 108, 101, 114, 0, 0,
            0, 1, 15, 109, 105, 110, 102, 0, 0, 0, 16, 115, 109, 104, 100,
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 36, 100, 105, 110, 102, 0, 0,
            0, 28, 100, 114, 101, 102, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 12,
            117, 114, 108, 32, 0, 0, 0, 1, 0, 0, 0, 211, 115, 116, 98, 108,
            0, 0, 0, 103, 115, 116, 115, 100, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0,
            0, 87, 109, 112, 52, 97, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0,
            0, 0, 0, 0, 2, 0, 16, 0, 0, 0, 0, 172, 68, 0, 0, 0, 0, 0, 51,
            101, 115, 100, 115, 0, 0, 0, 0, 3, 128, 128, 128, 34, 0, 2, 0,
            4, 128, 128, 128, 20, 64, 21, 0, 0, 0, 0, 1, 244, 0, 0, 1, 243,
            249, 5, 128, 128, 128, 2, 18, 16, 6, 128, 128, 128, 1, 2, 0, 0,
            0, 24, 115, 116, 116, 115, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 2,
            0, 0, 4, 0, 0, 0, 0, 28, 115, 116, 115, 99, 0, 0, 0, 0, 0, 0,
            0, 1, 0, 0, 0, 1, 0, 0, 0, 2, 0, 0, 0, 1, 0, 0, 0, 28, 115,
            116, 115, 122, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 1,
            115, 0, 0, 1, 116, 0, 0, 0, 20, 115, 116, 99, 111, 0, 0, 0, 0,
            0, 0, 0, 1, 0, 0, 0, 44, 0, 0, 0, 98, 117, 100, 116, 97, 0, 0,
            0, 90, 109, 101, 116, 97, 0, 0, 0, 0, 0, 0, 0, 33, 104, 100,
            108, 114, 0, 0, 0, 0, 0, 0, 0, 0, 109, 100, 105, 114, 97, 112,
            112, 108, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 45, 105, 108,
            115, 116, 0, 0, 0, 37, 169, 116, 111, 111, 0, 0, 0, 29, 100,
            97, 116, 97, 0, 0, 0, 1, 0, 0, 0, 0, 76, 97, 118, 102, 53, 54,
            46, 52, 48, 46, 49, 48, 49,
          ]),
        ],
        { type: 'video/mp4' }
      ),
      l = { audio: o, video: a }
    t.default = l
  },
  function (e, t, r) {
    'use strict'
    function i(e) {
      return parseFloat(e) || 0
    }
    function n(e) {
      return Array.prototype.slice
        .call(arguments, 1)
        .reduce(function (t, r) {
          return t + i(e['border-' + r + '-width'])
        }, 0)
    }
    function a(e) {
      for (
        var t = ['top', 'right', 'bottom', 'left'], r = {}, n = 0, a = t;
        n < a.length;
        n += 1
      ) {
        var o = a[n],
          s = e['padding-' + o]
        r[o] = i(s)
      }
      return r
    }
    function o(e) {
      var t = e.getBBox()
      return d(0, 0, t.width, t.height)
    }
    function s(e) {
      var t = e.clientWidth,
        r = e.clientHeight
      if (!t && !r) return w
      var o = getComputedStyle(e),
        s = a(o),
        l = s.left + s.right,
        c = s.top + s.bottom,
        f = i(o.width),
        h = i(o.height)
      if (
        ('border-box' === o.boxSizing &&
          (Math.round(f + l) !== t && (f -= n(o, 'left', 'right') + l),
          Math.round(h + c) !== r && (h -= n(o, 'top', 'bottom') + c)),
        !u(e))
      ) {
        var p = Math.round(f + l) - t,
          v = Math.round(h + c) - r
        1 !== Math.abs(p) && (f -= p), 1 !== Math.abs(v) && (h -= v)
      }
      return d(s.left, s.top, f, h)
    }
    function u(e) {
      return e === document.documentElement
    }
    function l(e) {
      return h ? (T(e) ? o(e) : s(e)) : w
    }
    function c(e) {
      var t = e.x,
        r = e.y,
        i = e.width,
        n = e.height,
        a =
          'undefined' != typeof DOMRectReadOnly ? DOMRectReadOnly : Object,
        o = Object.create(a.prototype)
      return (
        E(o, {
          x: t,
          y: r,
          width: i,
          height: n,
          top: r,
          right: t + i,
          bottom: n + r,
          left: t,
        }),
        o
      )
    }
    function d(e, t, r, i) {
      return { x: e, y: t, width: r, height: i }
    }
    Object.defineProperty(t, '__esModule', { value: !0 })
    var f = (function () {
        function e(e, t) {
          var r = -1
          return (
            e.some(function (e, i) {
              return e[0] === t && ((r = i), !0)
            }),
            r
          )
        }
        return 'undefined' != typeof Map
          ? Map
          : (function () {
              function t() {
                this.__entries__ = []
              }
              var r = { size: {} }
              return (
                (r.size.get = function () {
                  return this.__entries__.length
                }),
                (t.prototype.get = function (t) {
                  var r = e(this.__entries__, t),
                    i = this.__entries__[r]
                  return i && i[1]
                }),
                (t.prototype.set = function (t, r) {
                  var i = e(this.__entries__, t)
                  ~i
                    ? (this.__entries__[i][1] = r)
                    : this.__entries__.push([t, r])
                }),
                (t.prototype.delete = function (t) {
                  var r = this.__entries__,
                    i = e(r, t)
                  ~i && r.splice(i, 1)
                }),
                (t.prototype.has = function (t) {
                  return !!~e(this.__entries__, t)
                }),
                (t.prototype.clear = function () {
                  this.__entries__.splice(0)
                }),
                (t.prototype.forEach = function (e, t) {
                  void 0 === t && (t = null)
                  for (
                    var r = 0, i = this.__entries__;
                    r < i.length;
                    r += 1
                  ) {
                    var n = i[r]
                    e.call(t, n[1], n[0])
                  }
                }),
                Object.defineProperties(t.prototype, r),
                t
              )
            })()
      })(),
      h =
        'undefined' != typeof window &&
        'undefined' != typeof document &&
        window.document === document,
      p = (function () {
        return 'function' == typeof requestAnimationFrame
          ? requestAnimationFrame
          : function (e) {
              return setTimeout(function () {
                return e(Date.now())
              }, 1e3 / 60)
            }
      })(),
      v = 2,
      g = function (e, t) {
        function r() {
          a && ((a = !1), e()), o && n()
        }
        function i() {
          p(r)
        }
        function n() {
          var e = Date.now()
          if (a) {
            if (e - s < v) return
            o = !0
          } else (a = !0), (o = !1), setTimeout(i, t)
          s = e
        }
        var a = !1,
          o = !1,
          s = 0
        return n
      },
      y = [
        'top',
        'right',
        'bottom',
        'left',
        'width',
        'height',
        'size',
        'weight',
      ],
      m =
        'undefined' != typeof navigator &&
        /Trident\/.*rv:11/.test(navigator.userAgent),
      _ = 'undefined' != typeof MutationObserver && !m,
      b = function () {
        ;(this.connected_ = !1),
          (this.mutationEventsAdded_ = !1),
          (this.mutationsObserver_ = null),
          (this.observers_ = []),
          (this.onTransitionEnd_ = this.onTransitionEnd_.bind(this)),
          (this.refresh = g(this.refresh.bind(this), 20))
      }
    ;(b.prototype.addObserver = function (e) {
      ~this.observers_.indexOf(e) || this.observers_.push(e),
        this.connected_ || this.connect_()
    }),
      (b.prototype.removeObserver = function (e) {
        var t = this.observers_,
          r = t.indexOf(e)
        ~r && t.splice(r, 1),
          !t.length && this.connected_ && this.disconnect_()
      }),
      (b.prototype.refresh = function () {
        this.updateObservers_() && this.refresh()
      }),
      (b.prototype.updateObservers_ = function () {
        var e = this.observers_.filter(function (e) {
          return e.gatherActive(), e.hasActive()
        })
        return (
          e.forEach(function (e) {
            return e.broadcastActive()
          }),
          e.length > 0
        )
      }),
      (b.prototype.connect_ = function () {
        h &&
          !this.connected_ &&
          (document.addEventListener(
            'transitionend',
            this.onTransitionEnd_
          ),
          window.addEventListener('resize', this.refresh),
          _
            ? ((this.mutationsObserver_ = new MutationObserver(
                this.refresh
              )),
              this.mutationsObserver_.observe(document, {
                attributes: !0,
                childList: !0,
                characterData: !0,
                subtree: !0,
              }))
            : (document.addEventListener(
                'DOMSubtreeModified',
                this.refresh
              ),
              (this.mutationEventsAdded_ = !0)),
          (this.connected_ = !0))
      }),
      (b.prototype.disconnect_ = function () {
        h &&
          this.connected_ &&
          (document.removeEventListener(
            'transitionend',
            this.onTransitionEnd_
          ),
          window.removeEventListener('resize', this.refresh),
          this.mutationsObserver_ && this.mutationsObserver_.disconnect(),
          this.mutationEventsAdded_ &&
            document.removeEventListener(
              'DOMSubtreeModified',
              this.refresh
            ),
          (this.mutationsObserver_ = null),
          (this.mutationEventsAdded_ = !1),
          (this.connected_ = !1))
      }),
      (b.prototype.onTransitionEnd_ = function (e) {
        var t = e.propertyName
        y.some(function (e) {
          return !!~t.indexOf(e)
        }) && this.refresh()
      }),
      (b.getInstance = function () {
        return this.instance_ || (this.instance_ = new b()), this.instance_
      }),
      (b.instance_ = null)
    var E = function (e, t) {
        for (var r = 0, i = Object.keys(t); r < i.length; r += 1) {
          var n = i[r]
          Object.defineProperty(e, n, {
            value: t[n],
            enumerable: !1,
            writable: !1,
            configurable: !0,
          })
        }
        return e
      },
      w = d(0, 0, 0, 0),
      T = (function () {
        return 'undefined' != typeof SVGGraphicsElement
          ? function (e) {
              return e instanceof SVGGraphicsElement
            }
          : function (e) {
              return (
                e instanceof SVGElement && 'function' == typeof e.getBBox
              )
            }
      })(),
      S = function (e) {
        ;(this.broadcastWidth = 0),
          (this.broadcastHeight = 0),
          (this.contentRect_ = d(0, 0, 0, 0)),
          (this.target = e)
      }
    ;(S.prototype.isActive = function () {
      var e = l(this.target)
      return (
        (this.contentRect_ = e),
        e.width !== this.broadcastWidth ||
          e.height !== this.broadcastHeight
      )
    }),
      (S.prototype.broadcastRect = function () {
        var e = this.contentRect_
        return (
          (this.broadcastWidth = e.width),
          (this.broadcastHeight = e.height),
          e
        )
      })
    var A = function (e, t) {
        var r = c(t)
        E(this, { target: e, contentRect: r })
      },
      R = function (e, t, r) {
        if ('function' != typeof e)
          throw new TypeError(
            'The callback provided as parameter 1 is not a function.'
          )
        ;(this.activeObservations_ = []),
          (this.observations_ = new f()),
          (this.callback_ = e),
          (this.controller_ = t),
          (this.callbackCtx_ = r)
      }
    ;(R.prototype.observe = function (e) {
      if (!arguments.length)
        throw new TypeError('1 argument required, but only 0 present.')
      if ('undefined' != typeof Element && Element instanceof Object) {
        if (!(e instanceof Element))
          throw new TypeError('parameter 1 is not of type "Element".')
        var t = this.observations_
        t.has(e) ||
          (t.set(e, new S(e)),
          this.controller_.addObserver(this),
          this.controller_.refresh())
      }
    }),
      (R.prototype.unobserve = function (e) {
        if (!arguments.length)
          throw new TypeError('1 argument required, but only 0 present.')
        if ('undefined' != typeof Element && Element instanceof Object) {
          if (!(e instanceof Element))
            throw new TypeError('parameter 1 is not of type "Element".')
          var t = this.observations_
          t.has(e) &&
            (t.delete(e), t.size || this.controller_.removeObserver(this))
        }
      }),
      (R.prototype.disconnect = function () {
        this.clearActive(),
          this.observations_.clear(),
          this.controller_.removeObserver(this)
      }),
      (R.prototype.gatherActive = function () {
        var e = this
        this.clearActive(),
          this.observations_.forEach(function (t) {
            t.isActive() && e.activeObservations_.push(t)
          })
      }),
      (R.prototype.broadcastActive = function () {
        if (this.hasActive()) {
          var e = this.callbackCtx_,
            t = this.activeObservations_.map(function (e) {
              return new A(e.target, e.broadcastRect())
            })
          this.callback_.call(e, t, e), this.clearActive()
        }
      }),
      (R.prototype.clearActive = function () {
        this.activeObservations_.splice(0)
      }),
      (R.prototype.hasActive = function () {
        return this.activeObservations_.length > 0
      })
    var k = 'undefined' != typeof WeakMap ? new WeakMap() : new f(),
      D = function (e) {
        if (!(this instanceof D))
          throw new TypeError('Cannot call a class as a function')
        if (!arguments.length)
          throw new TypeError('1 argument required, but only 0 present.')
        var t = b.getInstance(),
          r = new R(e, t, this)
        k.set(this, r)
      }
    ;['observe', 'unobserve', 'disconnect'].forEach(function (e) {
      D.prototype[e] = function () {
        return (t = k.get(this))[e].apply(t, arguments)
        var t
      }
    })
    var O = (function () {
      return 'undefined' != typeof ResizeObserver ? ResizeObserver : D
    })()
    t.default = O
  },
  function (e, t, r) {
    'use strict'
    function i(e) {
      if (e && e.__esModule) return e
      var t = {}
      if (null != e)
        for (var r in e)
          Object.prototype.hasOwnProperty.call(e, r) && (t[r] = e[r])
      return (t.default = e), t
    }
    function n(e) {
      return e && e.__esModule ? e : { default: e }
    }
    Object.defineProperty(t, '__esModule', { value: !0 })
    var a = r(31),
      o = n(a),
      s = r(0),
      u = n(s),
      l = r(1),
      c = n(l),
      d = r(22),
      f = r(76),
      h = i(f),
      p = r(152),
      v = n(p),
      g = r(38),
      y = r(30),
      m = i(y),
      _ = r(6),
      b = r(3),
      E = n(b),
      w = r(37),
      T = i(w),
      S = r(153),
      A = i(S),
      R = r(82),
      k = n(R),
      D = r(10),
      O = r(23),
      L = n(O),
      P = r(26),
      x = r(7),
      I = i(x),
      C = (function () {
        function e(t, r) {
          var i = this
          ;(0, u.default)(this, e),
            (this.logger = E.default.createTaggedLoggers('AdvertPreRoll')),
            (this.rootView = t),
            (this.playerStore = r),
            (this.pauseMethod = function () {}),
            (this.playMethod = function () {}),
            (this.playbackTimeoutId = null),
            (this.loadTimeoutId = null),
            (this.requestedPlaybackState = null),
            (this.adDisplayContainer = null),
            (this.adLoader = null),
            (this.adRequest = null),
            (this.adManager = null),
            (this.dimensionsObserver = (0, L.default)(
              r,
              D.getDimensions,
              function (e) {
                null !== e &&
                  null !== i.adManager &&
                  i.adManager.resize(
                    e.width,
                    e.height,
                    google.ima.ViewMode.NORMAL
                  )
              }
            ))
        }
        return (
          (0, c.default)(e, [
            {
              key: 'adDidClick',
              value: function () {
                this.playMethod()
              },
            },
            {
              key: 'adDidPause',
              value: function () {
                clearTimeout(this.playbackTimeoutId)
              },
            },
            {
              key: 'adDidResume',
              value: function () {
                var e = this,
                  t = (0, P.getPlaybackTimeout)(
                    this.adManager.getRemainingTime(),
                    m.AD_PLAY_TIMEOUT,
                    m.AD_PLAYBACK_TIMEOUT
                  )
                clearTimeout(this.playbackTimeoutId),
                  (this.playbackTimeoutId = setTimeout(function () {
                    return e.errorDidOccur(
                      new Error(
                        'Timeout Error. Playback could not resume in time. It took more than: ' +
                          t
                      )
                    )
                  }, t))
              },
            },
            {
              key: 'adDidStart',
              value: function () {
                var e = this
                ;(this.pauseMethod = function () {
                  null !== e.adManager && e.adManager.pause()
                }),
                  (this.playMethod = function () {
                    null !== e.adManager && e.adManager.resume()
                  })
              },
            },
            {
              key: 'contentPauseDidRequest',
              value: function (e) {
                var t = this,
                  r = e.getAd().getDuration(),
                  i = (0, P.getPlaybackTimeout)(
                    r,
                    m.AD_PLAY_TIMEOUT,
                    m.AD_PLAYBACK_TIMEOUT
                  )
                this.playerStore.dispatch(
                  (0, d.setAdPlaybackState)(h.PLAY)
                ),
                  !0 ===
                    (0, D.isVolumeMute)(this.playerStore.getState()) &&
                    this.adManager.setVolume(0),
                  clearTimeout(this.loadTimeoutId),
                  clearTimeout(this.playbackTimeoutId),
                  this.requestedPlaybackState === T.PAUSE
                    ? (this.adManager.pause(), this.adDidPause())
                    : this.requestedPlaybackState === T.PLAY &&
                      (this.playbackTimeoutId = setTimeout(function () {
                        return t.errorDidOccur(
                          new Error(
                            'Timeout Error. Playback did timeout. It took more time than provided via playback budget.'
                          )
                        )
                      }, i))
              },
            },
            {
              key: 'contentResumeDidRequest',
              value: function () {
                this.playerStore.dispatch(
                  (0, d.setAdPlaybackState)(h.ENDED)
                ),
                  this.dispose(),
                  this.resolve()
              },
            },
            {
              key: 'createAdContainer',
              value: function (e) {
                var t = new google.ima.AdDisplayContainer(
                  e.querySelector((0, _.createCssClassSelector)(I.AD)),
                  e.querySelector(
                    (0, _.createCssClassSelector)(I.VIDEO_ELEMENT)
                  )
                )
                return t.initialize(), t
              },
            },
            {
              key: 'createAdTagUrl',
              value: function (e) {
                var t = e.networkCode,
                  r = e.unit,
                  i = e.customParams,
                  n = e.adType,
                  a = [t, r]
                    .map(function (e) {
                      return '/' + e
                    })
                    .join(''),
                  o = (0, g.getLocation)(),
                  s = o.url,
                  u = new v.default()
                    .setAccount(a)
                    .setAdType(n)
                    .setCustomParameters(i)
                    .setDescriptionUrl(s)
                    .getResult()
                return u
              },
            },
            {
              key: 'dispose',
              value: function () {
                clearTimeout(this.loadTimeoutId),
                  clearTimeout(this.playbackTimeoutId),
                  (this.adRequest = null),
                  (this.adLoader = null),
                  (this.rootView = null),
                  (this.playerStore = null),
                  (this.pauseMethod = function () {}),
                  (this.playMethod = function () {}),
                  null !== this.dimensionsObserver &&
                    (this.dimensionsObserver(),
                    (this.dimensionsObserver = null)),
                  null !== this.adDisplayContainer &&
                    (this.adDisplayContainer.destroy(),
                    (this.adDisplayContainer = null)),
                  null !== this.adLoader &&
                    (this.adLoader.destroy(), (this.adLoader = null)),
                  null !== this.adManager &&
                    (this.adManager.destroy(), (this.adManager = null))
              },
            },
            {
              key: 'errorDidOccur',
              value: function (e) {
                this.playerStore.dispatch(
                  (0, d.setAdPlaybackState)(h.ERROR)
                ),
                  this.dispose(),
                  this.reject(e)
              },
            },
            {
              key: 'getDimensions',
              value: function (e) {
                return { width: e.clientWidth, height: e.clientHeight }
              },
            },
            {
              key: 'initWithDfpCredentials',
              value: function (e) {
                var t = this
                return e.networkCode && e.unit
                  ? new o.default(function (r, i) {
                      ;(t.resolve = r),
                        (t.reject = i),
                        t.load(t.createAdTagUrl(e)),
                        t.play()
                    })
                  : o.default.reject(
                      new Error(
                        'DFP Credentials are incomplete. Ad pre-roll is not possible.'
                      )
                    )
              },
            },
            {
              key: 'load',
              value: function (e) {
                var t = this,
                  r = this.playerStore.getState(),
                  i = this.getDimensions(this.rootView.getView()),
                  n = i.width,
                  a = i.height
                ;(this.adDisplayContainer = this.createAdContainer(
                  this.rootView
                )),
                  (this.adLoader = new google.ima.AdsLoader(
                    this.adDisplayContainer
                  )),
                  (this.adRequest = new google.ima.AdsRequest()),
                  this.adLoader.addEventListener(
                    google.ima.AdsManagerLoadedEvent.Type
                      .ADS_MANAGER_LOADED,
                    function (e) {
                      return t.managerDidLoad(e)
                    }
                  ),
                  this.adLoader.addEventListener(
                    google.ima.AdErrorEvent.Type.AD_ERROR,
                    function (e) {
                      return t.errorDidOccur(e.getError())
                    }
                  ),
                  this.rootView
                    .querySelector(
                      (0, _.createCssClassSelector)(I.VIDEO_ELEMENT)
                    )
                    .load(),
                  (this.adRequest.adTagUrl = e),
                  (this.adRequest.linearAdSlotWidth = n),
                  (this.adRequest.linearAdSlotHeight = a),
                  this.adRequest.setAdWillAutoPlay(
                    !0 === (0, D.getAutoPlayState)(r)
                  ),
                  this.adRequest.setAdWillPlayMuted(
                    (0, D.isVolumeMute)(r)
                  ),
                  clearTimeout(this.loadTimeoutId),
                  (this.loadTimeoutId = setTimeout(function () {
                    return t.errorDidOccur(
                      new Error('Timeout Error. Loader did timeout.')
                    )
                  }, m.AD_LOAD_TIMEOUT)),
                  k.default
                    .sharedInstance()
                    .emit(A.REQUEST, {
                      ad_tag_url: this.adRequest.adTagUrl,
                    }),
                  this.adLoader.requestAds(this.adRequest)
              },
            },
            {
              key: 'managerDidLoad',
              value: function (e) {
                var t = this,
                  r = new google.ima.AdsRenderingSettings(),
                  i = this.getDimensions(this.rootView.getView()),
                  n = i.width,
                  a = i.height
                ;(this.adManager = e.getAdsManager(
                  this.rootView.querySelector(
                    (0, _.createCssClassSelector)(I.VIDEO_ELEMENT)
                  ),
                  r
                )),
                  this.setupMuxAnalytics(this.adManager),
                  this.adManager.addEventListener(
                    google.ima.AdErrorEvent.Type.AD_ERROR,
                    function (e) {
                      return t.errorDidOccur(e.getError())
                    }
                  ),
                  this.adManager.addEventListener(
                    google.ima.AdEvent.Type.CLICK,
                    function () {
                      return t.adDidClick()
                    }
                  ),
                  this.adManager.addEventListener(
                    google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,
                    function (e) {
                      return t.contentPauseDidRequest(e)
                    }
                  ),
                  this.adManager.addEventListener(
                    google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,
                    function () {
                      return t.contentResumeDidRequest()
                    }
                  ),
                  this.adManager.addEventListener(
                    google.ima.AdEvent.Type.PAUSED,
                    function () {
                      return t.adDidPause()
                    }
                  ),
                  this.adManager.addEventListener(
                    google.ima.AdEvent.Type.RESUMED,
                    function () {
                      return t.adDidResume()
                    }
                  ),
                  this.adManager.addEventListener(
                    google.ima.AdEvent.Type.STARTED,
                    function () {
                      return t.adDidStart()
                    }
                  )
                try {
                  this.adManager.init(n, a, google.ima.ViewMode.NORMAL),
                    this.adManager.start(),
                    clearTimeout(this.loadTimeoutId),
                    (this.loadTimeoutId = setTimeout(function () {
                      return t.errorDidOccur(
                        new Error('Timeout Error. Manager did timeout.')
                      )
                    }, m.AD_LOAD_TIMEOUT))
                } catch (e) {
                  this.errorDidOccur(e)
                }
              },
            },
            {
              key: 'pause',
              value: function () {
                this.setRequestPlaybackState(T.PAUSE), this.pauseMethod()
              },
            },
            {
              key: 'play',
              value: function () {
                this.setRequestPlaybackState(T.PLAY), this.playMethod()
              },
            },
            {
              key: 'setRequestPlaybackState',
              value: function (e) {
                this.requestedPlaybackState = e
              },
            },
            {
              key: 'setupMuxAnalytics',
              value: function (e) {
                var t = this
                e.addEventListener(
                  [
                    google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,
                    google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,
                    google.ima.AdEvent.Type.LOADED,
                    google.ima.AdEvent.Type.STARTED,
                    google.ima.AdEvent.Type.RESUMED,
                    google.ima.AdEvent.Type.PAUSED,
                    google.ima.AdEvent.Type.SKIPPED,
                    google.ima.AdEvent.Type.COMPLETE,
                    google.ima.AdEvent.Type.AD_ERROR,
                  ],
                  function (e) {
                    var r =
                        'function' == typeof e.getAdData
                          ? e.getAdData()
                          : {},
                      i = 'function' == typeof e.getAd ? e.getAd() : {},
                      n =
                        'function' == typeof i.getMediaUrl
                          ? i.getMediaUrl()
                          : r.mediaUrl,
                      a = k.default.sharedInstance(),
                      o = { ad_tag_url: t.adRequest.adTagUrl }
                    switch ((n && (o.ad_asset_url = n), e.type)) {
                      case google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED:
                        a.emit(A.BREAK_DID_START, o)
                        break
                      case google.ima.AdEvent.Type
                        .CONTENT_RESUME_REQUESTED:
                        a.emit(A.BREAK_DID_END, o)
                        break
                      case google.ima.AdEvent.Type.LOADED:
                        a.emit(A.RESPONSE, o), a.emit(A.PLAY, o)
                        break
                      case google.ima.AdEvent.Type.STARTED:
                        a.emit(A.PLAYING, o)
                        break
                      case google.ima.AdEvent.Type.RESUMED:
                        a.emit(A.PLAY, o), a.emit(A.PLAYING, o)
                        break
                      case google.ima.AdEvent.Type.PAUSED:
                        a.emit(A.PAUSE, o)
                        break
                      case google.ima.AdEvent.Type.SKIPPED:
                      case google.ima.AdEvent.Type.COMPLETE:
                        a.emit(A.ENDED, o)
                        break
                      case google.ima.AdEvent.Type.AD_ERROR:
                        a.emit(A.ERROR, o)
                    }
                  }
                )
              },
            },
          ]),
          e
        )
      })()
    t.default = C
  },
  function (e, t, r) {
    'use strict'
    function i(e) {
      return e && e.__esModule ? e : { default: e }
    }
    Object.defineProperty(t, '__esModule', { value: !0 })
    var n = r(0),
      a = i(n),
      o = r(1),
      s = i(o),
      u = r(26),
      l = (function () {
        function e() {
          ;(0, a.default)(this, e),
            (this.protocol = 'https://'),
            (this.domain = 'pubads.g.doubleclick.net'),
            (this.path = '/gampad/ads'),
            (this.environment = 'vp'),
            (this.output = 'vast'),
            (this.legacyClient = !1),
            (this.delayedImpression = !0),
            (this.account = null),
            (this.adType = null),
            (this.sizes = '920x508|640x360|400x300'),
            (this.descriptionUrl = null),
            (this.customParameters = {}),
            (this.live = !1)
        }
        return (
          (0, s.default)(e, [
            {
              key: 'getResult',
              value: function () {
                var e = this.protocol + this.domain + this.path,
                  t = []
                return (
                  t.push({ name: 'env', value: this.environment }),
                  t.push({
                    name: 'gdfp_req',
                    value: 0 | !this.legacyClient,
                  }),
                  t.push({
                    name: 'unviewed_position_start',
                    value: 0 | this.delayedImpression,
                  }),
                  t.push({ name: 'impl', value: 's' }),
                  t.push({ name: 'output', value: this.output }),
                  t.push({ name: 'iu', value: this.account }),
                  t.push({ name: 'sz', value: this.sizes }),
                  t.push({
                    name: 'description_url',
                    value: encodeURIComponent(this.descriptionUrl),
                  }),
                  t.push({
                    name: 'cust_params',
                    value: encodeURIComponent(
                      (0, u.objectAsQuery)(this.customParameters)
                    ),
                  }),
                  null !== this.adType &&
                    t.push({ name: 'vpos', value: this.adType }),
                  e +
                    '?' +
                    t
                      .map(function (e) {
                        return e.name + '=' + e.value
                      })
                      .join('&')
                )
              },
            },
            {
              key: 'setAccount',
              value: function (e) {
                return (this.account = e), this
              },
            },
            {
              key: 'setAdType',
              value: function (e) {
                return (this.adType = e), this
              },
            },
            {
              key: 'setCustomParameters',
              value: function (e) {
                return (this.customParameters = e), this
              },
            },
            {
              key: 'setDescriptionUrl',
              value: function (e) {
                return (this.descriptionUrl = e), this
              },
            },
            {
              key: 'setEnvironment',
              value: function (e) {
                return (this.environment = e), this
              },
            },
            {
              key: 'setLegacyClient',
              value: function (e) {
                return (this.legacyClient = e), this
              },
            },
            {
              key: 'setLive',
              value: function (e) {
                return (this.live = e), this
              },
            },
            {
              key: 'setOutput',
              value: function (e) {
                return (this.output = e), this
              },
            },
            {
              key: 'setSizes',
              value: function (e) {
                return (this.sizes = e), this
              },
            },
          ]),
          e
        )
      })()
    t.default = l
  },
  function (e, t, r) {
    'use strict'
    Object.defineProperty(t, '__esModule', { value: !0 })
    ;(t.BREAK_DID_START = 'adbreakstart'),
      (t.BREAK_DID_END = 'adbreakend'),
      (t.ENDED = 'adended'),
      (t.ERROR = 'aderror'),
      (t.PAUSE = 'adpause'),
      (t.PLAY = 'adplay'),
      (t.PLAYING = 'adplaying'),
      (t.REQUEST = 'adrequest'),
      (t.RESPONSE = 'adresponse')
  },
  function (e, t, r) {
    !(function () {
      !(function (t, r) {
        e.exports = r()
      })(0, function () {
        return (function (e) {
          function t(i) {
            if (r[i]) return r[i].exports
            var n = (r[i] = { i: i, l: !1, exports: {} })
            return (
              e[i].call(n.exports, n, n.exports, t), (n.l = !0), n.exports
            )
          }
          var r = {}
          return (
            (t.m = e),
            (t.c = r),
            (t.d = function (e, r, i) {
              t.o(e, r) ||
                Object.defineProperty(e, r, {
                  configurable: !1,
                  enumerable: !0,
                  get: i,
                })
            }),
            (t.n = function (e) {
              var r =
                e && e.__esModule
                  ? function () {
                      return e.default
                    }
                  : function () {
                      return e
                    }
              return t.d(r, 'a', r), r
            }),
            (t.o = function (e, t) {
              return Object.prototype.hasOwnProperty.call(e, t)
            }),
            (t.p = ''),
            t((t.s = 18))
          )
        })([
          function (e, t, r) {
            ;(function (t) {
              var r
              ;(r =
                'undefined' != typeof window
                  ? window
                  : void 0 !== t
                  ? t
                  : 'undefined' != typeof self
                  ? self
                  : {}),
                (e.exports = r)
            }).call(t, r(6))
          },
          function (e, t) {
            function r(e, t, r) {
              switch (r.length) {
                case 0:
                  return e.call(t)
                case 1:
                  return e.call(t, r[0])
                case 2:
                  return e.call(t, r[0], r[1])
                case 3:
                  return e.call(t, r[0], r[1], r[2])
              }
              return e.apply(t, r)
            }
            function i(e, t) {
              for (var r = -1, i = Array(e); ++r < e; ) i[r] = t(r)
              return i
            }
            function n(e, t) {
              var r = I(e) || h(e) ? i(e.length, String) : [],
                n = r.length,
                a = !!n
              for (var o in e)
                (!t && !k.call(e, o)) ||
                  (a && ('length' == o || l(o, n))) ||
                  r.push(o)
              return r
            }
            function a(e, t, r) {
              var i = e[t]
              ;(k.call(e, t) && f(i, r) && (void 0 !== r || t in e)) ||
                (e[t] = r)
            }
            function o(e) {
              if (!d(e)) return L(e)
              var t = []
              for (var r in Object(e))
                k.call(e, r) && 'constructor' != r && t.push(r)
              return t
            }
            function s(e, t) {
              return (
                (t = P(void 0 === t ? e.length - 1 : t, 0)),
                function () {
                  for (
                    var i = arguments,
                      n = -1,
                      a = P(i.length - t, 0),
                      o = Array(a);
                    ++n < a;

                  )
                    o[n] = i[t + n]
                  n = -1
                  for (var s = Array(t + 1); ++n < t; ) s[n] = i[n]
                  return (s[t] = o), r(e, this, s)
                }
              )
            }
            function u(e, t, r, i) {
              r || (r = {})
              for (var n = -1, o = t.length; ++n < o; ) {
                var s = t[n],
                  u = i ? i(r[s], e[s], s, r, e) : void 0
                a(r, s, void 0 === u ? e[s] : u)
              }
              return r
            }
            function l(e, t) {
              return (
                !!(t = null == t ? E : t) &&
                ('number' == typeof e || A.test(e)) &&
                e > -1 &&
                e % 1 == 0 &&
                e < t
              )
            }
            function c(e, t, r) {
              if (!m(r)) return !1
              var i = typeof t
              return (
                !!('number' == i
                  ? p(r) && l(t, r.length)
                  : 'string' == i && t in r) && f(r[t], e)
              )
            }
            function d(e) {
              var t = e && e.constructor
              return e === (('function' == typeof t && t.prototype) || R)
            }
            function f(e, t) {
              return e === t || (e !== e && t !== t)
            }
            function h(e) {
              return (
                v(e) &&
                k.call(e, 'callee') &&
                (!O.call(e, 'callee') || D.call(e) == w)
              )
            }
            function p(e) {
              return null != e && y(e.length) && !g(e)
            }
            function v(e) {
              return _(e) && p(e)
            }
            function g(e) {
              var t = m(e) ? D.call(e) : ''
              return t == T || t == S
            }
            function y(e) {
              return 'number' == typeof e && e > -1 && e % 1 == 0 && e <= E
            }
            function m(e) {
              var t = typeof e
              return !!e && ('object' == t || 'function' == t)
            }
            function _(e) {
              return !!e && 'object' == typeof e
            }
            function b(e) {
              return p(e) ? n(e) : o(e)
            }
            var E = 9007199254740991,
              w = '[object Arguments]',
              T = '[object Function]',
              S = '[object GeneratorFunction]',
              A = /^(?:0|[1-9]\d*)$/,
              R = Object.prototype,
              k = R.hasOwnProperty,
              D = R.toString,
              O = R.propertyIsEnumerable,
              L = (function (e, t) {
                return function (r) {
                  return e(t(r))
                }
              })(Object.keys, Object),
              P = Math.max,
              x = !O.call({ valueOf: 1 }, 'valueOf'),
              I = Array.isArray,
              C = (function (e) {
                return s(function (t, r) {
                  var i = -1,
                    n = r.length,
                    a = n > 1 ? r[n - 1] : void 0,
                    o = n > 2 ? r[2] : void 0
                  for (
                    a =
                      e.length > 3 && 'function' == typeof a
                        ? (n--, a)
                        : void 0,
                      o &&
                        c(r[0], r[1], o) &&
                        ((a = n < 3 ? void 0 : a), (n = 1)),
                      t = Object(t);
                    ++i < n;

                  ) {
                    var s = r[i]
                    s && e(t, s)
                  }
                  return t
                })
              })(function (e, t) {
                if (x || d(t) || p(t)) return void u(t, b(t), e)
                for (var r in t) k.call(t, r) && a(e, r, t[r])
              })
            e.exports = C
          },
          function (e, t, r) {
            'use strict'
            function i(e, t, r) {
              ;(r = void 0 === r ? 1 : r), (e[t] = e[t] || 0), (e[t] += r)
            }
            Object.defineProperty(t, '__esModule', { value: !0 }),
              (t.default = i)
          },
          function (e, t, r) {
            'use strict'
            Object.defineProperty(t, '__esModule', { value: !0 })
            var i = r(0),
              n = (function (e) {
                return e && e.__esModule ? e : { default: e }
              })(i),
              a = {}
            ;(a.now = function () {
              var e = n.default.performance,
                t = e && e.timing
              return t &&
                'number' == typeof t.navigationStart &&
                'function' == typeof e.now
                ? t.navigationStart + e.now()
                : Date.now()
            }),
              (t.default = a)
          },
          function (e, t, r) {
            'use strict'
            Object.defineProperty(t, '__esModule', { value: !0 })
            var i = r(20),
              n = (function (e) {
                return e && e.__esModule ? e : { default: e }
              })(i),
              a = n.default.methodFactory
            ;(n.default.methodFactory = function (e, t, r) {
              var i = a(e, t, r)
              return function () {
                for (var e = ['[mux]'], t = 0; t < arguments.length; t++)
                  e.push(arguments[t])
                i.apply(void 0, e)
              }
            }),
              n.default.setLevel(n.default.getLevel()),
              (t.default = n.default)
          },
          function (e, t, r) {
            'use strict'
            Object.defineProperty(t, '__esModule', { value: !0 })
            var i = function (e) {
                return a(e)[0]
              },
              n = function (e) {
                return a(e)[1]
              },
              a = function (e) {
                if ('string' != typeof e || '' === e) return ['localhost']
                var t =
                    /^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,
                  r = e.match(t) || [],
                  i = r[4],
                  n = void 0
                return (
                  i && (n = (i.match(/[^\.]+\.[^\.]+$/) || [])[0]), [i, n]
                )
              }
            ;(t.extractHostnameAndDomain = a),
              (t.extractHostname = i),
              (t.extractDomain = n)
          },
          function (e, t) {
            var r
            r = (function () {
              return this
            })()
            try {
              r = r || Function('return this')() || (0, eval)('this')
            } catch (e) {
              'object' == typeof window && (r = window)
            }
            e.exports = r
          },
          function (e, t, r) {
            'use strict'
            Object.defineProperty(t, '__esModule', { value: !0 })
            var i = function () {
                return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(
                  /[xy]/g,
                  function (e) {
                    var t = (16 * Math.random()) | 0
                    return ('x' === e ? t : (3 & t) | 8).toString(16)
                  }
                )
              },
              n = function () {
                return (
                  '000000' +
                  ((Math.random() * Math.pow(36, 6)) << 0).toString(36)
                ).slice(-6)
              }
            ;(t.generateUUID = i), (t.generateShortID = n)
          },
          function (e, t, r) {
            'use strict'
            function i(e) {
              ;(e = e || ''), (e = e.match(/[^\r\n]+/g) || [])
              for (var t = {}, r = 0; r < e.length; r++) {
                var i = e[r].split(/\s*:\s*(.+)/)
                3 === i.length && (t[i[0]] = i[1])
              }
              return t
            }
            Object.defineProperty(t, '__esModule', { value: !0 }),
              (t.default = i)
          },
          function (e, t, r) {
            'use strict'
            Object.defineProperty(t, '__esModule', { value: !0 }),
              (t.findMediaElement = t.getMuxPlayerId = void 0)
            var i = r(7),
              n = function (e) {
                return e && void 0 !== e.nodeName
                  ? (e.muxId ||
                      (e.muxId = e.id || (0, i.generateShortID)()),
                    e.muxId)
                  : e
              },
              a = function (e) {
                var t = void 0
                return (
                  e && void 0 !== e.nodeName
                    ? ((t = e), (e = n(t)))
                    : (t = document.querySelector(e)),
                  [t, e, t && t.nodeName ? t.nodeName.toLowerCase() : '']
                )
              }
            ;(t.getMuxPlayerId = n), (t.findMediaElement = a)
          },
          function (e, t, r) {
            'use strict'
            function i() {
              return (
                '1' ===
                (a.default.doNotTrack ||
                  (a.default.navigator &&
                    (a.default.navigator.doNotTrack ||
                      a.default.navigator.msDoNotTrack)))
              )
            }
            Object.defineProperty(t, '__esModule', { value: !0 }),
              (t.default = i)
            var n = r(0),
              a = (function (e) {
                return e && e.__esModule ? e : { default: e }
              })(n)
          },
          function (e, t, r) {
            'use strict'
            Object.defineProperty(t, '__esModule', { value: !0 })
            var i = r(0),
              n = (function (e) {
                return e && e.__esModule ? e : { default: e }
              })(i),
              a = {}
            ;(a.exists = function () {
              var e = n.default.performance
              return void 0 !== (e && e.timing)
            }),
              (a.domContentLoadedEventEnd = function () {
                var e = n.default.performance,
                  t = e && e.timing
                return t && t.domContentLoadedEventEnd
              }),
              (a.navigationStart = function () {
                var e = n.default.performance,
                  t = e && e.timing
                return t && t.navigationStart
              }),
              (t.default = a)
          },
          function (e, t, r) {
            ;(function (t) {
              var i,
                n =
                  void 0 !== t
                    ? t
                    : 'undefined' != typeof window
                    ? window
                    : {},
                a = r(23)
              'undefined' != typeof document
                ? (i = document)
                : (i = n['__GLOBAL_DOCUMENT_CACHE@4']) ||
                  (i = n['__GLOBAL_DOCUMENT_CACHE@4'] = a),
                (e.exports = i)
            }).call(t, r(6))
          },
          function (e, t) {
            e.exports = function (e) {
              return (
                e.webpackPolyfill ||
                  ((e.deprecate = function () {}),
                  (e.paths = []),
                  e.children || (e.children = []),
                  Object.defineProperty(e, 'loaded', {
                    enumerable: !0,
                    get: function () {
                      return e.l
                    },
                  }),
                  Object.defineProperty(e, 'id', {
                    enumerable: !0,
                    get: function () {
                      return e.i
                    },
                  }),
                  (e.webpackPolyfill = 1)),
                e
              )
            }
          },
          function (e, t, r) {
            'use strict'
            var i = r(42),
              n = r(43),
              a = r(16)
            e.exports = { formats: a, parse: n, stringify: i }
          },
          function (e, t, r) {
            'use strict'
            var i = Object.prototype.hasOwnProperty,
              n = (function () {
                for (var e = [], t = 0; t < 256; ++t)
                  e.push(
                    '%' +
                      ((t < 16 ? '0' : '') + t.toString(16)).toUpperCase()
                  )
                return e
              })(),
              a = function (e) {
                for (var t; e.length; ) {
                  var r = e.pop()
                  if (((t = r.obj[r.prop]), Array.isArray(t))) {
                    for (var i = [], n = 0; n < t.length; ++n)
                      void 0 !== t[n] && i.push(t[n])
                    r.obj[r.prop] = i
                  }
                }
                return t
              }
            ;(t.arrayToObject = function (e, t) {
              for (
                var r = t && t.plainObjects ? Object.create(null) : {},
                  i = 0;
                i < e.length;
                ++i
              )
                void 0 !== e[i] && (r[i] = e[i])
              return r
            }),
              (t.merge = function (e, r, n) {
                if (!r) return e
                if ('object' != typeof r) {
                  if (Array.isArray(e)) e.push(r)
                  else {
                    if ('object' != typeof e) return [e, r]
                    ;(n.plainObjects ||
                      n.allowPrototypes ||
                      !i.call(Object.prototype, r)) &&
                      (e[r] = !0)
                  }
                  return e
                }
                if ('object' != typeof e) return [e].concat(r)
                var a = e
                return (
                  Array.isArray(e) &&
                    !Array.isArray(r) &&
                    (a = t.arrayToObject(e, n)),
                  Array.isArray(e) && Array.isArray(r)
                    ? (r.forEach(function (r, a) {
                        i.call(e, a)
                          ? e[a] && 'object' == typeof e[a]
                            ? (e[a] = t.merge(e[a], r, n))
                            : e.push(r)
                          : (e[a] = r)
                      }),
                      e)
                    : Object.keys(r).reduce(function (e, a) {
                        var o = r[a]
                        return (
                          i.call(e, a)
                            ? (e[a] = t.merge(e[a], o, n))
                            : (e[a] = o),
                          e
                        )
                      }, a)
                )
              }),
              (t.assign = function (e, t) {
                return Object.keys(t).reduce(function (e, r) {
                  return (e[r] = t[r]), e
                }, e)
              }),
              (t.decode = function (e) {
                try {
                  return decodeURIComponent(e.replace(/\+/g, ' '))
                } catch (t) {
                  return e
                }
              }),
              (t.encode = function (e) {
                if (0 === e.length) return e
                for (
                  var t = 'string' == typeof e ? e : String(e),
                    r = '',
                    i = 0;
                  i < t.length;
                  ++i
                ) {
                  var a = t.charCodeAt(i)
                  45 === a ||
                  46 === a ||
                  95 === a ||
                  126 === a ||
                  (a >= 48 && a <= 57) ||
                  (a >= 65 && a <= 90) ||
                  (a >= 97 && a <= 122)
                    ? (r += t.charAt(i))
                    : a < 128
                    ? (r += n[a])
                    : a < 2048
                    ? (r += n[192 | (a >> 6)] + n[128 | (63 & a)])
                    : a < 55296 || a >= 57344
                    ? (r +=
                        n[224 | (a >> 12)] +
                        n[128 | ((a >> 6) & 63)] +
                        n[128 | (63 & a)])
                    : ((i += 1),
                      (a =
                        65536 +
                        (((1023 & a) << 10) | (1023 & t.charCodeAt(i)))),
                      (r +=
                        n[240 | (a >> 18)] +
                        n[128 | ((a >> 12) & 63)] +
                        n[128 | ((a >> 6) & 63)] +
                        n[128 | (63 & a)]))
                }
                return r
              }),
              (t.compact = function (e) {
                for (
                  var t = [{ obj: { o: e }, prop: 'o' }], r = [], i = 0;
                  i < t.length;
                  ++i
                )
                  for (
                    var n = t[i],
                      o = n.obj[n.prop],
                      s = Object.keys(o),
                      u = 0;
                    u < s.length;
                    ++u
                  ) {
                    var l = s[u],
                      c = o[l]
                    'object' == typeof c &&
                      null !== c &&
                      -1 === r.indexOf(c) &&
                      (t.push({ obj: o, prop: l }), r.push(c))
                  }
                return a(t)
              }),
              (t.isRegExp = function (e) {
                return (
                  '[object RegExp]' === Object.prototype.toString.call(e)
                )
              }),
              (t.isBuffer = function (e) {
                return (
                  null !== e &&
                  void 0 !== e &&
                  !!(
                    e.constructor &&
                    e.constructor.isBuffer &&
                    e.constructor.isBuffer(e)
                  )
                )
              })
          },
          function (e, t, r) {
            'use strict'
            var i = String.prototype.replace,
              n = /%20/g
            e.exports = {
              default: 'RFC3986',
              formatters: {
                RFC1738: function (e) {
                  return i.call(e, n, '+')
                },
                RFC3986: function (e) {
                  return e
                },
              },
              RFC1738: 'RFC1738',
              RFC3986: 'RFC3986',
            }
          },
          function (e, t, r) {
            'use strict'
            function i(e) {
              return e && e.__esModule ? e : { default: e }
            }
            function n(e) {
              var t = {}
              for (var r in e) e.hasOwnProperty(r) && (t[e[r]] = r)
              return t
            }
            function a(e) {
              var t = {},
                r = {}
              return (
                Object.keys(e).forEach(function (i) {
                  var n = !1
                  if (e.hasOwnProperty(i) && void 0 !== e[i]) {
                    var a = i.split('_'),
                      o = a[0],
                      u = d[o]
                    u ||
                      (s.default.info(
                        'Data key word `' + a[0] + '` not expected in ' + i
                      ),
                      (u = o + '_')),
                      a.splice(1).forEach(function (e) {
                        'url' === e && (n = !0),
                          h[e]
                            ? (u += h[e])
                            : (s.default.info(
                                'Data key word `' +
                                  e +
                                  '` not expected in ' +
                                  i
                              ),
                              (u += '_' + e + '_'))
                      }),
                      n ? (r[u] = e[i]) : (t[u] = e[i])
                  }
                }),
                (0, l.default)(t, r)
              )
            }
            Object.defineProperty(t, '__esModule', { value: !0 }),
              (t.default = a)
            var o = r(4),
              s = i(o),
              u = r(1),
              l = i(u),
              c = {
                a: 'env',
                b: 'beacon',
                d: 'ad',
                e: 'event',
                f: 'experiment',
                m: 'mux',
                n: 'response',
                p: 'player',
                q: 'request',
                r: 'retry',
                s: 'session',
                t: 'timestamp',
                u: 'viewer',
                v: 'video',
                w: 'page',
                x: 'view',
                y: 'sub',
              },
              d = n(c),
              f = {
                ad: 'ad',
                ag: 'aggregate',
                ap: 'api',
                al: 'application',
                ar: 'architecture',
                as: 'asset',
                au: 'autoplay',
                av: 'average',
                bi: 'bitrate',
                br: 'break',
                bw: 'browser',
                by: 'bytes',
                ca: 'cached',
                cb: 'cancel',
                cd: 'code',
                cg: 'category',
                ch: 'changed',
                cn: 'config',
                co: 'count',
                ce: 'counter',
                cp: 'complete',
                cr: 'creative',
                ct: 'content',
                cu: 'current',
                cx: 'connection',
                dg: 'downscaling',
                dm: 'domain',
                dn: 'cdn',
                do: 'downscale',
                du: 'duration',
                dv: 'device',
                ec: 'encoding',
                en: 'end',
                eg: 'engine',
                em: 'embed',
                er: 'error',
                es: 'errorcode',
                et: 'errortext',
                ee: 'event',
                ev: 'events',
                ex: 'expires',
                fi: 'first',
                fm: 'family',
                ft: 'format',
                fq: 'frequency',
                fr: 'frame',
                fs: 'fullscreen',
                he: 'headers',
                ho: 'host',
                hn: 'hostname',
                ht: 'height',
                id: 'id',
                ii: 'init',
                in: 'instance',
                ip: 'ip',
                is: 'is',
                ke: 'key',
                la: 'language',
                lb: 'labeled',
                le: 'level',
                li: 'live',
                ld: 'loaded',
                lo: 'load',
                ls: 'lists',
                lt: 'latency',
                ma: 'max',
                md: 'media',
                me: 'message',
                mi: 'mime',
                ml: 'midroll',
                mm: 'min',
                mn: 'manufacturer',
                mx: 'mux',
                nm: 'name',
                no: 'number',
                on: 'on',
                os: 'os',
                pa: 'paused',
                pb: 'playback',
                pd: 'producer',
                pe: 'percentage',
                pf: 'played',
                pg: 'program',
                ph: 'playhead',
                pi: 'plugin',
                pl: 'preroll',
                po: 'poster',
                pr: 'preload',
                py: 'property',
                ra: 'rate',
                rd: 'requested',
                re: 'rebuffer',
                rf: 'rendition',
                ro: 'ratio',
                rp: 'response',
                rq: 'request',
                rs: 'requests',
                sa: 'sample',
                se: 'session',
                sk: 'seek',
                sm: 'stream',
                so: 'source',
                sq: 'sequence',
                sr: 'series',
                st: 'start',
                su: 'startup',
                sv: 'server',
                sw: 'software',
                ta: 'tag',
                tc: 'tech',
                te: 'text',
                th: 'throughput',
                ti: 'time',
                tl: 'total',
                to: 'to',
                tt: 'title',
                ty: 'type',
                ug: 'upscaling',
                up: 'upscale',
                ur: 'url',
                us: 'user',
                va: 'variant',
                vd: 'viewed',
                vi: 'video',
                ve: 'version',
                vw: 'view',
                vr: 'viewer',
                wd: 'width',
                wa: 'watch',
                wt: 'waiting',
              },
              h = n(f)
          },
          function (e, t, r) {
            'use strict'
            e.exports = r(19).default
          },
          function (e, t, r) {
            'use strict'
            function i(e) {
              return e && e.__esModule ? e : { default: e }
            }
            Object.defineProperty(t, '__esModule', { value: !0 })
            var n = (function () {
                function e(e, t) {
                  var r = [],
                    i = !0,
                    n = !1,
                    a = void 0
                  try {
                    for (
                      var o, s = e[Symbol.iterator]();
                      !(i = (o = s.next()).done) &&
                      (r.push(o.value), !t || r.length !== t);
                      i = !0
                    );
                  } catch (e) {
                    ;(n = !0), (a = e)
                  } finally {
                    try {
                      !i && s.return && s.return()
                    } finally {
                      if (n) throw a
                    }
                  }
                  return r
                }
                return function (t, r) {
                  if (Array.isArray(t)) return t
                  if (Symbol.iterator in Object(t)) return e(t, r)
                  throw new TypeError(
                    'Invalid attempt to destructure non-iterable instance'
                  )
                }
              })(),
              a = r(0),
              o = i(a),
              s = r(9),
              u = r(4),
              l = i(u),
              c = r(10),
              d = i(c),
              f = r(3),
              h = i(f),
              p = r(21),
              v = i(p),
              g = r(51),
              y = i(g),
              m = r(52),
              _ = i(m),
              b = {},
              E = function e(t) {
                var r = arguments
                'string' == typeof t
                  ? e.hasOwnProperty(t)
                    ? o.default.setTimeout(function () {
                        ;(r = Array.prototype.splice.call(r, 1)),
                          e[t].apply(null, r)
                      }, 0)
                    : l.default.warn('`' + t + '` is an unknown task')
                  : 'function' == typeof t
                  ? o.default.setTimeout(function () {
                      t(e)
                    }, 0)
                  : l.default.warn('`' + t + '` is invalid.')
              }
            ;(E.loaded = h.default.now()),
              (E.VERSION = '3.4.3'),
              (E.API_VERSION = '2.1'),
              (E.PLAYER_TRACKED = !1),
              (E.monitor = function (e, t) {
                return (0, y.default)(E, e, t)
              }),
              (E.destroyMonitor = function (e) {
                var t = (0, s.findMediaElement)(e),
                  r = n(t, 1),
                  i = r[0]
                i && i.mux && 'function' == typeof i.mux.destroy
                  ? i.mux.destroy()
                  : l.default.error(
                      'A video element monitor for `' +
                        e +
                        '` has not been initialized via `mux.monitor`.'
                    )
              }),
              (E.addHLSJS = function (e, t) {
                var r = (0, s.getMuxPlayerId)(e)
                b[r]
                  ? b[r].addHLSJS(t)
                  : l.default.error(
                      'A monitor for `' + r + '` has not been initialized.'
                    )
              }),
              (E.addDashJS = function (e, t) {
                var r = (0, s.getMuxPlayerId)(e)
                b[r]
                  ? b[r].addDashJS(t)
                  : l.default.error(
                      'A monitor for `' + r + '` has not been initialized.'
                    )
              }),
              (E.removeHLSJS = function (e) {
                var t = (0, s.getMuxPlayerId)(e)
                b[t]
                  ? b[t].removeHLSJS()
                  : l.default.error(
                      'A monitor for `' + t + '` has not been initialized.'
                    )
              }),
              (E.removeDashJS = function (e) {
                var t = (0, s.getMuxPlayerId)(e)
                b[t]
                  ? b[t].removeDashJS()
                  : l.default.error(
                      'A monitor for `' + t + '` has not been initialized.'
                    )
              }),
              (E.init = function (e, t) {
                ;(0, d.default)() &&
                  t &&
                  t.respectDoNotTrack &&
                  l.default.info(
                    "The browser's Do Not Track flag is enabled - Mux beaconing is disabled."
                  )
                var r = (0, s.getMuxPlayerId)(e)
                b[r] = new v.default(E, r, t)
              }),
              (E.emit = function (e, t, r) {
                var i = (0, s.getMuxPlayerId)(e)
                b[i]
                  ? (b[i].emit(t, r), 'destroy' === t && delete b[i])
                  : l.default.error(
                      'A monitor for `' + i + '` has not been initialized.'
                    )
              }),
              void 0 !== o.default &&
                'function' == typeof o.default.addEventListener &&
                o.default.addEventListener(
                  'unload',
                  function () {
                    E.WINDOW_UNLOADING = !0
                  },
                  !1
                ),
              (E.checkDoNotTrack = d.default),
              (E.log = l.default),
              (E.utils = _.default),
              (t.default = E)
          },
          function (e, t, r) {
            var i, n
            !(function (a, o) {
              'use strict'
              ;(i = o),
                void 0 !==
                  (n = 'function' == typeof i ? i.call(t, r, t, e) : i) &&
                  (e.exports = n)
            })(0, function () {
              'use strict'
              function e(e, t) {
                var r = e[t]
                if ('function' == typeof r.bind) return r.bind(e)
                try {
                  return Function.prototype.bind.call(r, e)
                } catch (t) {
                  return function () {
                    return Function.prototype.apply.apply(r, [
                      e,
                      arguments,
                    ])
                  }
                }
              }
              function t(t) {
                return (
                  'debug' === t && (t = 'log'),
                  typeof console !== s &&
                    (void 0 !== console[t]
                      ? e(console, t)
                      : void 0 !== console.log
                      ? e(console, 'log')
                      : o)
                )
              }
              function r(e, t) {
                for (var r = 0; r < u.length; r++) {
                  var i = u[r]
                  this[i] = r < e ? o : this.methodFactory(i, e, t)
                }
                this.log = this.debug
              }
              function i(e, t, i) {
                return function () {
                  typeof console !== s &&
                    (r.call(this, t, i), this[e].apply(this, arguments))
                }
              }
              function n(e, r, n) {
                return t(e) || i.apply(this, arguments)
              }
              function a(e, t, i) {
                function a(e) {
                  var t = (u[e] || 'silent').toUpperCase()
                  if (typeof window !== s) {
                    try {
                      return void (window.localStorage[d] = t)
                    } catch (e) {}
                    try {
                      window.document.cookie =
                        encodeURIComponent(d) + '=' + t + ';'
                    } catch (e) {}
                  }
                }
                function o() {
                  var e
                  if (typeof window !== s) {
                    try {
                      e = window.localStorage[d]
                    } catch (e) {}
                    if (typeof e === s)
                      try {
                        var t = window.document.cookie,
                          r = t.indexOf(encodeURIComponent(d) + '=')
                        r && (e = /^([^;]+)/.exec(t.slice(r))[1])
                      } catch (e) {}
                    return void 0 === c.levels[e] && (e = void 0), e
                  }
                }
                var l,
                  c = this,
                  d = 'loglevel'
                e && (d += ':' + e),
                  (c.levels = {
                    TRACE: 0,
                    DEBUG: 1,
                    INFO: 2,
                    WARN: 3,
                    ERROR: 4,
                    SILENT: 5,
                  }),
                  (c.methodFactory = i || n),
                  (c.getLevel = function () {
                    return l
                  }),
                  (c.setLevel = function (t, i) {
                    if (
                      ('string' == typeof t &&
                        void 0 !== c.levels[t.toUpperCase()] &&
                        (t = c.levels[t.toUpperCase()]),
                      !(
                        'number' == typeof t &&
                        t >= 0 &&
                        t <= c.levels.SILENT
                      ))
                    )
                      throw (
                        'log.setLevel() called with invalid level: ' + t
                      )
                    if (
                      ((l = t),
                      !1 !== i && a(t),
                      r.call(c, t, e),
                      typeof console === s && t < c.levels.SILENT)
                    )
                      return 'No console available for logging'
                  }),
                  (c.setDefaultLevel = function (e) {
                    o() || c.setLevel(e, !1)
                  }),
                  (c.enableAll = function (e) {
                    c.setLevel(c.levels.TRACE, e)
                  }),
                  (c.disableAll = function (e) {
                    c.setLevel(c.levels.SILENT, e)
                  })
                var f = o()
                null == f && (f = null == t ? 'WARN' : t),
                  c.setLevel(f, !1)
              }
              var o = function () {},
                s = 'undefined',
                u = ['trace', 'debug', 'info', 'warn', 'error'],
                l = new a(),
                c = {}
              l.getLogger = function (e) {
                if ('string' != typeof e || '' === e)
                  throw new TypeError(
                    'You must supply a name when creating a logger.'
                  )
                var t = c[e]
                return (
                  t ||
                    (t = c[e] = new a(e, l.getLevel(), l.methodFactory)),
                  t
                )
              }
              var d = typeof window !== s ? window.log : void 0
              return (
                (l.noConflict = function () {
                  return (
                    typeof window !== s &&
                      window.log === l &&
                      (window.log = d),
                    l
                  )
                }),
                l
              )
            })
          },
          function (e, t, r) {
            'use strict'
            function i(e) {
              return e && e.__esModule ? e : { default: e }
            }
            Object.defineProperty(t, '__esModule', { value: !0 })
            var n = (function () {
                function e(e, t) {
                  var r = [],
                    i = !0,
                    n = !1,
                    a = void 0
                  try {
                    for (
                      var o, s = e[Symbol.iterator]();
                      !(i = (o = s.next()).done) &&
                      (r.push(o.value), !t || r.length !== t);
                      i = !0
                    );
                  } catch (e) {
                    ;(n = !0), (a = e)
                  } finally {
                    try {
                      !i && s.return && s.return()
                    } finally {
                      if (n) throw a
                    }
                  }
                  return r
                }
                return function (t, r) {
                  if (Array.isArray(t)) return t
                  if (Symbol.iterator in Object(t)) return e(t, r)
                  throw new TypeError(
                    'Invalid attempt to destructure non-iterable instance'
                  )
                }
              })(),
              a = r(4),
              o = i(a),
              s = r(1),
              u = i(s),
              l = r(7),
              c = r(5),
              d = r(0),
              f = i(d),
              h = r(11),
              p = i(h),
              v = r(2),
              g = i(v),
              y = r(22),
              m = i(y),
              _ = r(25),
              b = r(26),
              E = r(27),
              w = i(E),
              T = r(28),
              S = i(T),
              A = r(29),
              R = i(A),
              k = r(30),
              D = i(k),
              O = r(31),
              L = i(O),
              P = r(32),
              x = i(P),
              I = r(33),
              C = i(I),
              M = r(34),
              N = i(M),
              F = r(35),
              U = i(F),
              B = r(36),
              j = i(B),
              G = r(37),
              H = i(G),
              q = r(38),
              V = i(q),
              K = r(39),
              z = i(K),
              W = r(40),
              Y = i(W),
              Q = r(50),
              X = i(Q),
              $ = [
                'viewstart',
                'ended',
                'loadstart',
                'pause',
                'play',
                'playing',
                'ratechange',
                'waiting',
                'adplay',
                'adpause',
                'adended',
                'aderror',
                'adplaying',
                'adrequest',
                'adresponse',
                'adbreakstart',
                'adbreakend',
                'rebufferstart',
                'rebufferend',
                'seeked',
                'error',
                'hb',
                'requestcompleted',
                'requestfailed',
                'requestcanceled',
                'renditionchange',
              ],
              J = function (e, t, r) {
                var i = this
                ;(this.DOM_CONTENT_LOADED_EVENT_END =
                  p.default.domContentLoadedEventEnd()),
                  (this.NAVIGATION_START = p.default.navigationStart())
                var n = {
                  debug: !1,
                  minimumRebufferDuration: 250,
                  sustainedRebufferThreshold: 1e3,
                  playbackHeartbeatTime: 25,
                  beaconDomain: 'litix.io',
                  sampleRate: 1,
                  disableCookies: !1,
                  respectDoNotTrack: !1,
                  disableRebufferTracking: !1,
                  errorTranslator: function (e) {
                    return e
                  },
                }
                ;(this.mux = e),
                  (this.id = t),
                  (r = (0, u.default)(n, r)),
                  (r.data = r.data || {}),
                  r.data.property_key &&
                    ((r.data.env_key = r.data.property_key),
                    delete r.data.property_key),
                  o.default.setLevel(r.debug ? 'debug' : 'warn'),
                  (this.getPlayheadTime = r.getPlayheadTime),
                  (this.getStateData = r.getStateData || function () {}),
                  (this.getAdData = r.getAdData || function () {}),
                  (this.minimumRebufferDuration =
                    r.minimumRebufferDuration),
                  (this.sustainedRebufferThreshold =
                    r.sustainedRebufferThreshold),
                  (this.playbackHeartbeatTime = r.playbackHeartbeatTime),
                  (this.disableRebufferTracking =
                    r.disableRebufferTracking),
                  this.disableRebufferTracking &&
                    this.mux.log.warn(
                      'Disabling rebuffer tracking. This should only be used in specific circumstances as a last resort when your player is known to unreliably track rebuffering.'
                    ),
                  (this.errorTranslator = r.errorTranslator),
                  (this.playbackEventDispatcher = new Y.default(
                    e,
                    r.data.env_key,
                    r
                  )),
                  (this.data = {
                    player_instance_id: (0, l.generateUUID)(),
                    mux_sample_rate: r.sampleRate,
                    beacon_domain: r.beaconDomain,
                  }),
                  (this.data.view_sequence_number = 1),
                  (this.data.player_sequence_number = 1),
                  (this.oldEmit = this.emit),
                  (this.emit = function (e, t) {
                    ;(t = (0, u.default)(
                      { viewer_time: this.mux.utils.now() },
                      t
                    )),
                      this.oldEmit(e, t)
                  })
                var a = function () {
                  void 0 === this.data.view_start &&
                    ((this.data.view_start = this.mux.utils.now()),
                    this.emit('viewstart'))
                }.bind(this)
                this.on('viewinit', function (e, t) {
                  this._resetVideoData(),
                    this._resetViewData(),
                    this._resetErrorData(),
                    this._updateStateData(),
                    (0, u.default)(this.data, t),
                    this._initializeViewData(),
                    this.one('play', a),
                    this.one('adbreakstart', a)
                })
                var s = function (e) {
                  this.emit('viewend'),
                    this.send('viewend'),
                    this.emit('viewinit', e)
                }.bind(this)
                this.on('videochange', function (e, t) {
                  s(t)
                }),
                  this.on('programchange', function (e, t) {
                    this.data.player_is_paused &&
                      this.mux.log.warn(
                        'The `programchange` event is intended to be used when the content changes mid playback without the video source changing, however the video is not currently playing. If the video source is changing please use the videochange event otherwise you will lose startup time information.'
                      ),
                      s((0, u.default)(t, { view_program_changed: !0 })),
                      a()
                  }),
                  this.on('destroy', this.destroy)
                var c = this.destroy.bind(this)
                void 0 !== f.default &&
                  'function' == typeof f.default.addEventListener &&
                  f.default.addEventListener('unload', c, !1),
                  this.on('destroy', function () {
                    void 0 !== f.default &&
                      'function' == typeof f.default.removeEventListener &&
                      f.default.removeEventListener('unload', c)
                  }),
                  this.on('playerready', function (e, t) {
                    ;(0, u.default)(this.data, t)
                  }),
                  $.forEach(function (e) {
                    i.on(e, function (t, r) {
                      0 !== e.indexOf('ad') && this._updateStateData(),
                        (0, u.default)(this.data, r),
                        this._sanitizeData()
                    }),
                      i.on('after' + e, function () {
                        ;('error' !== e || this.viewErrored) &&
                          this.send(e)
                      })
                  }),
                  this.on('viewend', function (e, t) {
                    ;(0, u.default)(i.data, t)
                  })
                var d = function (e) {
                  var t = this.mux.utils.now()
                  this.data.player_init_time &&
                    (this.data.player_startup_time =
                      t - this.data.player_init_time),
                    !this.mux.PLAYER_TRACKED &&
                      this.NAVIGATION_START &&
                      ((this.mux.PLAYER_TRACKED = !0),
                      (this.data.player_init_time ||
                        this.DOM_CONTENT_LOADED_EVENT_END) &&
                        (this.data.page_load_time =
                          Math.min(
                            this.data.player_init_time || 1 / 0,
                            this.DOM_CONTENT_LOADED_EVENT_END || 1 / 0
                          ) - this.NAVIGATION_START)),
                    this.send('playerready'),
                    delete this.data.player_startup_time,
                    delete this.data.page_load_time
                }
                this.one('playerready', d),
                  R.default.apply(this),
                  z.default.apply(this),
                  j.default.apply(this),
                  x.default.apply(this),
                  S.default.apply(this),
                  U.default.apply(this),
                  D.default.apply(this),
                  L.default.apply(this),
                  H.default.apply(this),
                  C.default.apply(this),
                  N.default.apply(this),
                  V.default.apply(this),
                  X.default.apply(this),
                  r.hlsjs && this.addHLSJS(r),
                  r.dashjs && this.addDashJS(r),
                  this.emit('viewinit', r.data)
              }
            ;(0, u.default)(J.prototype, w.default.prototype),
              (0, u.default)(J.prototype, x.default.prototype),
              (0, u.default)(J.prototype, j.default.prototype),
              (0, u.default)(J.prototype, S.default.prototype),
              (0, u.default)(J.prototype, D.default.prototype),
              (0, u.default)(J.prototype, L.default.prototype),
              (0, u.default)(J.prototype, H.default.prototype),
              (0, u.default)(J.prototype, C.default.prototype),
              (0, u.default)(J.prototype, N.default.prototype),
              (J.prototype.destroy = function () {
                this._destroyed ||
                  ((this._destroyed = !0),
                  void 0 !== this.data.view_start &&
                    (this.emit('viewend'), this.send('viewend')),
                  this.playbackEventDispatcher.destroy(),
                  this.removeHLSJS(),
                  this.removeDashJS(),
                  f.default.clearTimeout(this._heartBeatTimeout))
              }),
              (J.prototype.send = function (e) {
                var t = (0, u.default)({}, this.data)
                if (
                  (1 === t.player_error_code &&
                    (delete t.player_error_code,
                    delete t.player_error_message),
                  t.player_source_duration === 1 / 0 ||
                  t.video_source_duration === 1 / 0
                    ? (t.video_source_is_live = !0)
                    : (t.player_source_duration > 0 ||
                        t.video_source_duration > 0) &&
                      (t.video_source_is_live = !1),
                  (t.video_source_url =
                    t.video_source_url || t.player_source_url),
                  t.video_source_url)
                ) {
                  var r = (0, c.extractHostnameAndDomain)(
                      t.video_source_url
                    ),
                    i = n(r, 2),
                    a = i[0],
                    o = i[1]
                  ;(t.video_source_domain = o),
                    (t.video_source_hostname = a)
                }
                delete t.ad_request_id,
                  this.playbackEventDispatcher.send(e, t),
                  this.data.view_sequence_number++,
                  this.data.player_sequence_number++,
                  this._restartHeartBeat()
              }),
              (J.prototype._updateStateData = function () {
                ;(0, u.default)(this.data, this.getStateData()),
                  this.getPlayheadTime &&
                    (this.data.player_playhead_time =
                      this.getPlayheadTime()),
                  this._sanitizeData()
              }),
              (J.prototype._sanitizeData = function () {
                var e = this
                ;[
                  'player_width',
                  'player_height',
                  'video_source_width',
                  'video_source_height',
                  'player_playhead_time',
                  'video_source_bitrate',
                ].forEach(function (t) {
                  var r = parseInt(e.data[t], 10)
                  e.data[t] = isNaN(r) ? void 0 : r
                }),
                  ['player_source_url', 'video_source_url'].forEach(
                    function (t) {
                      e.data[t] &&
                        0 === e.data[t].toLowerCase().indexOf('data:') &&
                        (e.data[t] = 'MSE style URL')
                    }
                  )
              }),
              (J.prototype._resetVideoData = function (e, t) {
                var r = this
                Object.keys(this.data).forEach(function (e) {
                  0 === e.indexOf('video_') && delete r.data[e]
                })
              }),
              (J.prototype._resetViewData = function () {
                var e = this
                Object.keys(this.data).forEach(function (t) {
                  0 === t.indexOf('view_') && delete e.data[t]
                }),
                  (this.data.view_sequence_number = 1)
              }),
              (J.prototype._resetErrorData = function (e, t) {
                delete this.data.player_error_code,
                  delete this.data.player_error_message
              }),
              (J.prototype._initializeViewData = function () {
                var e = this,
                  t = (this.data.view_id = (0, l.generateUUID)())
                this.data.video_id ||
                  (this.data.video_id = (0, m.default)(
                    this.data.player_source_url
                  ))
                var r = function () {
                  t === e.data.view_id &&
                    (0, g.default)(e.data, 'player_view_count', 1)
                }
                this.data.player_is_paused ? this.one('play', r) : r()
              }),
              (J.prototype._restartHeartBeat = function () {
                var e = this
                f.default.clearTimeout(this._heartBeatTimeout),
                  this.viewErrored ||
                    (this._heartBeatTimeout = f.default.setTimeout(
                      function () {
                        e.data.player_is_paused || e.emit('hb')
                      },
                      1e4
                    ))
              }),
              (J.prototype.addHLSJS = function (e) {
                return e.hlsjs
                  ? this.hlsjs
                    ? void this.mux.log.warn(
                        'An instance of HLS.js is already being monitored for this player.'
                      )
                    : ((this.hlsjs = e.hlsjs),
                      void (0, _.monitorHlsJs)(
                        this.mux,
                        this.id,
                        e.hlsjs,
                        {},
                        e.Hls || f.default.Hls
                      ))
                  : void this.mux.log.warn(
                      'You must pass a valid hlsjs instance in order to track it.'
                    )
              }),
              (J.prototype.removeHLSJS = function () {
                this.hlsjs &&
                  ((0, _.stopMonitoringHlsJs)(this.hlsjs),
                  (this.hlsjs = void 0))
              }),
              (J.prototype.addDashJS = function (e) {
                return e.dashjs
                  ? this.dashjs
                    ? void this.mux.log.warn(
                        'An instance of Dash.js is already being monitored for this player.'
                      )
                    : ((this.dashjs = e.dashjs),
                      void (0, b.monitorDashJS)(
                        this.mux,
                        this.id,
                        e.dashjs
                      ))
                  : void this.mux.log.warn(
                      'You must pass a valid dashjs instance in order to track it.'
                    )
              }),
              (J.prototype.removeDashJS = function () {
                this.dashjs &&
                  ((0, b.stopMonitoringDashJS)(this.dashjs),
                  (this.dashjs = void 0))
              }),
              (t.default = J)
          },
          function (e, t, r) {
            'use strict'
            function i(e) {
              return e && e.__esModule ? e : { default: e }
            }
            function n(e) {
              var t = o.default.createElement('a')
              t.href = e
              var r = t.pathname.replace(/\.[^\/.]+$/, '')
              return u.default.encode(t.host + r).split('=')[0]
            }
            Object.defineProperty(t, '__esModule', { value: !0 }),
              (t.default = n)
            var a = r(12),
              o = i(a),
              s = r(24),
              u = i(s)
          },
          function (e, t) {},
          function (e, t, r) {
            ;(function (e, i) {
              var n
              !(function (i) {
                var a =
                  ('object' == typeof e && e && e.exports,
                  function (e) {
                    this.message = e
                  })
                ;(a.prototype = new Error()),
                  (a.prototype.name = 'InvalidCharacterError')
                var o = function (e) {
                    throw new a(e)
                  },
                  s =
                    'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',
                  u = /[\t\n\f\r ]/g,
                  l = function (e) {
                    e = String(e).replace(u, '')
                    var t = e.length
                    t % 4 == 0 &&
                      ((e = e.replace(/==?$/, '')), (t = e.length)),
                      (t % 4 == 1 || /[^+a-zA-Z0-9\/]/.test(e)) &&
                        o(
                          'Invalid character: the string to be decoded is not correctly encoded.'
                        )
                    for (var r, i, n = 0, a = '', l = -1; ++l < t; )
                      (i = s.indexOf(e.charAt(l))),
                        (r = n % 4 ? 64 * r + i : i),
                        n++ % 4 &&
                          (a += String.fromCharCode(
                            255 & (r >> ((-2 * n) & 6))
                          ))
                    return a
                  },
                  c = function (e) {
                    ;(e = String(e)),
                      /[^\0-\xFF]/.test(e) &&
                        o(
                          'The string to be encoded contains characters outside of the Latin1 range.'
                        )
                    for (
                      var t,
                        r,
                        i,
                        n,
                        a = e.length % 3,
                        u = '',
                        l = -1,
                        c = e.length - a;
                      ++l < c;

                    )
                      (t = e.charCodeAt(l) << 16),
                        (r = e.charCodeAt(++l) << 8),
                        (i = e.charCodeAt(++l)),
                        (n = t + r + i),
                        (u +=
                          s.charAt((n >> 18) & 63) +
                          s.charAt((n >> 12) & 63) +
                          s.charAt((n >> 6) & 63) +
                          s.charAt(63 & n))
                    return (
                      2 == a
                        ? ((t = e.charCodeAt(l) << 8),
                          (r = e.charCodeAt(++l)),
                          (n = t + r),
                          (u +=
                            s.charAt(n >> 10) +
                            s.charAt((n >> 4) & 63) +
                            s.charAt((n << 2) & 63) +
                            '='))
                        : 1 == a &&
                          ((n = e.charCodeAt(l)),
                          (u +=
                            s.charAt(n >> 2) +
                            s.charAt((n << 4) & 63) +
                            '==')),
                      u
                    )
                  },
                  d = { encode: c, decode: l, version: '0.1.0' }
                void 0 !==
                  (n = function () {
                    return d
                  }.call(t, r, t, e)) && (e.exports = n)
              })()
            }).call(t, r(13)(e), r(6))
          },
          function (e, t, r) {
            'use strict'
            function i(e) {
              return e && e.__esModule ? e : { default: e }
            }
            Object.defineProperty(t, '__esModule', { value: !0 }),
              (t.stopMonitoringHlsJs = t.monitorHlsJs = void 0)
            var n = r(8),
              a = i(n),
              o = r(11),
              s = i(o),
              u = r(5),
              l = function (e) {
                if (!e) return {}
                var t = s.default.navigationStart()
                return {
                  bytesLoaded: e.total,
                  requestStart: Math.round(t + e.trequest),
                  responseStart: Math.round(t + e.tfirst),
                  responseEnd: Math.round(t + e.tload),
                }
              },
              c = function (e) {
                if (e && 'function' == typeof e.getAllResponseHeaders)
                  return (0, a.default)(e.getAllResponseHeaders())
              },
              d = function (e, t, r) {
                var i =
                    (arguments.length > 3 &&
                      void 0 !== arguments[3] &&
                      arguments[3],
                    arguments[4]),
                  n = e.log
                if (!s.default.exists())
                  return void n.warn(
                    'performance timing not supported. Not tracking HLS.js.'
                  )
                var a = function (r, i) {
                    return e.emit(t, r, i)
                  },
                  o = function (e, t) {
                    var r = t.levels,
                      i = t.audioTracks,
                      n = t.url,
                      o = t.stats,
                      s = t.networkDetails,
                      d = {},
                      f = {}
                    r.forEach(function (e, t) {
                      d[t] = {
                        width: e.width,
                        height: e.height,
                        bitrate: e.bitrate,
                        attrs: e.attrs,
                      }
                    }),
                      i.forEach(function (e, t) {
                        f[t] = {
                          name: e.name,
                          language: e.lang,
                          bitrate: e.bitrate,
                        }
                      })
                    var h = l(o),
                      p = h.bytesLoaded,
                      v = h.requestStart,
                      g = h.responseStart,
                      y = h.responseEnd
                    a('requestcompleted', {
                      request_event_type: e,
                      request_bytes_loaded: p,
                      request_start: v,
                      request_response_start: g,
                      request_response_end: y,
                      request_type: 'manifest',
                      request_hostname: (0, u.extractHostname)(n),
                      request_response_headers: c(s),
                      request_rendition_lists: {
                        media: d,
                        audio: f,
                        video: {},
                      },
                    })
                  }
                r.on(i.Events.MANIFEST_LOADED, o)
                var d = function (e, t) {
                  var r = t.details,
                    i = t.level,
                    n = t.networkDetails,
                    o = t.stats,
                    s = l(o),
                    d = s.bytesLoaded,
                    f = s.requestStart,
                    h = s.responseStart,
                    p = s.responseEnd
                  a('requestcompleted', {
                    request_event_type: e,
                    request_bytes_loaded: d,
                    request_start: f,
                    request_response_start: h,
                    request_response_end: p,
                    request_current_level: i,
                    request_type: 'manifest',
                    request_hostname: (0, u.extractHostname)(r.url),
                    request_response_headers: c(n),
                  })
                }
                r.on(i.Events.LEVEL_LOADED, d)
                var f = function (e, t) {
                  var r = t.details,
                    i = t.networkDetails,
                    n = t.stats,
                    o = l(n),
                    s = o.bytesLoaded,
                    d = o.requestStart,
                    f = o.responseStart,
                    h = o.responseEnd
                  a('requestcompleted', {
                    request_event_type: e,
                    request_bytes_loaded: s,
                    request_start: d,
                    request_response_start: f,
                    request_response_end: h,
                    request_type: 'manifest',
                    request_hostname: (0, u.extractHostname)(r.url),
                    request_response_headers: c(i),
                  })
                }
                r.on(i.Events.AUDIO_TRACK_LOADED, f)
                var h = function (e, t) {
                  var i = t.stats,
                    n = t.networkDetails,
                    o = t.frag,
                    s = l(i),
                    d = s.bytesLoaded,
                    f = s.requestStart,
                    h = s.responseStart,
                    p = s.responseEnd,
                    v = {
                      request_event_type: e,
                      request_bytes_loaded: d,
                      request_start: f,
                      request_response_start: h,
                      request_response_end: p,
                      request_hostname: n
                        ? (0, u.extractHostname)(n.responseURL)
                        : void 0,
                      request_response_headers: c(n),
                      request_media_duration: o.duration,
                    }
                  'main' === o.type
                    ? ((v.request_type = 'media'),
                      (v.request_current_level = o.level),
                      (v.request_video_width = (
                        r.levels[o.level] || {}
                      ).width),
                      (v.request_video_height = (
                        r.levels[o.level] || {}
                      ).height))
                    : (v.request_type = o.type),
                    a('requestcompleted', v)
                }
                r.on(i.Events.FRAG_LOADED, h)
                var p = function (e, t) {
                  var r = t.details,
                    n = t.response,
                    o = t.context,
                    s = t.frag
                  if (
                    r === i.ErrorDetails.MANIFEST_LOAD_ERROR ||
                    r === i.ErrorDetails.MANIFEST_LOAD_TIMEOUT ||
                    r === i.ErrorDetails.FRAG_LOAD_ERROR ||
                    r === i.ErrorDetails.FRAG_LOAD_TIMEOUT ||
                    r === i.ErrorDetails.LEVEL_LOAD_ERROR ||
                    r === i.ErrorDetails.LEVEL_LOAD_TIMEOUT
                  ) {
                    var l = (s && s.url) || (o && o.url) || ''
                    a('requestfailed', {
                      request_error: r,
                      request_url: l,
                      request_hostname: (0, u.extractHostname)(l),
                      request_type:
                        r === i.ErrorDetails.FRAG_LOAD_ERROR ||
                        r === i.ErrorDetails.FRAG_LOAD_TIMEOUT
                          ? 'media'
                          : 'manifest',
                      request_error_code: n && n.code,
                      request_error_text: n && n.text,
                    })
                  }
                }
                r.on(i.Events.ERROR, p)
                var v = function (e, t) {
                  var r = t.frag,
                    i = (r && r._url) || ''
                  a('requestcanceled', {
                    request_cancel: e,
                    request_url: i,
                    request_type: 'media',
                    request_hostname: (0, u.extractHostname)(i),
                  })
                }
                r.on(i.Events.FRAG_LOAD_EMERGENCY_ABORTED, v)
                var g = function (e, t) {
                  var i = t.level,
                    o = r.levels.find(function (e) {
                      return e.level === i
                    })
                  if (o && o.attrs && o.attrs.BANDWIDTH) {
                    var s = o.attrs.BANDWIDTH
                    s
                      ? a('renditionchange', {
                          video_source_bitrate: s,
                          video_source_width: o.width,
                          video_source_height: o.height,
                        })
                      : n.warn(
                          'missing BANDWIDTH from HLS manifest parsed by HLS.js'
                        )
                  }
                }
                r.on(i.Events.LEVEL_SWITCHED, g),
                  (r._stopMuxMonitor = function () {
                    r.off(i.Events.MANIFEST_LOADED, o),
                      r.off(i.Events.LEVEL_LOADED, d),
                      r.off(i.Events.AUDIO_TRACK_LOADED, f),
                      r.off(i.Events.FRAG_LOADED, h),
                      r.off(i.Events.ERROR, p),
                      r.off(i.Events.FRAG_LOAD_EMERGENCY_ABORTED, v),
                      r.off(i.Events.LEVEL_SWITCHED, g),
                      r.off(i.Events.DESTROYING, r._stopMuxMonitor),
                      delete r._stopMuxMonitor
                  }),
                  r.on(i.Events.DESTROYING, r._stopMuxMonitor)
              },
              f = function (e) {
                e &&
                  'function' == typeof e._stopMuxMonitor &&
                  e._stopMuxMonitor()
              }
            ;(t.monitorHlsJs = d), (t.stopMonitoringHlsJs = f)
          },
          function (e, t, r) {
            'use strict'
            function i(e) {
              return e && e.__esModule ? e : { default: e }
            }
            Object.defineProperty(t, '__esModule', { value: !0 }),
              (t.stopMonitoringDashJS = t.monitorDashJS = void 0)
            var n = r(0),
              a = i(n),
              o = r(8),
              s = i(o),
              u = r(5),
              l = function (e, t) {
                if (!e || 'function' != typeof e.getRequests) return {}
                var r = e.getRequests({ state: 'executed' })
                if (0 === r.length) return {}
                var i = r[r.length - 1],
                  n = (0, u.extractHostname)(i.url),
                  a = i.bytesLoaded,
                  o = new Date(i.requestStartDate).getTime(),
                  l = new Date(i.firstByteDate).getTime(),
                  c = new Date(i.requestEndDate).getTime(),
                  d = isNaN(i.duration) ? 0 : i.duration,
                  f =
                    'function' == typeof t.getMetricsFor
                      ? t.getMetricsFor(i.mediaType).HttpList
                      : t.getDashMetrics().getHttpRequests(i.mediaType),
                  h = void 0
                return (
                  f.length > 0 &&
                    (h = (0, s.default)(
                      f[f.length - 1]._responseHeaders || ''
                    )),
                  {
                    requestStart: o,
                    requestResponseStart: l,
                    requestResponseEnd: c,
                    requestBytesLoaded: a,
                    requestResponseHeaders: h,
                    requestMediaDuration: d,
                    requestHostname: n,
                  }
                )
              },
              c = function (e, t) {
                var r = t.getQualityFor(e),
                  i = t.getCurrentTrackFor(e),
                  n = i.bitrateList
                return n
                  ? {
                      currentLevel: r,
                      renditionWidth: n[r].width || null,
                      renditionHeight: n[r].height || null,
                      renditionBitrate: n[r].bandwidth,
                    }
                  : {}
              },
              d = function (e, t, r) {
                var i =
                  (arguments.length > 3 &&
                    void 0 !== arguments[3] &&
                    arguments[3],
                  e.log)
                if (!r || !r.on)
                  return void i.warn(
                    'Invalid dash.js player reference. Monitoring blocked.'
                  )
                var n = function (r, i) {
                    return e.emit(t, r, i)
                  },
                  o = function (e) {
                    var t = e.type,
                      r = e.data,
                      i = r || {},
                      a = i.url
                    n('requestcompleted', {
                      request_event_type: t,
                      request_start: 0,
                      request_response_start: 0,
                      request_response_end: 0,
                      request_bytes_loaded: -1,
                      request_type: 'manifest',
                      request_hostname: (0, u.extractHostname)(a),
                    })
                  }
                r.on('manifestLoaded', o)
                var s = {},
                  d = function (e) {
                    var t = e.type,
                      i = e.fragmentModel,
                      a = e.chunk,
                      o = a || {},
                      u = o.mediaInfo,
                      c = u || {},
                      d = c.type,
                      f = c.bitrateList
                    f = f || []
                    var h = {}
                    f.forEach(function (e, t) {
                      ;(h[t] = {}),
                        (h[t].width = e.width),
                        (h[t].height = e.height),
                        (h[t].bitrate = e.bandwidth),
                        (h[t].attrs = {})
                    }),
                      'video' === d
                        ? (s.video = h)
                        : 'audio' === d
                        ? (s.audio = h)
                        : (s.media = h)
                    var p = l(i, r),
                      v = p.requestStart,
                      g = p.requestResponseStart,
                      y = p.requestResponseEnd,
                      m = p.requestResponseHeaders,
                      _ = p.requestMediaDuration,
                      b = p.requestHostname
                    n('requestcompleted', {
                      request_event_type: t,
                      request_start: v,
                      request_response_start: g,
                      request_response_end: y,
                      request_bytes_loaded: -1,
                      request_type: d + '_init',
                      request_response_headers: m,
                      request_hostname: b,
                      request_media_duration: _,
                      request_rendition_lists: s,
                    })
                  }
                r.on('initFragmentLoaded', d)
                var f = function (e) {
                  var t = e.type,
                    i = e.fragmentModel,
                    a = e.chunk,
                    o = a || {},
                    s = o.mediaInfo,
                    u = o.start,
                    d = s || {},
                    f = d.type,
                    h = l(i, r),
                    p = h.requestStart,
                    v = h.requestResponseStart,
                    g = h.requestResponseEnd,
                    y = h.requestBytesLoaded,
                    m = h.requestResponseHeaders,
                    _ = h.requestMediaDuration,
                    b = h.requestHostname,
                    E = c(f, r),
                    w = E.currentLevel,
                    T = E.renditionWidth,
                    S = E.renditionHeight,
                    A = E.renditionBitrate
                  n('requestcompleted', {
                    request_event_type: t,
                    request_start: p,
                    request_response_start: v,
                    request_response_end: g,
                    request_bytes_loaded: y,
                    request_type: f,
                    request_response_headers: m,
                    request_hostname: b,
                    request_media_start_time: u,
                    request_media_duration: _,
                    request_current_level: w,
                    request_labeled_bitrate: A,
                    request_video_width: T,
                    request_video_height: S,
                  })
                }
                r.on('mediaFragmentLoaded', f)
                var h = {
                    video: void 0,
                    audio: void 0,
                    totalBitrate: void 0,
                  },
                  p = function () {
                    if (h.video && 'number' == typeof h.video.bitrate) {
                      if (!h.video.width || !h.video.height)
                        return void i.warn(
                          'have bitrate info for video but missing width/height'
                        )
                      var e = h.video.bitrate
                      return (
                        h.audio &&
                          'number' == typeof h.audio.bitrate &&
                          (e += h.audio.bitrate),
                        e !== h.totalBitrate
                          ? ((h.totalBitrate = e),
                            {
                              video_source_bitrate: e,
                              video_source_height: h.video.height,
                              video_source_width: h.video.width,
                            })
                          : void 0
                      )
                    }
                  },
                  v = function (e, t, a) {
                    if ('number' != typeof e.newQuality)
                      return void i.warn(
                        'missing evt.newQuality in qualityChangeRendered event',
                        e
                      )
                    var o = e.mediaType
                    if ('audio' === o || 'video' === o) {
                      var s = r
                        .getBitrateInfoListFor(o)
                        .find(function (t) {
                          return t.qualityIndex === e.newQuality
                        })
                      if (!s || 'number' != typeof s.bitrate)
                        return void i.warn('missing bitrate info for ' + o)
                      h[o] = s
                      var u = p()
                      u && n('renditionchange', u)
                    }
                  }
                r.on('qualityChangeRendered', v)
                var g = function (e) {
                  var t = e.error,
                    r = e.event
                  r = r || {}
                  var i = r.request || {},
                    o =
                      (a.default.event && a.default.event.currentTarget) ||
                      {}
                  n('requestfailed', {
                    request_error: t + '_' + r.id + '_' + i.type,
                    request_url: r.url,
                    request_hostname: (0, u.extractHostname)(r.url),
                    request_type: i.mediaType,
                    request_error_code: o.status,
                    request_error_type: o.statusText,
                  })
                }
                r.on('error', g),
                  (r._stopMuxMonitor = function () {
                    r.off('manifestLoaded', o),
                      r.off('initFragmentLoaded', d),
                      r.off('mediaFragmentLoaded', f),
                      r.off('qualityChangeRendered', v),
                      r.off('error', g),
                      delete r._stopMuxMonitor
                  })
              },
              f = function (e) {
                e &&
                  'function' == typeof e._stopMuxMonitor &&
                  e._stopMuxMonitor()
              }
            ;(t.monitorDashJS = d), (t.stopMonitoringDashJS = f)
          },
          function (e, t, r) {
            'use strict'
            Object.defineProperty(t, '__esModule', { value: !0 })
            var i = function () {},
              n = 0
            ;(i.prototype.on = function (e, t, r) {
              return (
                (t._eventEmitterGuid = t._eventEmitterGuid || ++n),
                (this._listeners = this._listeners || {}),
                (this._listeners[e] = this._listeners[e] || []),
                r && (t = t.bind(r)),
                this._listeners[e].push(t),
                t
              )
            }),
              (i.prototype.off = function (e, t) {
                var r = this._listeners && this._listeners[e]
                r &&
                  r.forEach(function (e, i) {
                    e._eventEmitterGuid === t._eventEmitterGuid &&
                      r.splice(i, 1)
                  })
              }),
              (i.prototype.one = function (e, t, r) {
                var i = this
                t._eventEmitterGuid = t._eventEmitterGuid || ++n
                var a = function n() {
                  i.off(e, n), t.apply(r || this, arguments)
                }
                ;(a._eventEmitterGuid = t._eventEmitterGuid), this.on(e, a)
              }),
              (i.prototype.emit = function (e, t) {
                var r = this
                if (this._listeners) {
                  t = t || {}
                  var i = this._listeners['before*'] || [],
                    n = this._listeners[e] || [],
                    a = this._listeners['after' + e] || [],
                    o = function (t, i) {
                      ;(t = t.slice()),
                        t.forEach(function (t) {
                          t.call(r, { type: e }, i)
                        })
                    }
                  o(i, t), o(n, t), o(a, t)
                }
              }),
              (t.default = i)
          },
          function (e, t, r) {
            'use strict'
            Object.defineProperty(t, '__esModule', { value: !0 })
            var i = r(0),
              n = (function (e) {
                return e && e.__esModule ? e : { default: e }
              })(i),
              a = function () {
                ;(this._playbackHeartbeatInterval = null),
                  (this._playheadShouldBeProgressing = !1),
                  this.on('playing', function () {
                    this._playheadShouldBeProgressing = !0
                  }),
                  this.on('play', this._startPlaybackHeartbeatInterval),
                  this.on('playing', this._startPlaybackHeartbeatInterval),
                  this.on(
                    'adbreakstart',
                    this._startPlaybackHeartbeatInterval
                  ),
                  this.on('adplay', this._startPlaybackHeartbeatInterval),
                  this.on(
                    'adplaying',
                    this._startPlaybackHeartbeatInterval
                  ),
                  this.on('seeking', this._startPlaybackHeartbeatInterval),
                  this.on(
                    'devicewake',
                    this._startPlaybackHeartbeatInterval
                  ),
                  this.on(
                    'viewstart',
                    this._startPlaybackHeartbeatInterval
                  ),
                  this.on('pause', this._stopPlaybackHeartbeatInterval),
                  this.on('ended', this._stopPlaybackHeartbeatInterval),
                  this.on('viewend', this._stopPlaybackHeartbeatInterval),
                  this.on('error', this._stopPlaybackHeartbeatInterval),
                  this.on('aderror', this._stopPlaybackHeartbeatInterval),
                  this.on('adpause', this._stopPlaybackHeartbeatInterval),
                  this.on('adended', this._stopPlaybackHeartbeatInterval),
                  this.on(
                    'adbreakend',
                    this._stopPlaybackHeartbeatInterval
                  ),
                  this.on('seeked', function () {
                    this.data.player_is_paused
                      ? this._stopPlaybackHeartbeatInterval()
                      : this._startPlaybackHeartbeatInterval()
                  }),
                  this.on('timeupdate', function () {
                    null !== this._playbackHeartbeatInterval &&
                      this.emit('playbackheartbeat')
                  }),
                  this.on('devicesleep', function (e, t) {
                    null !== this._playbackHeartbeatInterval &&
                      (n.default.clearInterval(
                        this._playbackHeartbeatInterval
                      ),
                      this.emit('playbackheartbeatend', {
                        viewer_time: t.viewer_time,
                      }),
                      (this._playbackHeartbeatInterval = null))
                  })
              }
            ;(a.prototype._startPlaybackHeartbeatInterval = function () {
              var e = this
              null === this._playbackHeartbeatInterval &&
                (this.emit('playbackheartbeat'),
                (this._playbackHeartbeatInterval = n.default.setInterval(
                  function () {
                    e.emit('playbackheartbeat')
                  },
                  this.playbackHeartbeatTime
                )))
            }),
              (a.prototype._stopPlaybackHeartbeatInterval = function () {
                ;(this._playheadShouldBeProgressing = !1),
                  null !== this._playbackHeartbeatInterval &&
                    (n.default.clearInterval(
                      this._playbackHeartbeatInterval
                    ),
                    this.emit('playbackheartbeatend'),
                    (this._playbackHeartbeatInterval = null))
              }),
              (t.default = a)
          },
          function (e, t, r) {
            'use strict'
            function i() {
              var e = this
              this.on('viewinit', function () {
                e.viewErrored = !1
              }),
                this.on('error', function () {
                  try {
                    var t = e.errorTranslator({
                      player_error_code: e.data.player_error_code,
                      player_error_message: e.data.player_error_message,
                    })
                    t
                      ? ((e.data.player_error_code = t.player_error_code),
                        (e.data.player_error_message =
                          t.player_error_message),
                        (e.viewErrored = !0))
                      : (delete e.data.player_error_code,
                        delete e.data.player_error_message)
                  } catch (t) {
                    e.mux.log.warn(
                      'Exception in error translator callback.',
                      t
                    ),
                      (e.viewErrored = !0)
                  }
                })
            }
            Object.defineProperty(t, '__esModule', { value: !0 }),
              (t.default = i)
          },
          function (e, t, r) {
            'use strict'
            Object.defineProperty(t, '__esModule', { value: !0 })
            var i = r(2),
              n = (function (e) {
                return e && e.__esModule ? e : { default: e }
              })(i),
              a = function () {
                ;(this._watchTimeTrackerLastCheckedTime = null),
                  this.on('playbackheartbeat', this._updateWatchTime),
                  this.on(
                    'playbackheartbeatend',
                    this._clearWatchTimeState
                  )
              }
            ;(a.prototype._updateWatchTime = function (e, t) {
              var r = t.viewer_time
              null === this._watchTimeTrackerLastCheckedTime &&
                (this._watchTimeTrackerLastCheckedTime = r),
                (0, n.default)(
                  this.data,
                  'view_watch_time',
                  r - this._watchTimeTrackerLastCheckedTime
                ),
                (this._watchTimeTrackerLastCheckedTime = r)
            }),
              (a.prototype._clearWatchTimeState = function (e, t) {
                this._updateWatchTime(e, t),
                  (this._watchTimeTrackerLastCheckedTime = null)
              }),
              (t.default = a)
          },
          function (e, t, r) {
            'use strict'
            Object.defineProperty(t, '__esModule', { value: !0 })
            var i = r(2),
              n = (function (e) {
                return e && e.__esModule ? e : { default: e }
              })(i),
              a = function () {
                ;(this._playbackTimeTrackerLastPlayheadPosition = -1),
                  this.on('playbackheartbeat', this._updatePlaybackTime),
                  this.on(
                    'playbackheartbeatend',
                    this._clearPlaybackTimeState
                  ),
                  this.on('seeking', this._clearPlaybackTimeState)
              }
            ;(a.prototype._updatePlaybackTime = function () {
              var e = this.data.player_playhead_time
              if (
                this._playbackTimeTrackerLastPlayheadPosition >= 0 &&
                e > this._playbackTimeTrackerLastPlayheadPosition
              ) {
                var t = e - this._playbackTimeTrackerLastPlayheadPosition
                t <= 1e3 &&
                  (0, n.default)(
                    this.data,
                    'view_content_playback_time',
                    t
                  )
              }
              this._playbackTimeTrackerLastPlayheadPosition = e
            }),
              (a.prototype._clearPlaybackTimeState = function () {
                this._updatePlaybackTime(),
                  (this._playbackTimeTrackerLastPlayheadPosition = -1)
              }),
              (t.default = a)
          },
          function (e, t, r) {
            'use strict'
            Object.defineProperty(t, '__esModule', { value: !0 })
            var i = function () {
              this.on('playbackheartbeat', this._updatePlayheadTime),
                this.on('playbackheartbeatend', this._updatePlayheadTime),
                this.on('timeupdate', this._updatePlayheadTime),
                this.on('destroy', function () {
                  this.off('timeupdate', this._updatePlayheadTime)
                })
            }
            ;(i.prototype._updatePlayheadTime = function (e, t) {
              if (t.player_playhead_time)
                this.data.player_playhead_time = t.player_playhead_time
              else if (this.getPlayheadTime) {
                var r = this.getPlayheadTime()
                void 0 !== r && (this.data.player_playhead_time = r)
              }
            }),
              (t.default = i)
          },
          function (e, t, r) {
            'use strict'
            function i(e) {
              return e && e.__esModule ? e : { default: e }
            }
            Object.defineProperty(t, '__esModule', { value: !0 })
            var n = r(3),
              a = i(n),
              o = r(2),
              s = i(o),
              u = function () {
                ;(this._lastCheckedTime = null),
                  (this._lastPlayheadTime = null),
                  (this._lastPlayheadTimeUpdatedTime = null),
                  this.on('playbackheartbeat', this._checkIfRebuffering),
                  this.on(
                    'playbackheartbeatend',
                    this._cleanupRebufferTracker
                  ),
                  this.on('seeking', function () {
                    this._cleanupRebufferTracker(null, {
                      viewer_time: a.default.now(),
                    })
                  })
              }
            ;(u.prototype._checkIfRebuffering = function (e, t) {
              if (!this.disableRebufferTracking) {
                if (
                  this.isSeeking ||
                  this.isAdBreak ||
                  !this._playheadShouldBeProgressing
                )
                  return void this._cleanupRebufferTracker(e, t)
                if (null === this._lastCheckedTime)
                  return (
                    this._prepareRebufferTrackerState(t.viewer_time),
                    void this._updateRebufferMetrics()
                  )
                if (
                  this._lastPlayheadTime !== this.data.player_playhead_time
                )
                  return void this._cleanupRebufferTracker(e, t, !0)
                var r = t.viewer_time - this._lastPlayheadTimeUpdatedTime
                r >= this.sustainedRebufferThreshold &&
                  (this._rebuffering
                    ? this._updateRebufferMetrics(
                        t.viewer_time - this._lastCheckedTime
                      )
                    : ((this._rebuffering = !0),
                      (0, s.default)(this.data, 'view_rebuffer_count', 1),
                      this._updateRebufferMetrics(r),
                      this.emit('rebufferstart'))),
                  (this._lastCheckedTime = t.viewer_time)
              }
            }),
              (u.prototype._clearRebufferTrackerState = function () {
                ;(this._lastCheckedTime = null),
                  (this._lastPlayheadTime = null),
                  (this._lastPlayheadTimeUpdatedTime = null)
              }),
              (u.prototype._prepareRebufferTrackerState = function (e) {
                ;(this._lastCheckedTime = e),
                  (this._lastPlayheadTime =
                    this.data.player_playhead_time),
                  (this._lastPlayheadTimeUpdatedTime = e)
              }),
              (u.prototype._cleanupRebufferTracker = function (e, t) {
                var r =
                  arguments.length > 2 &&
                  void 0 !== arguments[2] &&
                  arguments[2]
                if (!this.disableRebufferTracking) {
                  if (this._rebuffering)
                    (this._rebuffering = !1),
                      this._updateRebufferMetrics(
                        t.viewer_time - this._lastCheckedTime
                      ),
                      this.emit('rebufferend', {
                        viewer_time: t.viewer_time,
                      })
                  else {
                    if (null === this._lastCheckedTime)
                      return void this._updateRebufferMetrics()
                    var i =
                        this.data.player_playhead_time -
                        this._lastPlayheadTime,
                      n = t.viewer_time - this._lastPlayheadTimeUpdatedTime
                    i > 0 && n - i > this.minimumRebufferDuration
                      ? ((0, s.default)(
                          this.data,
                          'view_rebuffer_count',
                          1
                        ),
                        this._updateRebufferMetrics(n - i),
                        this.emit('rebufferstart', {
                          viewer_time: this._lastPlayheadTimeUpdatedTime,
                        }),
                        this.emit('rebufferend', {
                          viewer_time:
                            this._lastPlayheadTimeUpdatedTime + n - i,
                        }))
                      : this._updateRebufferMetrics()
                  }
                  r
                    ? this._prepareRebufferTrackerState(t.viewer_time)
                    : this._clearRebufferTrackerState()
                }
              }),
              (u.prototype._updateRebufferMetrics = function (e) {
                e > 0 &&
                  (0, s.default)(this.data, 'view_rebuffer_duration', e),
                  this.data.view_watch_time >= 0 &&
                    this.data.view_rebuffer_count > 0 &&
                    ((this.data.view_rebuffer_frequency =
                      this.data.view_rebuffer_count /
                      this.data.view_watch_time),
                    (this.data.view_rebuffer_percentage =
                      this.data.view_rebuffer_duration /
                      this.data.view_watch_time))
              }),
              (t.default = u)
          },
          function (e, t, r) {
            'use strict'
            Object.defineProperty(t, '__esModule', { value: !0 })
            var i = r(3),
              n = (function (e) {
                return e && e.__esModule ? e : { default: e }
              })(i),
              a = function () {
                this.on('viewinit', function () {
                  var e = this.data,
                    t = e.view_id
                  if (!e.view_program_changed) {
                    var r = function (e, r) {
                      var i = r.viewer_time
                      'playing' === e.type &&
                      void 0 === this.data.view_time_to_first_frame
                        ? this.calculateTimeToFirstFrame(
                            i || n.default.now(),
                            t
                          )
                        : 'adplaying' !== e.type ||
                          (void 0 !== this.data.view_time_to_first_frame &&
                            !this.inPrerollPosition()) ||
                          this.calculateTimeToFirstFrame(
                            i || n.default.now(),
                            t
                          )
                    }
                    this.one('playing', r),
                      this.one('adplaying', r),
                      this.one('viewend', function () {
                        this.off('playing', r), this.off('adplaying', r)
                      })
                  }
                })
              }
            ;(a.prototype.calculateTimeToFirstFrame = function (e, t) {
              t === this.data.view_id &&
                (this._updateWatchTime(null, { viewer_time: e }),
                (this.data.view_time_to_first_frame =
                  this.data.view_watch_time),
                (this.data.player_autoplay_on ||
                  this.data.video_is_autoplay) &&
                  this.NAVIGATION_START &&
                  (this.data.view_aggregate_startup_time =
                    this.data.view_start +
                    this.data.view_watch_time -
                    this.NAVIGATION_START))
            }),
              (t.default = a)
          },
          function (e, t, r) {
            'use strict'
            function i() {
              var e = this
              this.on('viewinit', function () {
                this._lastPlayheadPosition = -1
              })
              var t = [
                  'pause',
                  'rebufferstart',
                  'seeking',
                  'error',
                  'adbreakstart',
                  'hb',
                ],
                r = ['playing', 'hb']
              t.forEach(function (t) {
                e.on(t, function () {
                  if (
                    this._lastPlayheadPosition >= 0 &&
                    this.data.player_playhead_time >= 0 &&
                    this._lastPlayerWidth >= 0 &&
                    this._lastSourceWidth > 0 &&
                    this._lastPlayerHeight >= 0 &&
                    this._lastSourceHeight > 0
                  ) {
                    var e =
                      this.data.player_playhead_time -
                      this._lastPlayheadPosition
                    if (e < 0)
                      return void (this._lastPlayheadPosition = -1)
                    var t = Math.min(
                        this._lastPlayerWidth / this._lastSourceWidth,
                        this._lastPlayerHeight / this._lastSourceHeight
                      ),
                      r = Math.max(0, t - 1),
                      i = Math.max(0, 1 - t)
                    ;(this.data.view_max_upscale_percentage = Math.max(
                      this.data.view_max_upscale_percentage || 0,
                      r
                    )),
                      (this.data.view_max_downscale_percentage = Math.max(
                        this.data.view_max_downscale_percentage || 0,
                        i
                      )),
                      (0, a.default)(
                        this.data,
                        'view_total_content_playback_time',
                        e
                      ),
                      (0, a.default)(
                        this.data,
                        'view_total_upscaling',
                        r * e
                      ),
                      (0, a.default)(
                        this.data,
                        'view_total_downscaling',
                        i * e
                      )
                  }
                  this._lastPlayheadPosition = -1
                })
              }),
                r.forEach(function (t) {
                  e.on(t, function () {
                    ;(this._lastPlayheadPosition =
                      this.data.player_playhead_time),
                      (this._lastPlayerWidth = this.data.player_width),
                      (this._lastPlayerHeight = this.data.player_height),
                      (this._lastSourceWidth =
                        this.data.video_source_width),
                      (this._lastSourceHeight =
                        this.data.video_source_height)
                  })
                })
            }
            Object.defineProperty(t, '__esModule', { value: !0 }),
              (t.default = i)
            var n = r(2),
              a = (function (e) {
                return e && e.__esModule ? e : { default: e }
              })(n)
          },
          function (e, t, r) {
            'use strict'
            function i(e) {
              return e && e.__esModule ? e : { default: e }
            }
            function n() {
              ;(this.isSeeking = !1),
                this.on('seeking', function (e, t) {
                  ;(0, c.default)(this.data, t),
                    (this._lastSeekingTime = o.default.now()),
                    !1 === this.isSeeking &&
                      ((this.isSeeking = !0), this.send('seeking'))
                }),
                this.on('seeked', function () {
                  this.isSeeking = !1
                  var e = this._lastSeekingTime || o.default.now(),
                    t = o.default.now() - e
                  ;(0, u.default)(this.data, 'view_seek_count', 1),
                    (0, u.default)(this.data, 'view_seek_duration', t)
                  var r = this.data.view_max_seek_time || 0
                  this.data.view_max_seek_time = Math.max(r, t)
                }),
                this.on('viewend', function () {
                  this.isSeeking = !1
                })
            }
            Object.defineProperty(t, '__esModule', { value: !0 }),
              (t.default = n)
            var a = r(3),
              o = i(a),
              s = r(2),
              u = i(s),
              l = r(1),
              c = i(l)
          },
          function (e, t, r) {
            'use strict'
            function i(e) {
              return e && e.__esModule ? e : { default: e }
            }
            Object.defineProperty(t, '__esModule', { value: !0 })
            var n = (function () {
                function e(e, t) {
                  var r = [],
                    i = !0,
                    n = !1,
                    a = void 0
                  try {
                    for (
                      var o, s = e[Symbol.iterator]();
                      !(i = (o = s.next()).done) &&
                      (r.push(o.value), !t || r.length !== t);
                      i = !0
                    );
                  } catch (e) {
                    ;(n = !0), (a = e)
                  } finally {
                    try {
                      !i && s.return && s.return()
                    } finally {
                      if (n) throw a
                    }
                  }
                  return r
                }
                return function (t, r) {
                  if (Array.isArray(t)) return t
                  if (Symbol.iterator in Object(t)) return e(t, r)
                  throw new TypeError(
                    'Invalid attempt to destructure non-iterable instance'
                  )
                }
              })(),
              a = r(2),
              o = i(a),
              s = r(5),
              u = r(1),
              l = i(u),
              c = function (e, t) {
                e.push(t),
                  e.sort(function (e, t) {
                    return e.viewer_time - t.viewer_time
                  })
              },
              d = [
                'adbreakstart',
                'adrequest',
                'adresponse',
                'adplay',
                'adplaying',
                'adpause',
                'adended',
                'adbreakend',
                'aderror',
              ],
              f = function () {
                var e = this
                this.on('viewinit', function () {
                  ;(this.isAdBreak = !1),
                    (this._currentAdRequestNumber = 0),
                    (this._currentAdResponseNumber = 0),
                    (this._adRequests = []),
                    (this._adResponses = []),
                    (this._adHasPlayed = !1),
                    (this._wouldBeNewAdPlay = !0),
                    (this._prerollPlayTime = void 0)
                }),
                  d.forEach(function (t) {
                    return e.on(t, e._updateAdData)
                  })
                var t = function () {
                  e.isAdBreak = !1
                }
                this.on('adbreakstart', function () {
                  this.isAdBreak = !0
                }),
                  this.on('play', t),
                  this.on('playing', t),
                  this.on('viewend', t),
                  this.on('adrequest', function (e, t) {
                    ;(t = (0, l.default)(
                      {
                        ad_request_id:
                          'generatedAdRequestId' +
                          this._currentAdRequestNumber++,
                      },
                      t
                    )),
                      c(this._adRequests, t),
                      (0, o.default)(this.data, 'view_ad_request_count'),
                      this.inPrerollPosition() &&
                        ((this.data.view_preroll_requested = !0),
                        this._adHasPlayed ||
                          (0, o.default)(
                            this.data,
                            'view_preroll_request_count'
                          ))
                  }),
                  this.on('adresponse', function (e, t) {
                    ;(t = (0, l.default)(
                      {
                        ad_request_id:
                          'generatedAdRequestId' +
                          this._currentAdResponseNumber++,
                      },
                      t
                    )),
                      c(this._adResponses, t)
                    var r = this.findAdRequest(t.ad_request_id)
                    r &&
                      (0, o.default)(
                        this.data,
                        'view_ad_request_time',
                        Math.max(0, t.viewer_time - r.viewer_time)
                      )
                  }),
                  this.on('adplay', function (e, t) {
                    ;(this._adHasPlayed = !0),
                      this._wouldBeNewAdPlay &&
                        ((this._wouldBeNewAdPlay = !1),
                        (0, o.default)(this.data, 'view_ad_played_count')),
                      this.inPrerollPosition() &&
                        !this.data.view_preroll_played &&
                        ((this.data.view_preroll_played = !0),
                        this._adRequests.length > 0 &&
                          (this.data.view_preroll_request_time = Math.max(
                            0,
                            t.viewer_time - this._adRequests[0].viewer_time
                          )),
                        this.data.view_start &&
                          (this.data.view_startup_preroll_request_time =
                            Math.max(
                              0,
                              t.viewer_time - this.data.view_start
                            )),
                        (this._prerollPlayTime = t.viewer_time))
                  }),
                  this.on('adplaying', function (e, t) {
                    this.inPrerollPosition() &&
                      void 0 === this.data.view_preroll_load_time &&
                      void 0 !== this._prerollPlayTime &&
                      ((this.data.view_preroll_load_time =
                        t.viewer_time - this._prerollPlayTime),
                      (this.data.view_startup_preroll_load_time =
                        t.viewer_time - this._prerollPlayTime))
                  }),
                  this.on('adended', function () {
                    this._wouldBeNewAdPlay = !0
                  }),
                  this.on('aderror', function () {
                    this._wouldBeNewAdPlay = !0
                  })
              }
            ;(f.prototype.inPrerollPosition = function () {
              return (
                void 0 === this.data.view_content_playback_time ||
                this.data.view_content_playback_time <= 1e3
              )
            }),
              (f.prototype.findAdRequest = function (e) {
                for (var t = 0; t < this._adRequests.length; t++)
                  if (this._adRequests[t].ad_request_id === e)
                    return this._adRequests[t]
              }),
              (f.prototype._updateAdData = function (e, t) {
                if (this.inPrerollPosition()) {
                  if (
                    !this.data.view_preroll_ad_tag_hostname &&
                    t.ad_tag_url
                  ) {
                    var r = (0, s.extractHostnameAndDomain)(t.ad_tag_url),
                      i = n(r, 2),
                      a = i[0],
                      o = i[1]
                    ;(this.data.view_preroll_ad_tag_domain = o),
                      (this.data.view_preroll_ad_tag_hostname = a)
                  }
                  if (
                    !this.data.view_preroll_ad_asset_hostname &&
                    t.ad_asset_url
                  ) {
                    var u = (0, s.extractHostnameAndDomain)(
                        t.ad_asset_url
                      ),
                      l = n(u, 2),
                      c = l[0],
                      d = l[1]
                    ;(this.data.view_preroll_ad_asset_domain = d),
                      (this.data.view_preroll_ad_asset_hostname = c)
                  }
                }
              }),
              (t.default = f)
          },
          function (e, t, r) {
            'use strict'
            function i(e) {
              return e && e.__esModule ? e : { default: e }
            }
            function n() {
              var e = this,
                t = void 0,
                r = void 0,
                i = function () {
                  e.disableRebufferTracking ||
                    ((0, u.default)(
                      e.data,
                      'view_waiting_rebuffer_count',
                      1
                    ),
                    (t = o.default.now()),
                    (r = window.setInterval(function () {
                      if (t) {
                        var r = o.default.now()
                        ;(0, u.default)(
                          e.data,
                          'view_waiting_rebuffer_duration',
                          r - t
                        ),
                          (t = r)
                      }
                    }, 250)))
                },
                n = function () {
                  e.disableRebufferTracking ||
                    (t &&
                      ((0, u.default)(
                        e.data,
                        'view_waiting_rebuffer_duration',
                        o.default.now() - t
                      ),
                      (t = !1),
                      window.clearInterval(r)))
                },
                a = !1,
                s = function () {
                  a = !0
                },
                l = function () {
                  ;(a = !1), n()
                }
              this.on('waiting', function () {
                a && i()
              }),
                this.on('playing', function () {
                  n(), s()
                }),
                this.on('pause', l),
                this.on('seeking', l)
            }
            Object.defineProperty(t, '__esModule', { value: !0 }),
              (t.default = n)
            var a = r(3),
              o = i(a),
              s = r(2),
              u = i(s)
          },
          function (e, t, r) {
            'use strict'
            function i(e) {
              return e && e.__esModule ? e : { default: e }
            }
            function n() {
              var e = this
              this.one('playbackheartbeat', l),
                this.on('playbackheartbeatend', function () {
                  e.off('before*', c), e.one('playbackheartbeat', l)
                })
            }
            Object.defineProperty(t, '__esModule', { value: !0 }),
              (t.default = n)
            var a = r(1),
              o = i(a),
              s = r(3),
              u = i(s),
              l = function () {
                ;(this.lastWallClockTime = u.default.now()),
                  this.on('before*', c)
              },
              c = function (e) {
                var t = u.default.now(),
                  r = this.lastWallClockTime
                ;(this.lastWallClockTime = t),
                  t - r > 3e4 &&
                    (this.emit('devicesleep', { viewer_time: r }),
                    (0, o.default)(this.data, { viewer_time: r }),
                    this.send('devicesleep'),
                    this.emit('devicewake', { viewer_time: t }),
                    (0, o.default)(this.data, { viewer_time: t }),
                    this.send('devicewake'))
              }
          },
          function (e, t, r) {
            'use strict'
            function i(e) {
              return e && e.__esModule ? e : { default: e }
            }
            Object.defineProperty(t, '__esModule', { value: !0 })
            var n =
                'function' == typeof Symbol &&
                'symbol' == typeof Symbol.iterator
                  ? function (e) {
                      return typeof e
                    }
                  : function (e) {
                      return e &&
                        'function' == typeof Symbol &&
                        e.constructor === Symbol &&
                        e !== Symbol.prototype
                        ? 'symbol'
                        : typeof e
                    },
              a = r(0),
              o = i(a),
              s = r(41),
              u = r(4),
              l = i(u),
              c = r(45),
              d = i(c),
              f = r(10),
              h = i(f),
              p = r(46),
              v = i(p),
              g = r(17),
              y = i(g),
              m = r(47),
              _ = i(m),
              b = r(49),
              E = i(b),
              w = r(1),
              T = i(w),
              S = [
                'env_key',
                'view_id',
                'view_sequence_number',
                'player_sequence_number',
                'beacon_domain',
                'player_playhead_time',
                'viewer_time',
                'mux_api_version',
                'event',
                'video_id',
                'player_instance_id',
              ],
              A = ['viewstart', 'error', 'ended', 'viewend'],
              R = function (e, t) {
                var r =
                  arguments.length > 2 && void 0 !== arguments[2]
                    ? arguments[2]
                    : {}
                ;(this.mux = e),
                  (this.envKey = t),
                  (this.eventQueue = new _.default(
                    (0, d.default)(t, r.beaconDomain)
                  )),
                  (this.previousBeaconData = null),
                  (this.lastEventTime = null),
                  (this.sampleRate = r.sampleRate),
                  (this.disableCookies = r.disableCookies),
                  (this.respectDoNotTrack = r.respectDoNotTrack)
                var i = (0, T.default)(E.default, r.platform || {})
                this.pageLevelData = {
                  mux_api_version: this.mux.API_VERSION,
                  mux_embed_version: this.mux.VERSION,
                  viewer_application_name: i.name,
                  viewer_application_version: i.version,
                  viewer_application_engine: i.layout,
                  viewer_device_name: i.product,
                  viewer_device_category: '',
                  viewer_device_manufacturer: i.manufacturer,
                  viewer_os_family: i.os && i.os.family,
                  viewer_os_architecture: i.os && i.os.architecture,
                  viewer_os_version: i.os && i.os.version,
                }
                var n = (0, v.default)()
                n &&
                  (this.pageLevelData = (0, T.default)(
                    this.pageLevelData,
                    { viewer_connection_type: n }
                  )),
                  void 0 !== o.default &&
                    o.default.location &&
                    o.default.location.href &&
                    (this.pageLevelData.page_url =
                      o.default.location.href),
                  (this.viewerData = this.disableCookies
                    ? {}
                    : (0, s.getAndUpdateViewerData)())
              }
            ;(R.prototype.send = function (e, t) {
              if (e) {
                if (this.respectDoNotTrack && (0, h.default)())
                  return l.default.info(
                    'Not sending `' +
                      e +
                      '` because Do Not Track is enabled'
                  )
                if (!t || 'object' !== (void 0 === t ? 'undefined' : n(t)))
                  return l.default.error(
                    'A data object was expected in send() but was not provided'
                  )
                var r = this.disableCookies
                    ? {}
                    : (0, s.getAndUpdateSessionData)(),
                  i = {}
                ;(0, T.default)(i, this.pageLevelData),
                  (0, T.default)(i, t),
                  (0, T.default)(i, r),
                  (0, T.default)(i, this.viewerData),
                  (i.event = e),
                  (i.env_key = this.envKey),
                  i.user_id &&
                    ((i.viewer_user_id = i.user_id), delete i.user_id)
                var a = i.mux_sample_number >= this.sampleRate,
                  o = this._deduplicateBeaconData(e, i),
                  u = (0, y.default)(o)
                if (((this.lastEventTime = this.mux.utils.now()), a))
                  return l.default.info(
                    'Not sending event due to sample rate restriction',
                    e,
                    i,
                    u
                  )
                if (!this.envKey)
                  return l.default.info(
                    'Not sending event due to missing environment key',
                    e,
                    i,
                    u
                  )
                if (!this.rateLimited)
                  if (
                    (l.default.info('Sending event', e, i, u),
                    (this.rateLimited = !this.eventQueue.queueEvent(e, u)),
                    this.mux.WINDOW_UNLOADING && 'viewend' === e)
                  )
                    this.eventQueue.destroy(!0)
                  else if (
                    (A.indexOf(e) >= 0 && this.eventQueue.flushEvents(),
                    this.rateLimited)
                  )
                    return (
                      (i.event = 'eventrateexceeded'),
                      (u = (0, y.default)(i)),
                      this.eventQueue.queueEvent(i.event, u),
                      l.default.error(
                        'Beaconing disabled due to rate limit.'
                      )
                    )
              }
            }),
              (R.prototype.destroy = function () {
                this.eventQueue.destroy(!1)
              })
            var k = function (e, t, r, i) {
                return !(
                  !e ||
                  0 !== t.indexOf('request_') ||
                  ('request_response_headers' !== t &&
                    'object' === (void 0 === r ? 'undefined' : n(r)) &&
                    'object' === (void 0 === i ? 'undefined' : n(i)) &&
                    Object.keys(r || {}).length ===
                      Object.keys(i || {}).length)
                )
              },
              D = function (e, t) {
                return (
                  'renditionchange' === e &&
                  0 === t.indexOf('video_source_')
                )
              }
            ;(R.prototype._deduplicateBeaconData = function (e, t) {
              var r = this,
                i = {},
                n = t.view_id
              if (
                !n ||
                'viewstart' === e ||
                'viewend' === e ||
                !this.previousBeaconData ||
                this.mux.utils.now() - this.lastEventTime >= 6e5
              )
                (i = (0, T.default)({}, t)),
                  n && (this.previousBeaconData = i),
                  n && 'viewend' === e && (this.previousBeaconData = null)
              else {
                var a = 0 === e.indexOf('request')
                Object.keys(t).forEach(function (n) {
                  var o = t[n]
                  ;(o !== r.previousBeaconData[n] ||
                    S.indexOf(n) > -1 ||
                    k(a, n, o, r.previousBeaconData[n]) ||
                    D(e, n)) &&
                    ((i[n] = o), (r.previousBeaconData[n] = o))
                })
              }
              return i
            }),
              (t.default = R)
          },
          function (e, t, r) {
            'use strict'
            function i(e) {
              return e && e.__esModule ? e : { default: e }
            }
            Object.defineProperty(t, '__esModule', { value: !0 }),
              (t.getAndUpdateSessionData = t.getAndUpdateViewerData =
                void 0)
            var n = r(14),
              a = i(n),
              o = r(44),
              s = i(o),
              u = r(7),
              l = r(3),
              c = i(l),
              d = function () {
                var e = void 0
                try {
                  e = a.default.parse(s.default.get('muxData') || '')
                } catch (t) {
                  e = {}
                }
                return e
              },
              f = function (e) {
                try {
                  s.default.set('muxData', a.default.stringify(e), {
                    expires: 7300,
                  })
                } catch (e) {}
              },
              h = function () {
                var e = d()
                return (
                  (e.mux_viewer_id =
                    e.mux_viewer_id || (0, u.generateUUID)()),
                  (e.msn = e.msn || Math.random()),
                  f(e),
                  {
                    mux_viewer_id: e.mux_viewer_id,
                    mux_sample_number: e.msn,
                  }
                )
              },
              p = function () {
                var e = d(),
                  t = c.default.now()
                return (
                  e.session_start &&
                    ((e.sst = e.session_start), delete e.session_start),
                  e.session_id &&
                    ((e.sid = e.session_id), delete e.session_id),
                  e.session_expires &&
                    ((e.sex = e.session_expires),
                    delete e.session_expires),
                  (!e.sex || e.sex < t) &&
                    ((e.sid = (0, u.generateUUID)()), (e.sst = t)),
                  (e.sex = t + 15e5),
                  f(e),
                  {
                    session_id: e.sid,
                    session_start: e.sst,
                    session_expires: e.sex,
                  }
                )
              }
            ;(t.getAndUpdateViewerData = h),
              (t.getAndUpdateSessionData = p)
          },
          function (e, t, r) {
            'use strict'
            var i = r(15),
              n = r(16),
              a = {
                brackets: function (e) {
                  return e + '[]'
                },
                indices: function (e, t) {
                  return e + '[' + t + ']'
                },
                repeat: function (e) {
                  return e
                },
              },
              o = Date.prototype.toISOString,
              s = {
                delimiter: '&',
                encode: !0,
                encoder: i.encode,
                encodeValuesOnly: !1,
                serializeDate: function (e) {
                  return o.call(e)
                },
                skipNulls: !1,
                strictNullHandling: !1,
              },
              u = function e(t, r, n, a, o, u, l, c, d, f, h, p) {
                var v = t
                if ('function' == typeof l) v = l(r, v)
                else if (v instanceof Date) v = f(v)
                else if (null === v) {
                  if (a) return u && !p ? u(r, s.encoder) : r
                  v = ''
                }
                if (
                  'string' == typeof v ||
                  'number' == typeof v ||
                  'boolean' == typeof v ||
                  i.isBuffer(v)
                )
                  return u
                    ? [
                        h(p ? r : u(r, s.encoder)) +
                          '=' +
                          h(u(v, s.encoder)),
                      ]
                    : [h(r) + '=' + h(String(v))]
                var g = []
                if (void 0 === v) return g
                var y
                if (Array.isArray(l)) y = l
                else {
                  var m = Object.keys(v)
                  y = c ? m.sort(c) : m
                }
                for (var _ = 0; _ < y.length; ++_) {
                  var b = y[_]
                  ;(o && null === v[b]) ||
                    (g = Array.isArray(v)
                      ? g.concat(
                          e(v[b], n(r, b), n, a, o, u, l, c, d, f, h, p)
                        )
                      : g.concat(
                          e(
                            v[b],
                            r + (d ? '.' + b : '[' + b + ']'),
                            n,
                            a,
                            o,
                            u,
                            l,
                            c,
                            d,
                            f,
                            h,
                            p
                          )
                        ))
                }
                return g
              }
            e.exports = function (e, t) {
              var r = e,
                o = t ? i.assign({}, t) : {}
              if (
                null !== o.encoder &&
                void 0 !== o.encoder &&
                'function' != typeof o.encoder
              )
                throw new TypeError('Encoder has to be a function.')
              var l = void 0 === o.delimiter ? s.delimiter : o.delimiter,
                c =
                  'boolean' == typeof o.strictNullHandling
                    ? o.strictNullHandling
                    : s.strictNullHandling,
                d =
                  'boolean' == typeof o.skipNulls
                    ? o.skipNulls
                    : s.skipNulls,
                f = 'boolean' == typeof o.encode ? o.encode : s.encode,
                h = 'function' == typeof o.encoder ? o.encoder : s.encoder,
                p = 'function' == typeof o.sort ? o.sort : null,
                v = void 0 !== o.allowDots && o.allowDots,
                g =
                  'function' == typeof o.serializeDate
                    ? o.serializeDate
                    : s.serializeDate,
                y =
                  'boolean' == typeof o.encodeValuesOnly
                    ? o.encodeValuesOnly
                    : s.encodeValuesOnly
              if (void 0 === o.format) o.format = n.default
              else if (
                !Object.prototype.hasOwnProperty.call(
                  n.formatters,
                  o.format
                )
              )
                throw new TypeError('Unknown format option provided.')
              var m,
                _,
                b = n.formatters[o.format]
              'function' == typeof o.filter
                ? ((_ = o.filter), (r = _('', r)))
                : Array.isArray(o.filter) && ((_ = o.filter), (m = _))
              var E = []
              if ('object' != typeof r || null === r) return ''
              var w
              w =
                o.arrayFormat in a
                  ? o.arrayFormat
                  : 'indices' in o
                  ? o.indices
                    ? 'indices'
                    : 'repeat'
                  : 'indices'
              var T = a[w]
              m || (m = Object.keys(r)), p && m.sort(p)
              for (var S = 0; S < m.length; ++S) {
                var A = m[S]
                ;(d && null === r[A]) ||
                  (E = E.concat(
                    u(r[A], A, T, c, d, f ? h : null, _, p, v, g, b, y)
                  ))
              }
              var R = E.join(l),
                k = !0 === o.addQueryPrefix ? '?' : ''
              return R.length > 0 ? k + R : ''
            }
          },
          function (e, t, r) {
            'use strict'
            var i = r(15),
              n = Object.prototype.hasOwnProperty,
              a = {
                allowDots: !1,
                allowPrototypes: !1,
                arrayLimit: 20,
                decoder: i.decode,
                delimiter: '&',
                depth: 5,
                parameterLimit: 1e3,
                plainObjects: !1,
                strictNullHandling: !1,
              },
              o = function (e, t) {
                for (
                  var r = {},
                    i = t.ignoreQueryPrefix ? e.replace(/^\?/, '') : e,
                    o =
                      t.parameterLimit === 1 / 0
                        ? void 0
                        : t.parameterLimit,
                    s = i.split(t.delimiter, o),
                    u = 0;
                  u < s.length;
                  ++u
                ) {
                  var l,
                    c,
                    d = s[u],
                    f = d.indexOf(']='),
                    h = -1 === f ? d.indexOf('=') : f + 1
                  ;-1 === h
                    ? ((l = t.decoder(d, a.decoder)),
                      (c = t.strictNullHandling ? null : ''))
                    : ((l = t.decoder(d.slice(0, h), a.decoder)),
                      (c = t.decoder(d.slice(h + 1), a.decoder))),
                    n.call(r, l)
                      ? (r[l] = [].concat(r[l]).concat(c))
                      : (r[l] = c)
                }
                return r
              },
              s = function (e, t, r) {
                for (var i = t, n = e.length - 1; n >= 0; --n) {
                  var a,
                    o = e[n]
                  if ('[]' === o) (a = []), (a = a.concat(i))
                  else {
                    a = r.plainObjects ? Object.create(null) : {}
                    var s =
                        '[' === o.charAt(0) &&
                        ']' === o.charAt(o.length - 1)
                          ? o.slice(1, -1)
                          : o,
                      u = parseInt(s, 10)
                    !isNaN(u) &&
                    o !== s &&
                    String(u) === s &&
                    u >= 0 &&
                    r.parseArrays &&
                    u <= r.arrayLimit
                      ? ((a = []), (a[u] = i))
                      : (a[s] = i)
                  }
                  i = a
                }
                return i
              },
              u = function (e, t, r) {
                if (e) {
                  var i = r.allowDots
                      ? e.replace(/\.([^.[]+)/g, '[$1]')
                      : e,
                    a = /(\[[^[\]]*])/,
                    o = /(\[[^[\]]*])/g,
                    u = a.exec(i),
                    l = u ? i.slice(0, u.index) : i,
                    c = []
                  if (l) {
                    if (
                      !r.plainObjects &&
                      n.call(Object.prototype, l) &&
                      !r.allowPrototypes
                    )
                      return
                    c.push(l)
                  }
                  for (
                    var d = 0;
                    null !== (u = o.exec(i)) && d < r.depth;

                  ) {
                    if (
                      ((d += 1),
                      !r.plainObjects &&
                        n.call(Object.prototype, u[1].slice(1, -1)) &&
                        !r.allowPrototypes)
                    )
                      return
                    c.push(u[1])
                  }
                  return (
                    u && c.push('[' + i.slice(u.index) + ']'), s(c, t, r)
                  )
                }
              }
            e.exports = function (e, t) {
              var r = t ? i.assign({}, t) : {}
              if (
                null !== r.decoder &&
                void 0 !== r.decoder &&
                'function' != typeof r.decoder
              )
                throw new TypeError('Decoder has to be a function.')
              if (
                ((r.ignoreQueryPrefix = !0 === r.ignoreQueryPrefix),
                (r.delimiter =
                  'string' == typeof r.delimiter || i.isRegExp(r.delimiter)
                    ? r.delimiter
                    : a.delimiter),
                (r.depth = 'number' == typeof r.depth ? r.depth : a.depth),
                (r.arrayLimit =
                  'number' == typeof r.arrayLimit
                    ? r.arrayLimit
                    : a.arrayLimit),
                (r.parseArrays = !1 !== r.parseArrays),
                (r.decoder =
                  'function' == typeof r.decoder ? r.decoder : a.decoder),
                (r.allowDots =
                  'boolean' == typeof r.allowDots
                    ? r.allowDots
                    : a.allowDots),
                (r.plainObjects =
                  'boolean' == typeof r.plainObjects
                    ? r.plainObjects
                    : a.plainObjects),
                (r.allowPrototypes =
                  'boolean' == typeof r.allowPrototypes
                    ? r.allowPrototypes
                    : a.allowPrototypes),
                (r.parameterLimit =
                  'number' == typeof r.parameterLimit
                    ? r.parameterLimit
                    : a.parameterLimit),
                (r.strictNullHandling =
                  'boolean' == typeof r.strictNullHandling
                    ? r.strictNullHandling
                    : a.strictNullHandling),
                '' === e || null === e || void 0 === e)
              )
                return r.plainObjects ? Object.create(null) : {}
              for (
                var n = 'string' == typeof e ? o(e, r) : e,
                  s = r.plainObjects ? Object.create(null) : {},
                  l = Object.keys(n),
                  c = 0;
                c < l.length;
                ++c
              ) {
                var d = l[c],
                  f = u(d, n[d], r)
                s = i.merge(s, f, r)
              }
              return i.compact(s)
            }
          },
          function (e, t, r) {
            'use strict'
            var i,
              n,
              a =
                'function' == typeof Symbol &&
                'symbol' == typeof Symbol.iterator
                  ? function (e) {
                      return typeof e
                    }
                  : function (e) {
                      return e &&
                        'function' == typeof Symbol &&
                        e.constructor === Symbol &&
                        e !== Symbol.prototype
                        ? 'symbol'
                        : typeof e
                    }
            !(function (o) {
              var s = !1
              if (
                ((i = o),
                void 0 !==
                  (n = 'function' == typeof i ? i.call(t, r, t, e) : i) &&
                  (e.exports = n),
                (s = !0),
                'object' === a(t) && ((e.exports = o()), (s = !0)),
                !s)
              ) {
                var u = window.Cookies,
                  l = (window.Cookies = o())
                l.noConflict = function () {
                  return (window.Cookies = u), l
                }
              }
            })(function () {
              function e(r) {
                function i(e, n, a) {
                  var o
                  if ('undefined' != typeof document) {
                    if (arguments.length > 1) {
                      if (
                        ((a = t({ path: '/' }, i.defaults, a)),
                        'number' == typeof a.expires)
                      ) {
                        var s = new Date()
                        s.setMilliseconds(
                          s.getMilliseconds() + 864e5 * a.expires
                        ),
                          (a.expires = s)
                      }
                      try {
                        ;(o = JSON.stringify(n)),
                          /^[\{\[]/.test(o) && (n = o)
                      } catch (e) {}
                      return (
                        (n = r.write
                          ? r.write(n, e)
                          : encodeURIComponent(String(n)).replace(
                              /%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,
                              decodeURIComponent
                            )),
                        (e = encodeURIComponent(String(e))),
                        (e = e.replace(
                          /%(23|24|26|2B|5E|60|7C)/g,
                          decodeURIComponent
                        )),
                        (e = e.replace(/[\(\)]/g, escape)),
                        (document.cookie = [
                          e,
                          '=',
                          n,
                          a.expires
                            ? '; expires=' + a.expires.toUTCString()
                            : '',
                          a.path ? '; path=' + a.path : '',
                          a.domain ? '; domain=' + a.domain : '',
                          a.secure ? '; secure' : '',
                        ].join(''))
                      )
                    }
                    e || (o = {})
                    for (
                      var u = document.cookie
                          ? document.cookie.split('; ')
                          : [],
                        l = /(%[0-9A-Z]{2})+/g,
                        c = 0;
                      c < u.length;
                      c++
                    ) {
                      var d = u[c].split('='),
                        f = d.slice(1).join('=')
                      '"' === f.charAt(0) && (f = f.slice(1, -1))
                      try {
                        var h = d[0].replace(l, decodeURIComponent)
                        if (
                          ((f = r.read
                            ? r.read(f, h)
                            : r(f, h) || f.replace(l, decodeURIComponent)),
                          this.json)
                        )
                          try {
                            f = JSON.parse(f)
                          } catch (e) {}
                        if (e === h) {
                          o = f
                          break
                        }
                        e || (o[h] = f)
                      } catch (e) {}
                    }
                    return o
                  }
                }
                return (
                  (i.set = i),
                  (i.get = function (e) {
                    return i.call(i, e)
                  }),
                  (i.getJSON = function () {
                    return i.apply({ json: !0 }, [].slice.call(arguments))
                  }),
                  (i.defaults = {}),
                  (i.remove = function (e, r) {
                    i(e, '', t(r, { expires: -1 }))
                  }),
                  (i.withConverter = e),
                  i
                )
              }
              var t = function () {
                for (var e = 0, t = {}; e < arguments.length; e++) {
                  var r = arguments[e]
                  for (var i in r) t[i] = r[i]
                }
                return t
              }
              return e(function () {})
            })
          },
          function (e, t, r) {
            'use strict'
            function i(e, t) {
              return (
                (e = e || ''),
                (t = t || 'litix.io'),
                e.match(/^[a-z0-9]+$/)
                  ? 'https://' + e + '.' + t
                  : 'https://img.litix.io/a.gif'
              )
            }
            Object.defineProperty(t, '__esModule', { value: !0 }),
              (t.default = i)
          },
          function (e, t, r) {
            'use strict'
            Object.defineProperty(t, '__esModule', { value: !0 })
            var i = r(0),
              n = (function (e) {
                return e && e.__esModule ? e : { default: e }
              })(i),
              a = function () {
                var e = void 0
                switch (o()) {
                  case 'cellular':
                    e = 'cellular'
                    break
                  case 'ethernet':
                    e = 'ethernet'
                    break
                  case 'wifi':
                    e = 'wifi'
                    break
                  case void 0:
                    break
                  default:
                    e = 'other'
                }
                return e
              },
              o = function () {
                var e = n.default.navigator,
                  t =
                    e &&
                    (e.connection || e.mozConnection || e.webkitConnection)
                return t && t.type
              }
            t.default = a
          },
          function (e, t, r) {
            'use strict'
            function i(e) {
              return e && e.__esModule ? e : { default: e }
            }
            Object.defineProperty(t, '__esModule', { value: !0 })
            var n = r(0),
              a = i(n),
              o = r(4),
              s = i(o),
              u = r(48),
              l = i(u),
              c = r(1),
              d = i(c),
              f = r(17),
              h = i(f),
              p =
                !!a.default.XMLHttpRequest &&
                'withCredentials' in new a.default.XMLHttpRequest(),
              v = {
                maxBeaconSize: 300,
                maxQueueLength: 3600,
                baseTimeBetweenBeacons: 5e3,
              },
              g = function (e, t) {
                ;(this._beaconUrl = e || 'https://img.litix.io'),
                  (this._eventQueue = []),
                  (this._postInFlight = !1),
                  (this._failureCount = 0),
                  (this._sendTimeout = !1),
                  (this._options = (0, d.default)({}, v, t))
              }
            ;(g.prototype.queueEvent = function (e, t) {
              var r = (0, d.default)({}, t)
              return p
                ? (this._eventQueue.length <=
                    this._options.maxQueueLength ||
                    'eventrateexceeded' === e) &&
                    (this._eventQueue.push(r),
                    this._sendTimeout || this._startBeaconSending(),
                    this._eventQueue.length <=
                      this._options.maxQueueLength)
                : (l.default.send(this._beaconUrl, r), !0)
            }),
              (g.prototype.flushEvents = function () {
                p &&
                  (this._eventQueue.length && this._sendBeaconQueue(),
                  this._startBeaconSending())
              }),
              (g.prototype.destroy = function () {
                var e =
                  arguments.length > 0 &&
                  void 0 !== arguments[0] &&
                  arguments[0]
                ;(this.destroyed = !0),
                  e ? this._clearBeaconQueue() : this.flushEvents(),
                  a.default.clearTimeout(this._sendTimeout)
              }),
              (g.prototype._clearBeaconQueue = function () {
                var e = a.default.navigator,
                  t =
                    this._eventQueue.length > this._options.maxBeaconSize
                      ? this._eventQueue.length -
                        this._options.maxBeaconSize
                      : 0,
                  r = this._eventQueue.slice(t)
                if (
                  (t > 0 &&
                    (0, d.default)(
                      r[r.length - 1],
                      (0, h.default)({
                        mux_view_message: 'event queue truncated',
                      })
                    ),
                  e.sendBeacon)
                )
                  e.sendBeacon(
                    this._beaconUrl,
                    JSON.stringify({ events: r })
                  )
                else if (a.default.XMLHttpRequest) {
                  var i = new a.default.XMLHttpRequest()
                  i.open('POST', this._beaconUrl),
                    i.setRequestHeader('Content-Type', 'application/json'),
                    i.send(JSON.stringify({ events: r }))
                } else l.default.send(this._beaconUrl, r[r.length - 1])
              }),
              (g.prototype._sendBeaconQueue = function () {
                var e = this
                if (a.default.XMLHttpRequest && !this._postInFlight) {
                  var t = new a.default.XMLHttpRequest(),
                    r = this._eventQueue.slice(
                      0,
                      this._options.maxBeaconSize
                    )
                  ;(this._eventQueue = this._eventQueue.slice(
                    this._options.maxBeaconSize
                  )),
                    (this._postInFlight = !0),
                    (t.onreadystatechange = function () {
                      4 === t.readyState &&
                        (200 !== t.status
                          ? ((e._eventQueue = r.concat(e._eventQueue)),
                            (e._failureCount += 1),
                            s.default.info(
                              'Error sending beacon: ' + t.status
                            ),
                            s.default.info(t.responseText))
                          : (e._failureCount = 0),
                        (e._postInFlight = !1))
                    }),
                    t.open('POST', this._beaconUrl),
                    t.setRequestHeader('Content-Type', 'application/json'),
                    t.send(JSON.stringify({ events: r }))
                }
              }),
              (g.prototype._getNextBeaconTime = function () {
                if (!this._failureCount)
                  return this._options.baseTimeBetweenBeacons
                var e = Math.pow(2, this._failureCount - 1)
                return (
                  (1 + (e *= Math.random())) *
                  this._options.baseTimeBetweenBeacons
                )
              }),
              (g.prototype._startBeaconSending = function () {
                var e = this
                a.default.clearTimeout(this._sendTimeout),
                  this.destroyed ||
                    (this._sendTimeout = a.default.setTimeout(function () {
                      e._eventQueue.length && e._sendBeaconQueue(),
                        e._startBeaconSending()
                    }, this._getNextBeaconTime()))
              }),
              (t.default = g)
          },
          function (e, t, r) {
            'use strict'
            function i(e) {
              return e && e.__esModule ? e : { default: e }
            }
            Object.defineProperty(t, '__esModule', { value: !0 })
            var n = r(14),
              a = i(n),
              o = r(0),
              s = i(o),
              u = {}
            ;(u.send = function (e, t) {
              function r() {
                i.src = o + (n ? '&rc=' + n : '')
              }
              var i = new Image(),
                n = 0,
                o = e + '?' + a.default.stringify(t)
              return (
                i.addEventListener('error', function () {
                  n > 3 ||
                    s.default.setTimeout(function () {
                      n++, r()
                    }, 5e3 * n)
                }),
                r(),
                i
              )
            }),
              (t.default = u)
          },
          function (e, t, r) {
            ;(function (e, i) {
              var n
              ;(function () {
                'use strict'
                function a(e) {
                  return (
                    (e = String(e)), e.charAt(0).toUpperCase() + e.slice(1)
                  )
                }
                function o(e, t, r) {
                  var i = {
                    '10.0': '10',
                    '6.4': '10 Technical Preview',
                    '6.3': '8.1',
                    '6.2': '8',
                    '6.1': 'Server 2008 R2 / 7',
                    '6.0': 'Server 2008 / Vista',
                    '5.2': 'Server 2003 / XP 64-bit',
                    '5.1': 'XP',
                    '5.01': '2000 SP1',
                    '5.0': '2000',
                    '4.0': 'NT',
                    '4.90': 'ME',
                  }
                  return (
                    t &&
                      r &&
                      /^Win/i.test(e) &&
                      !/^Windows Phone /i.test(e) &&
                      (i = i[/[\d.]+$/.exec(e)]) &&
                      (e = 'Windows ' + i),
                    (e = String(e)),
                    t && r && (e = e.replace(RegExp(t, 'i'), r)),
                    (e = u(
                      e
                        .replace(/ ce$/i, ' CE')
                        .replace(/\bhpw/i, 'web')
                        .replace(/\bMacintosh\b/, 'Mac OS')
                        .replace(/_PowerPC\b/i, ' OS')
                        .replace(/\b(OS X) [^ \d]+/i, '$1')
                        .replace(/\bMac (OS X)\b/, '$1')
                        .replace(/\/(\d)/, ' $1')
                        .replace(/_/g, '.')
                        .replace(/(?: BePC|[ .]*fc[ \d.]+)$/i, '')
                        .replace(/\bx86\.64\b/gi, 'x86_64')
                        .replace(/\b(Windows Phone) OS\b/, '$1')
                        .replace(/\b(Chrome OS \w+) [\d.]+\b/, '$1')
                        .split(' on ')[0]
                    ))
                  )
                }
                function s(e, t) {
                  var r = -1,
                    i = e ? e.length : 0
                  if ('number' == typeof i && i > -1 && i <= w)
                    for (; ++r < i; ) t(e[r], r, e)
                  else l(e, t)
                }
                function u(e) {
                  return (
                    (e = p(e)), /^(?:webOS|i(?:OS|P))/.test(e) ? e : a(e)
                  )
                }
                function l(e, t) {
                  for (var r in e) R.call(e, r) && t(e[r], r, e)
                }
                function c(e) {
                  return null == e ? a(e) : k.call(e).slice(8, -1)
                }
                function d(e, t) {
                  var r = null != e ? typeof e[t] : 'number'
                  return !(
                    /^(?:boolean|number|string|undefined)$/.test(r) ||
                    ('object' == r && !e[t])
                  )
                }
                function f(e) {
                  return String(e).replace(/([ -])(?!$)/g, '$1?')
                }
                function h(e, t) {
                  var r = null
                  return (
                    s(e, function (i, n) {
                      r = t(r, i, n, e)
                    }),
                    r
                  )
                }
                function p(e) {
                  return String(e).replace(/^ +| +$/g, '')
                }
                function v(e) {
                  function t(t) {
                    return h(t, function (t, r) {
                      var i = r.pattern || f(r)
                      return (
                        !t &&
                          (t =
                            RegExp('\\b' + i + ' *\\d+[.\\w_]*', 'i').exec(
                              e
                            ) ||
                            RegExp('\\b' + i + ' *\\w+-[\\w]*', 'i').exec(
                              e
                            ) ||
                            RegExp(
                              '\\b' +
                                i +
                                '(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)',
                              'i'
                            ).exec(e)) &&
                          ((t = String(
                            r.label && !RegExp(i, 'i').test(r.label)
                              ? r.label
                              : t
                          ).split('/'))[1] &&
                            !/[\d.]+/.test(t[0]) &&
                            (t[0] += ' ' + t[1]),
                          (r = r.label || r),
                          (t = u(
                            t[0]
                              .replace(RegExp(i, 'i'), r)
                              .replace(
                                RegExp('; *(?:' + r + '[_-])?', 'i'),
                                ' '
                              )
                              .replace(
                                RegExp('(' + r + ')[-_.]?(\\w)', 'i'),
                                '$1 $2'
                              )
                          ))),
                        t
                      )
                    })
                  }
                  function r() {
                    return this.description || ''
                  }
                  var i = y,
                    n = e && 'object' == typeof e && 'String' != c(e)
                  n && ((i = e), (e = null))
                  var a = i.navigator || {},
                    s = a.userAgent || ''
                  e || (e = s)
                  var g,
                    _,
                    b = n || S == m,
                    E = n
                      ? !!a.likeChrome
                      : /\bChrome\b/.test(e) &&
                        !/internal|\n/i.test(k.toString()),
                    w = n ? 'Object' : 'ScriptBridgingProxyObject',
                    A = n ? 'Object' : 'Environment',
                    R = n && i.java ? 'JavaPackage' : c(i.java),
                    D = n ? 'Object' : 'RuntimeObject',
                    O = /\bJava/.test(R) && i.java,
                    L = O && c(i.environment) == A,
                    P = O ? 'a' : 'α',
                    x = O ? 'b' : 'β',
                    I = i.document || {},
                    C = i.operamini || i.opera,
                    M = T.test((M = n && C ? C['[[Class]]'] : c(C)))
                      ? M
                      : (C = null),
                    N = e,
                    F = [],
                    U = null,
                    B = e == s,
                    j =
                      B &&
                      C &&
                      'function' == typeof C.version &&
                      C.version(),
                    G = (function (t) {
                      return h(t, function (t, r) {
                        return (
                          t ||
                          (RegExp(
                            '\\b' + (r.pattern || f(r)) + '\\b',
                            'i'
                          ).exec(e) &&
                            (r.label || r))
                        )
                      })
                    })([
                      { label: 'EdgeHTML', pattern: 'Edge' },
                      'Trident',
                      { label: 'WebKit', pattern: 'AppleWebKit' },
                      'iCab',
                      'Presto',
                      'NetFront',
                      'Tasman',
                      'KHTML',
                      'Gecko',
                    ]),
                    H = (function (t) {
                      return h(t, function (t, r) {
                        return (
                          t ||
                          (RegExp(
                            '\\b' + (r.pattern || f(r)) + '\\b',
                            'i'
                          ).exec(e) &&
                            (r.label || r))
                        )
                      })
                    })([
                      'Adobe AIR',
                      'Arora',
                      'Avant Browser',
                      'Breach',
                      'Camino',
                      'Electron',
                      'Epiphany',
                      'Fennec',
                      'Flock',
                      'Galeon',
                      'GreenBrowser',
                      'iCab',
                      'Iceweasel',
                      'K-Meleon',
                      'Konqueror',
                      'Lunascape',
                      'Maxthon',
                      { label: 'Microsoft Edge', pattern: 'Edge' },
                      'Midori',
                      'Nook Browser',
                      'PaleMoon',
                      'PhantomJS',
                      'Raven',
                      'Rekonq',
                      'RockMelt',
                      {
                        label: 'Samsung Internet',
                        pattern: 'SamsungBrowser',
                      },
                      'SeaMonkey',
                      {
                        label: 'Silk',
                        pattern: '(?:Cloud9|Silk-Accelerated)',
                      },
                      'Sleipnir',
                      'SlimBrowser',
                      { label: 'SRWare Iron', pattern: 'Iron' },
                      'Sunrise',
                      'Swiftfox',
                      'Waterfox',
                      'WebPositive',
                      'Opera Mini',
                      { label: 'Opera Mini', pattern: 'OPiOS' },
                      'Opera',
                      { label: 'Opera', pattern: 'OPR' },
                      'Chrome',
                      {
                        label: 'Chrome Mobile',
                        pattern: '(?:CriOS|CrMo)',
                      },
                      {
                        label: 'Firefox',
                        pattern: '(?:Firefox|Minefield)',
                      },
                      { label: 'Firefox for iOS', pattern: 'FxiOS' },
                      { label: 'IE', pattern: 'IEMobile' },
                      { label: 'IE', pattern: 'MSIE' },
                      'Safari',
                    ]),
                    q = t([
                      { label: 'BlackBerry', pattern: 'BB10' },
                      'BlackBerry',
                      { label: 'Galaxy S', pattern: 'GT-I9000' },
                      { label: 'Galaxy S2', pattern: 'GT-I9100' },
                      { label: 'Galaxy S3', pattern: 'GT-I9300' },
                      { label: 'Galaxy S4', pattern: 'GT-I9500' },
                      { label: 'Galaxy S5', pattern: 'SM-G900' },
                      { label: 'Galaxy S6', pattern: 'SM-G920' },
                      { label: 'Galaxy S6 Edge', pattern: 'SM-G925' },
                      { label: 'Galaxy S7', pattern: 'SM-G930' },
                      { label: 'Galaxy S7 Edge', pattern: 'SM-G935' },
                      'Google TV',
                      'Lumia',
                      'iPad',
                      'iPod',
                      'iPhone',
                      'Kindle',
                      {
                        label: 'Kindle Fire',
                        pattern: '(?:Cloud9|Silk-Accelerated)',
                      },
                      'Nexus',
                      'Nook',
                      'PlayBook',
                      'PlayStation Vita',
                      'PlayStation',
                      'TouchPad',
                      'Transformer',
                      { label: 'Wii U', pattern: 'WiiU' },
                      'Wii',
                      'Xbox One',
                      { label: 'Xbox 360', pattern: 'Xbox' },
                      'Xoom',
                    ]),
                    V = (function (t) {
                      return h(t, function (t, r, i) {
                        return (
                          t ||
                          ((r[q] ||
                            r[/^[a-z]+(?: +[a-z]+\b)*/i.exec(q)] ||
                            RegExp(
                              '\\b' + f(i) + '(?:\\b|\\w*\\d)',
                              'i'
                            ).exec(e)) &&
                            i)
                        )
                      })
                    })({
                      'Apple': { iPad: 1, iPhone: 1, iPod: 1 },
                      'Archos': {},
                      'Amazon': { 'Kindle': 1, 'Kindle Fire': 1 },
                      'Asus': { Transformer: 1 },
                      'Barnes & Noble': { Nook: 1 },
                      'BlackBerry': { PlayBook: 1 },
                      'Google': { 'Google TV': 1, 'Nexus': 1 },
                      'HP': { TouchPad: 1 },
                      'HTC': {},
                      'LG': {},
                      'Microsoft': { 'Xbox': 1, 'Xbox One': 1 },
                      'Motorola': { Xoom: 1 },
                      'Nintendo': { 'Wii U': 1, 'Wii': 1 },
                      'Nokia': { Lumia: 1 },
                      'Samsung': {
                        'Galaxy S': 1,
                        'Galaxy S2': 1,
                        'Galaxy S3': 1,
                        'Galaxy S4': 1,
                      },
                      'Sony': { 'PlayStation': 1, 'PlayStation Vita': 1 },
                    }),
                    K = (function (t) {
                      return h(t, function (t, r) {
                        var i = r.pattern || f(r)
                        return (
                          !t &&
                            (t = RegExp(
                              '\\b' + i + '(?:/[\\d.]+|[ \\w.]*)',
                              'i'
                            ).exec(e)) &&
                            (t = o(t, i, r.label || r)),
                          t
                        )
                      })
                    })([
                      'Windows Phone',
                      'Android',
                      'CentOS',
                      { label: 'Chrome OS', pattern: 'CrOS' },
                      'Debian',
                      'Fedora',
                      'FreeBSD',
                      'Gentoo',
                      'Haiku',
                      'Kubuntu',
                      'Linux Mint',
                      'OpenBSD',
                      'Red Hat',
                      'SuSE',
                      'Ubuntu',
                      'Xubuntu',
                      'Cygwin',
                      'Symbian OS',
                      'hpwOS',
                      'webOS ',
                      'webOS',
                      'Tablet OS',
                      'Tizen',
                      'Linux',
                      'Mac OS X',
                      'Macintosh',
                      'Mac',
                      'Windows 98;',
                      'Windows ',
                    ])
                  if (
                    (G && (G = [G]),
                    V && !q && (q = t([V])),
                    (g = /\bGoogle TV\b/.exec(q)) && (q = g[0]),
                    /\bSimulator\b/i.test(e) &&
                      (q = (q ? q + ' ' : '') + 'Simulator'),
                    'Opera Mini' == H &&
                      /\bOPiOS\b/.test(e) &&
                      F.push('running in Turbo/Uncompressed mode'),
                    'IE' == H && /\blike iPhone OS\b/.test(e)
                      ? ((g = v(e.replace(/like iPhone OS/, ''))),
                        (V = g.manufacturer),
                        (q = g.product))
                      : /^iP/.test(q)
                      ? (H || (H = 'Safari'),
                        (K =
                          'iOS' +
                          ((g = / OS ([\d_]+)/i.exec(e))
                            ? ' ' + g[1].replace(/_/g, '.')
                            : '')))
                      : 'Konqueror' != H || /buntu/i.test(K)
                      ? (V &&
                          'Google' != V &&
                          ((/Chrome/.test(H) &&
                            !/\bMobile Safari\b/i.test(e)) ||
                            /\bVita\b/.test(q))) ||
                        (/\bAndroid\b/.test(K) &&
                          /^Chrome/.test(H) &&
                          /\bVersion\//i.test(e))
                        ? ((H = 'Android Browser'),
                          (K = /\bAndroid\b/.test(K) ? K : 'Android'))
                        : 'Silk' == H
                        ? (/\bMobi/i.test(e) ||
                            ((K = 'Android'), F.unshift('desktop mode')),
                          /Accelerated *= *true/i.test(e) &&
                            F.unshift('accelerated'))
                        : 'PaleMoon' == H &&
                          (g = /\bFirefox\/([\d.]+)\b/.exec(e))
                        ? F.push('identifying as Firefox ' + g[1])
                        : 'Firefox' == H &&
                          (g = /\b(Mobile|Tablet|TV)\b/i.exec(e))
                        ? (K || (K = 'Firefox OS'), q || (q = g[1]))
                        : !H ||
                          (g =
                            !/\bMinefield\b/i.test(e) &&
                            /\b(?:Firefox|Safari)\b/.exec(H))
                        ? (H &&
                            !q &&
                            /[\/,]|^[^(]+?\)/.test(
                              e.slice(e.indexOf(g + '/') + 8)
                            ) &&
                            (H = null),
                          (g = q || V || K) &&
                            (q ||
                              V ||
                              /\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(
                                K
                              )) &&
                            (H =
                              /[a-z]+(?: Hat)?/i.exec(
                                /\bAndroid\b/.test(K) ? K : g
                              ) + ' Browser'))
                        : 'Electron' == H &&
                          (g = (/\bChrome\/([\d.]+)\b/.exec(e) || 0)[1]) &&
                          F.push('Chromium ' + g)
                      : (K = 'Kubuntu'),
                    j ||
                      (j = (function (t) {
                        return h(t, function (t, r) {
                          return (
                            t ||
                            (RegExp(
                              r +
                                '(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)',
                              'i'
                            ).exec(e) || 0)[1] ||
                            null
                          )
                        })
                      })([
                        '(?:Cloud9|CriOS|CrMo|Edge|FxiOS|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$))',
                        'Version',
                        f(H),
                        '(?:Firefox|Minefield|NetFront)',
                      ])),
                    (g =
                      ('iCab' == G && parseFloat(j) > 3 && 'WebKit') ||
                      (/\bOpera\b/.test(H) &&
                        (/\bOPR\b/.test(e) ? 'Blink' : 'Presto')) ||
                      (/\b(?:Midori|Nook|Safari)\b/i.test(e) &&
                        !/^(?:Trident|EdgeHTML)$/.test(G) &&
                        'WebKit') ||
                      (!G &&
                        /\bMSIE\b/i.test(e) &&
                        ('Mac OS' == K ? 'Tasman' : 'Trident')) ||
                      ('WebKit' == G &&
                        /\bPlayStation\b(?! Vita\b)/i.test(H) &&
                        'NetFront')) && (G = [g]),
                    'IE' == H &&
                    (g = (/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(e) || 0)[1])
                      ? ((H += ' Mobile'),
                        (K =
                          'Windows Phone ' +
                          (/\+$/.test(g) ? g : g + '.x')),
                        F.unshift('desktop mode'))
                      : /\bWPDesktop\b/i.test(e)
                      ? ((H = 'IE Mobile'),
                        (K = 'Windows Phone 8.x'),
                        F.unshift('desktop mode'),
                        j || (j = (/\brv:([\d.]+)/.exec(e) || 0)[1]))
                      : 'IE' != H &&
                        'Trident' == G &&
                        (g = /\brv:([\d.]+)/.exec(e)) &&
                        (H &&
                          F.push(
                            'identifying as ' + H + (j ? ' ' + j : '')
                          ),
                        (H = 'IE'),
                        (j = g[1])),
                    B)
                  ) {
                    if (d(i, 'global'))
                      if (
                        (O &&
                          ((g = O.lang.System),
                          (N = g.getProperty('os.arch')),
                          (K =
                            K ||
                            g.getProperty('os.name') +
                              ' ' +
                              g.getProperty('os.version'))),
                        b && d(i, 'system') && (g = [i.system])[0])
                      ) {
                        K || (K = g[0].os || null)
                        try {
                          ;(g[1] = i.require('ringo/engine').version),
                            (j = g[1].join('.')),
                            (H = 'RingoJS')
                        } catch (e) {
                          g[0].global.system == i.system && (H = 'Narwhal')
                        }
                      } else
                        'object' == typeof i.process &&
                        !i.process.browser &&
                        (g = i.process)
                          ? 'object' == typeof g.versions
                            ? 'string' == typeof g.versions.electron
                              ? (F.push('Node ' + g.versions.node),
                                (H = 'Electron'),
                                (j = g.versions.electron))
                              : 'string' == typeof g.versions.nw &&
                                (F.push(
                                  'Chromium ' + j,
                                  'Node ' + g.versions.node
                                ),
                                (H = 'NW.js'),
                                (j = g.versions.nw))
                            : ((H = 'Node.js'),
                              (N = g.arch),
                              (K = g.platform),
                              (j = /[\d.]+/.exec(g.version)),
                              (j = j ? j[0] : 'unknown'))
                          : L && (H = 'Rhino')
                    else
                      c((g = i.runtime)) == w
                        ? ((H = 'Adobe AIR'),
                          (K = g.flash.system.Capabilities.os))
                        : c((g = i.phantom)) == D
                        ? ((H = 'PhantomJS'),
                          (j =
                            (g = g.version || null) &&
                            g.major + '.' + g.minor + '.' + g.patch))
                        : 'number' == typeof I.documentMode &&
                          (g = /\bTrident\/(\d+)/i.exec(e))
                        ? ((j = [j, I.documentMode]),
                          (g = +g[1] + 4) != j[1] &&
                            (F.push('IE ' + j[1] + ' mode'),
                            G && (G[1] = ''),
                            (j[1] = g)),
                          (j = 'IE' == H ? String(j[1].toFixed(1)) : j[0]))
                        : 'number' == typeof I.documentMode &&
                          /^(?:Chrome|Firefox)\b/.test(H) &&
                          (F.push('masking as ' + H + ' ' + j),
                          (H = 'IE'),
                          (j = '11.0'),
                          (G = ['Trident']),
                          (K = 'Windows'))
                    K = K && u(K)
                  }
                  if (
                    (j &&
                      (g =
                        /(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(
                          j
                        ) ||
                        /(?:alpha|beta)(?: ?\d)?/i.exec(
                          e + ';' + (B && a.appMinorVersion)
                        ) ||
                        (/\bMinefield\b/i.test(e) && 'a')) &&
                      ((U = /b/i.test(g) ? 'beta' : 'alpha'),
                      (j =
                        j.replace(RegExp(g + '\\+?$'), '') +
                        ('beta' == U ? x : P) +
                        (/\d+\+?/.exec(g) || ''))),
                    'Fennec' == H ||
                      ('Firefox' == H &&
                        /\b(?:Android|Firefox OS)\b/.test(K)))
                  )
                    H = 'Firefox Mobile'
                  else if ('Maxthon' == H && j)
                    j = j.replace(/\.[\d.]+/, '.x')
                  else if (/\bXbox\b/i.test(q))
                    'Xbox 360' == q && (K = null),
                      'Xbox 360' == q &&
                        /\bIEMobile\b/.test(e) &&
                        F.unshift('mobile mode')
                  else if (
                    (!/^(?:Chrome|IE|Opera)$/.test(H) &&
                      (!H || q || /Browser|Mobi/.test(H))) ||
                    ('Windows CE' != K && !/Mobi/i.test(e))
                  )
                    if ('IE' == H && B)
                      try {
                        null === i.external &&
                          F.unshift('platform preview')
                      } catch (e) {
                        F.unshift('embedded')
                      }
                    else
                      (/\bBlackBerry\b/.test(q) || /\bBB10\b/.test(e)) &&
                      (g =
                        (RegExp(
                          q.replace(/ +/g, ' *') + '/([.\\d]+)',
                          'i'
                        ).exec(e) || 0)[1] || j)
                        ? ((g = [g, /BB10/.test(e)]),
                          (K =
                            (g[1]
                              ? ((q = null), (V = 'BlackBerry'))
                              : 'Device Software') +
                            ' ' +
                            g[0]),
                          (j = null))
                        : this != l &&
                          'Wii' != q &&
                          ((B && C) ||
                            (/Opera/.test(H) &&
                              /\b(?:MSIE|Firefox)\b/i.test(e)) ||
                            ('Firefox' == H &&
                              /\bOS X (?:\d+\.){2,}/.test(K)) ||
                            ('IE' == H &&
                              ((K && !/^Win/.test(K) && j > 5.5) ||
                                (/\bWindows XP\b/.test(K) && j > 8) ||
                                (8 == j && !/\bTrident\b/.test(e))))) &&
                          !T.test(
                            (g = v.call(l, e.replace(T, '') + ';'))
                          ) &&
                          g.name &&
                          ((g =
                            'ing as ' +
                            g.name +
                            ((g = g.version) ? ' ' + g : '')),
                          T.test(H)
                            ? (/\bIE\b/.test(g) &&
                                'Mac OS' == K &&
                                (K = null),
                              (g = 'identify' + g))
                            : ((g = 'mask' + g),
                              (H = M
                                ? u(M.replace(/([a-z])([A-Z])/g, '$1 $2'))
                                : 'Opera'),
                              /\bIE\b/.test(g) && (K = null),
                              B || (j = null)),
                          (G = ['Presto']),
                          F.push(g))
                  else H += ' Mobile'
                  ;(g = (/\bAppleWebKit\/([\d.]+\+?)/i.exec(e) || 0)[1]) &&
                    ((g = [parseFloat(g.replace(/\.(\d)$/, '.0$1')), g]),
                    'Safari' == H && '+' == g[1].slice(-1)
                      ? ((H = 'WebKit Nightly'),
                        (U = 'alpha'),
                        (j = g[1].slice(0, -1)))
                      : (j != g[1] &&
                          j !=
                            (g[2] = (/\bSafari\/([\d.]+\+?)/i.exec(e) ||
                              0)[1])) ||
                        (j = null),
                    (g[1] = (/\bChrome\/([\d.]+)/i.exec(e) || 0)[1]),
                    537.36 == g[0] &&
                      537.36 == g[2] &&
                      parseFloat(g[1]) >= 28 &&
                      'WebKit' == G &&
                      (G = ['Blink']),
                    B && (E || g[1])
                      ? (G && (G[1] = 'like Chrome'),
                        (g =
                          g[1] ||
                          ((g = g[0]),
                          g < 530
                            ? 1
                            : g < 532
                            ? 2
                            : g < 532.05
                            ? 3
                            : g < 533
                            ? 4
                            : g < 534.03
                            ? 5
                            : g < 534.07
                            ? 6
                            : g < 534.1
                            ? 7
                            : g < 534.13
                            ? 8
                            : g < 534.16
                            ? 9
                            : g < 534.24
                            ? 10
                            : g < 534.3
                            ? 11
                            : g < 535.01
                            ? 12
                            : g < 535.02
                            ? '13+'
                            : g < 535.07
                            ? 15
                            : g < 535.11
                            ? 16
                            : g < 535.19
                            ? 17
                            : g < 536.05
                            ? 18
                            : g < 536.1
                            ? 19
                            : g < 537.01
                            ? 20
                            : g < 537.11
                            ? '21+'
                            : g < 537.13
                            ? 23
                            : g < 537.18
                            ? 24
                            : g < 537.24
                            ? 25
                            : g < 537.36
                            ? 26
                            : 'Blink' != G
                            ? '27'
                            : '28')))
                      : (G && (G[1] = 'like Safari'),
                        (g = g[0]),
                        (g =
                          g < 400
                            ? 1
                            : g < 500
                            ? 2
                            : g < 526
                            ? 3
                            : g < 533
                            ? 4
                            : g < 534
                            ? '4+'
                            : g < 535
                            ? 5
                            : g < 537
                            ? 6
                            : g < 538
                            ? 7
                            : g < 601
                            ? 8
                            : '8')),
                    G &&
                      (G[1] +=
                        ' ' +
                        (g +=
                          'number' == typeof g
                            ? '.x'
                            : /[.+]/.test(g)
                            ? ''
                            : '+')),
                    'Safari' == H && (!j || parseInt(j) > 45) && (j = g)),
                    'Opera' == H && (g = /\bzbov|zvav$/.exec(K))
                      ? ((H += ' '),
                        F.unshift('desktop mode'),
                        'zvav' == g
                          ? ((H += 'Mini'), (j = null))
                          : (H += 'Mobile'),
                        (K = K.replace(RegExp(' *' + g + '$'), '')))
                      : 'Safari' == H &&
                        /\bChrome\b/.exec(G && G[1]) &&
                        (F.unshift('desktop mode'),
                        (H = 'Chrome Mobile'),
                        (j = null),
                        /\bOS X\b/.test(K)
                          ? ((V = 'Apple'), (K = 'iOS 4.3+'))
                          : (K = null)),
                    j &&
                      0 == j.indexOf((g = /[\d.]+$/.exec(K))) &&
                      e.indexOf('/' + g + '-') > -1 &&
                      (K = p(K.replace(g, ''))),
                    G &&
                      !/\b(?:Avant|Nook)\b/.test(H) &&
                      (/Browser|Lunascape|Maxthon/.test(H) ||
                        ('Safari' != H &&
                          /^iOS/.test(K) &&
                          /\bSafari\b/.test(G[1])) ||
                        (/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|Web)/.test(
                          H
                        ) &&
                          G[1])) &&
                      (g = G[G.length - 1]) &&
                      F.push(g),
                    F.length && (F = ['(' + F.join('; ') + ')']),
                    V && q && q.indexOf(V) < 0 && F.push('on ' + V),
                    q &&
                      F.push(
                        (/^on /.test(F[F.length - 1]) ? '' : 'on ') + q
                      ),
                    K &&
                      ((g = / ([\d.+]+)$/.exec(K)),
                      (_ =
                        g && '/' == K.charAt(K.length - g[0].length - 1)),
                      (K = {
                        architecture: 32,
                        family: g && !_ ? K.replace(g[0], '') : K,
                        version: g ? g[1] : null,
                        toString: function () {
                          var e = this.version
                          return (
                            this.family +
                            (e && !_ ? ' ' + e : '') +
                            (64 == this.architecture ? ' 64-bit' : '')
                          )
                        },
                      })),
                    (g = /\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(N)) &&
                    !/\bi686\b/i.test(N)
                      ? (K &&
                          ((K.architecture = 64),
                          (K.family = K.family.replace(
                            RegExp(' *' + g),
                            ''
                          ))),
                        H &&
                          (/\bWOW64\b/i.test(e) ||
                            (B &&
                              /\w(?:86|32)$/.test(
                                a.cpuClass || a.platform
                              ) &&
                              !/\bWin64; x64\b/i.test(e))) &&
                          F.unshift('32-bit'))
                      : K &&
                        /^OS X/.test(K.family) &&
                        'Chrome' == H &&
                        parseFloat(j) >= 39 &&
                        (K.architecture = 64),
                    e || (e = null)
                  var z = {}
                  return (
                    (z.description = e),
                    (z.layout = G && G[0]),
                    (z.manufacturer = V),
                    (z.name = H),
                    (z.prerelease = U),
                    (z.product = q),
                    (z.ua = e),
                    (z.version = H && j),
                    (z.os = K || {
                      architecture: null,
                      family: null,
                      version: null,
                      toString: function () {
                        return 'null'
                      },
                    }),
                    (z.parse = v),
                    (z.toString = r),
                    z.version && F.unshift(j),
                    z.name && F.unshift(H),
                    K &&
                      H &&
                      (K != String(K).split(' ')[0] ||
                        (K != H.split(' ')[0] && !q)) &&
                      F.push(q ? '(' + K + ')' : 'on ' + K),
                    F.length && (z.description = F.join(' ')),
                    z
                  )
                }
                var g = { function: !0, object: !0 },
                  y = (g[typeof window] && window) || this,
                  m = y,
                  _ = g[typeof t] && t,
                  b = g[typeof e] && e && !e.nodeType && e,
                  E = _ && b && 'object' == typeof i && i
                !E ||
                  (E.global !== E && E.window !== E && E.self !== E) ||
                  (y = E)
                var w = Math.pow(2, 53) - 1,
                  T = /\bOpera/,
                  S = this,
                  A = Object.prototype,
                  R = A.hasOwnProperty,
                  k = A.toString,
                  D = v()
                ;(y.platform = D),
                  void 0 !==
                    (n = function () {
                      return D
                    }.call(t, r, t, e)) && (e.exports = n)
              }).call(this)
            }).call(t, r(13)(e), r(6))
          },
          function (e, t, r) {
            'use strict'
            function i() {
              function e(e, t) {
                var r = t.request_start,
                  u = t.request_response_start,
                  l = t.request_response_end,
                  c = t.request_bytes_loaded
                o++
                var d = void 0,
                  f = void 0
                if (
                  (u ? ((d = u - r), (f = l - u)) : (f = l - r),
                  f > 0 && c > 0)
                ) {
                  var h = (c / f) * 8e3
                  s++,
                    (n += c),
                    (a += f),
                    (this.data.view_min_request_throughput = Math.min(
                      this.data.view_min_request_throughput || 1 / 0,
                      h
                    )),
                    (this.data.view_average_request_throughput =
                      (n / a) * 8e3),
                    (this.data.view_request_count = o),
                    d > 0 &&
                      ((i += d),
                      (this.data.view_max_request_latency = Math.max(
                        this.data.view_max_request_latency || 0,
                        d
                      )),
                      (this.data.view_average_request_latency = i / s))
                }
              }
              function t(e, t) {
                o++,
                  u++,
                  (this.data.view_request_count = o),
                  (this.data.view_request_failed_count = u)
              }
              function r(e, t) {
                o++,
                  l++,
                  (this.data.view_request_count = o),
                  (this.data.view_request_canceled_count = l)
              }
              var i = 0,
                n = 0,
                a = 0,
                o = 0,
                s = 0,
                u = 0,
                l = 0
              this.on('requestcompleted', e),
                this.on('requestfailed', t),
                this.on('requestcanceled', r)
            }
            Object.defineProperty(t, '__esModule', { value: !0 }),
              (t.default = i)
          },
          function (e, t, r) {
            'use strict'
            function i(e, t, r) {
              var i = (0, u.findMediaElement)(t),
                o = a(i, 3),
                d = o[0],
                f = o[1],
                h = o[2],
                p = e.log,
                v = e.utils.getComputedStyle,
                g = e.utils.secondsToMs,
                y = { automaticErrorTracking: !0 }
              return d
                ? 'video' !== h && 'audio' !== h
                  ? p.error(
                      'The element of `' + f + '` was not a media element.'
                    )
                  : ((r = (0, s.default)(y, r)),
                    (r.data = (0, s.default)(
                      {
                        player_software: 'HTML5 Video Element',
                        player_software_version: 'No Versions',
                        player_mux_plugin_name: 'VideoElementMonitor',
                        player_mux_plugin_version: '3.4.3',
                      },
                      r.data
                    )),
                    (r.getPlayheadTime = function () {
                      return g(d.currentTime)
                    }),
                    (r.getStateData = function () {
                      var e = this.hlsjs && this.hlsjs.url,
                        t =
                          this.dashjs &&
                          n('function' === this.dashjs.getSource) &&
                          this.dashjs.getSource()
                      return {
                        player_is_paused: d.paused,
                        player_playhead_time: g(d.currentTime),
                        player_width: parseInt(v(d, 'width')),
                        player_height: parseInt(v(d, 'height')),
                        player_autoplay_on: d.autoplay,
                        player_preload_on: d.preload,
                        video_poster_url: d.poster,
                        video_source_url: e || t || d.currentSrc,
                        video_source_duration: g(d.duration),
                        video_source_height: d.videoHeight,
                        video_source_width: d.videoWidth,
                      }
                    }),
                    (d.mux = d.mux || {}),
                    (d.mux.emit = function (t, r) {
                      e.emit(f, t, r)
                    }),
                    (d.mux.destroy = function () {
                      Object.keys(d.mux.listeners).forEach(function (e) {
                        d.removeEventListener(e, d.mux.listeners[e], !1)
                      }),
                        delete d.mux.listeners,
                        e.emit(f, 'destroy')
                    }),
                    (d.mux.swapElement = function (t) {
                      var r = (0, u.findMediaElement)(t),
                        i = a(r, 3),
                        n = i[0],
                        o = i[1],
                        l = i[2]
                      return n
                        ? 'video' !== l && 'audio' !== l
                          ? e.log.error(
                              'The element of `' +
                                o +
                                '` was not a media element.'
                            )
                          : ((n.muxId = d.muxId),
                            delete d.muxId,
                            (n.mux = n.mux || {}),
                            (n.mux.listeners = (0, s.default)(
                              {},
                              d.mux.listeners
                            )),
                            delete d.mux.listeners,
                            Object.keys(n.mux.listeners).forEach(function (
                              e
                            ) {
                              d.removeEventListener(
                                e,
                                n.mux.listeners[e],
                                !1
                              ),
                                n.addEventListener(
                                  e,
                                  n.mux.listeners[e],
                                  !1
                                )
                            }),
                            (n.mux.swapElement = d.mux.swapElement),
                            (n.mux.destroy = d.mux.destroy),
                            delete d.mux,
                            void (d = n))
                        : e.log.error(
                            'No element was found with the `' +
                              o +
                              '` query selector.'
                          )
                    }),
                    (d.mux.addHLSJS = function (t) {
                      e.addHLSJS(f, t)
                    }),
                    (d.mux.addDashJS = function (t) {
                      e.addDashJS(f, t)
                    }),
                    (d.mux.removeHLSJS = function () {
                      e.removeHLSJS(f)
                    }),
                    (d.mux.removeDashJS = function () {
                      e.removeDashJS(f)
                    }),
                    e.init(f, r),
                    e.emit(f, 'playerready'),
                    d.paused ||
                      (e.emit(f, 'play'),
                      d.readyState > 2 && e.emit(f, 'playing')),
                    (d.mux.listeners = {}),
                    void l.forEach(function (t) {
                      ;('error' !== t || r.automaticErrorTracking) &&
                        ((d.mux.listeners[t] = function () {
                          var r = {}
                          'error' === t &&
                            ((r.player_error_code =
                              d.error && d.error.code),
                            (r.player_error_message =
                              d.error && c[d.error.code])),
                            e.emit(f, t, r)
                        }),
                        d.addEventListener(t, d.mux.listeners[t], !1))
                    }))
                : p.error(
                    'No element was found with the `' +
                      f +
                      '` query selector.'
                  )
            }
            Object.defineProperty(t, '__esModule', { value: !0 })
            var n =
                'function' == typeof Symbol &&
                'symbol' == typeof Symbol.iterator
                  ? function (e) {
                      return typeof e
                    }
                  : function (e) {
                      return e &&
                        'function' == typeof Symbol &&
                        e.constructor === Symbol &&
                        e !== Symbol.prototype
                        ? 'symbol'
                        : typeof e
                    },
              a = (function () {
                function e(e, t) {
                  var r = [],
                    i = !0,
                    n = !1,
                    a = void 0
                  try {
                    for (
                      var o, s = e[Symbol.iterator]();
                      !(i = (o = s.next()).done) &&
                      (r.push(o.value), !t || r.length !== t);
                      i = !0
                    );
                  } catch (e) {
                    ;(n = !0), (a = e)
                  } finally {
                    try {
                      !i && s.return && s.return()
                    } finally {
                      if (n) throw a
                    }
                  }
                  return r
                }
                return function (t, r) {
                  if (Array.isArray(t)) return t
                  if (Symbol.iterator in Object(t)) return e(t, r)
                  throw new TypeError(
                    'Invalid attempt to destructure non-iterable instance'
                  )
                }
              })()
            t.default = i
            var o = r(1),
              s = (function (e) {
                return e && e.__esModule ? e : { default: e }
              })(o),
              u = r(9),
              l = [
                'loadstart',
                'pause',
                'play',
                'playing',
                'seeking',
                'seeked',
                'timeupdate',
                'ratechange',
                'stalled',
                'waiting',
                'error',
                'ended',
              ],
              c = {
                1: 'MEDIA_ERR_ABORTED',
                2: 'MEDIA_ERR_NETWORK',
                3: 'MEDIA_ERR_DECODE',
                4: 'MEDIA_ERR_SRC_NOT_SUPPORTED',
              }
          },
          function (e, t, r) {
            'use strict'
            function i(e) {
              return e && e.__esModule ? e : { default: e }
            }
            Object.defineProperty(t, '__esModule', { value: !0 })
            var n = r(53),
              a = i(n),
              o = r(2),
              s = i(o),
              u = r(54),
              l = i(u),
              c = r(55),
              d = i(c),
              f = r(1),
              h = i(f),
              p = r(8),
              v = i(p),
              g = r(5),
              y = r(3),
              m = i(y),
              _ = {}
            ;(_.safeCall = a.default),
              (_.safeIncrement = s.default),
              (_.getComputedStyle = l.default),
              (_.secondsToMs = d.default),
              (_.assign = h.default),
              (_.headersStringToObject = v.default),
              (_.extractHostnameAndDomain = g.extractHostnameAndDomain),
              (_.extractHostname = g.extractHostname),
              (_.now = m.default.now),
              (t.default = _)
          },
          function (e, t, r) {
            'use strict'
            function i(e, t, r, i) {
              var n = i
              if (e && 'function' == typeof e[t])
                try {
                  n = e[t].apply(e, r)
                } catch (e) {
                  a.default.info('safeCall error', e)
                }
              return n
            }
            Object.defineProperty(t, '__esModule', { value: !0 }),
              (t.default = i)
            var n = r(4),
              a = (function (e) {
                return e && e.__esModule ? e : { default: e }
              })(n)
          },
          function (e, t, r) {
            'use strict'
            function i(e, t) {
              if (
                a.default.defaultView &&
                a.default.defaultView.getComputedStyle
              )
                return a.default.defaultView
                  .getComputedStyle(e, null)
                  .getPropertyValue(t)
            }
            Object.defineProperty(t, '__esModule', { value: !0 }),
              (t.default = i)
            var n = r(12),
              a = (function (e) {
                return e && e.__esModule ? e : { default: e }
              })(n)
          },
          function (e, t, r) {
            'use strict'
            function i(e) {
              return Math.floor(1e3 * e)
            }
            Object.defineProperty(t, '__esModule', { value: !0 }),
              (t.default = i)
          },
        ])
      })
    })()
  },
  function (e, t, r) {
    'use strict'
    function i(e) {
      if (e && e.__esModule) return e
      var t = {}
      if (null != e)
        for (var r in e)
          Object.prototype.hasOwnProperty.call(e, r) && (t[r] = e[r])
      return (t.default = e), t
    }
    function n(e) {
      return e && e.__esModule ? e : { default: e }
    }
    Object.defineProperty(t, '__esModule', { value: !0 })
    var a = r(31),
      o = n(a),
      s = r(0),
      u = n(s),
      l = r(1),
      c = n(l),
      d = r(38),
      f = r(30),
      h = i(f),
      p = r(6),
      v = r(3),
      g = n(v),
      y = r(156),
      m = n(y),
      _ = r(26),
      b = r(7),
      E = i(b),
      w = (function () {
        function e(t) {
          ;(0, u.default)(this, e),
            (this.logger = g.default.createTaggedLoggers('DaiStream')),
            (this.rootView = t),
            (this.streamManager = null),
            (this.streamListener = null),
            (this.metadataTracker = null)
        }
        return (
          (0, c.default)(e, [
            {
              key: 'createLiveRequest',
              value: function (e, t) {
                var r = new google.ima.dai.api.LiveStreamRequest(),
                  i = (0, d.getLocation)(),
                  n = i.url
                return (
                  (r.assetKey = e),
                  (r.adTagParameters = {
                    cust_params: (0, _.objectAsQuery)(t, function (e) {
                      return encodeURIComponent(e)
                    }),
                    description_url: n,
                  }),
                  r
                )
              },
            },
            {
              key: 'dispose',
              value: function () {
                null !== this.streamManager &&
                  null !== this.streamListener &&
                  (this.streamManager.removeEventListener(
                    google.ima.dai.api.StreamEvent.Type.AD_BREAK_ENDED,
                    this.streamListener
                  ),
                  this.streamManager.removeEventListener(
                    google.ima.dai.api.StreamEvent.Type.AD_BREAK_STARTED,
                    this.streamListener
                  ),
                  this.streamManager.removeEventListener(
                    google.ima.dai.api.StreamEvent.Type.ERROR,
                    this.streamListener
                  ),
                  this.streamManager.removeEventListener(
                    google.ima.dai.api.StreamEvent.Type.LOADED,
                    this.streamListener
                  ),
                  (this.streamManager = null),
                  (this.streamListener = null)),
                  null !== this.metadataTracker &&
                    (this.metadataTracker.dispose(),
                    (this.metadataTracker = null)),
                  (this.rootView = null)
              },
            },
            {
              key: 'load',
              value: function (e, t) {
                var r = this
                return new o.default(function (i, n) {
                  var a = r.rootView.querySelector(
                      (0, p.createCssClassSelector)(E.VIDEO_ELEMENT)
                    ),
                    o = setTimeout(function () {
                      n(
                        new Error(
                          'Timeout. Can not get DAI Media URL in the provided time.'
                        )
                      )
                    }, h.SDK_DAI_LOAD_TIMEOUT)
                  ;(r.streamManager = new google.ima.dai.api.StreamManager(
                    a
                  )),
                    (r.metadataTracker = new m.default(a)),
                    r.metadataTracker.setListener(function (e) {
                      r.streamManager.onTimedMetadata(e)
                    }),
                    (r.streamListener = function (e) {
                      switch (e.type) {
                        case google.ima.dai.api.StreamEvent.Type
                          .AD_BREAK_STARTED:
                          r.setAdBreakState(!0)
                          break
                        case google.ima.dai.api.StreamEvent.Type
                          .AD_BREAK_ENDED:
                          r.setAdBreakState(!1)
                          break
                        case google.ima.dai.api.StreamEvent.Type.LOADED:
                          clearTimeout(o), i(e.getStreamData().url)
                          break
                        case google.ima.dai.api.StreamEvent.Type.ERROR:
                          clearTimeout(o), n(e)
                      }
                    }),
                    r.streamManager.addEventListener(
                      google.ima.dai.api.StreamEvent.Type.AD_BREAK_ENDED,
                      r.streamListener
                    ),
                    r.streamManager.addEventListener(
                      google.ima.dai.api.StreamEvent.Type.AD_BREAK_STARTED,
                      r.streamListener
                    ),
                    r.streamManager.addEventListener(
                      google.ima.dai.api.StreamEvent.Type.ERROR,
                      r.streamListener
                    ),
                    r.streamManager.addEventListener(
                      google.ima.dai.api.StreamEvent.Type.LOADED,
                      r.streamListener
                    ),
                    r.streamManager.requestStream(
                      r.createLiveRequest(e, t)
                    )
                })
              },
            },
            { key: 'setAdBreakState', value: function (e) {} },
          ]),
          e
        )
      })()
    t.default = w
  },
  function (e, t, r) {
    'use strict'
    function i(e) {
      return e && e.__esModule ? e : { default: e }
    }
    Object.defineProperty(t, '__esModule', { value: !0 })
    var n = r(157),
      a = i(n),
      o = r(0),
      s = i(o),
      u = r(1),
      l = i(u),
      c = r(3),
      d = i(c),
      f = r(158),
      h = (function (e) {
        if (e && e.__esModule) return e
        var t = {}
        if (null != e)
          for (var r in e)
            Object.prototype.hasOwnProperty.call(e, r) && (t[r] = e[r])
        return (t.default = e), t
      })(f),
      p = (function () {
        function e(t) {
          var r = this
          ;(0, s.default)(this, e),
            (this.logger =
              d.default.createTaggedLoggers('MetadataTracker')),
            (this.mediaElement = t),
            (this.metaTrack = null),
            (this.listener = function () {}),
            (this.cueListener = function (e) {
              return r.cueDidChange(e)
            }),
            this.addListeners()
        }
        return (
          (0, l.default)(e, [
            {
              key: 'addListeners',
              value: function () {
                var e = this
                this.mediaElement.textTracks.addEventListener(
                  h.ADD_TRACK,
                  function (t) {
                    'metadata' === t.track.kind &&
                      ((e.metaTrack = t.track),
                      (e.metaTrack.mode = 'hidden'),
                      e.metaTrack.addEventListener(
                        h.CUE_CHANGE,
                        e.cueListener
                      ))
                  }
                )
              },
            },
            {
              key: 'cueDidChange',
              value: function (e) {
                var t = e.target.activeCues,
                  r = void 0
                t.length > 0 &&
                  ((r = t[0].value), this.listener(this.dfpTransform(r)))
              },
            },
            {
              key: 'dfpTransform',
              value: function (e) {
                var t,
                  r = e.key,
                  i = e.data,
                  n = e.info
                return (
                  (t = {}),
                  (0, a.default)(t, r, void 0 !== n ? n : i),
                  (0, a.default)(t, 'duration', null),
                  t
                )
              },
            },
            {
              key: 'dispose',
              value: function () {
                null !== this.metaTrack &&
                  (this.metaTrack.removeEventListener(
                    h.CUE_CHANGE,
                    this.cueListener
                  ),
                  (this.metaTrack = null)),
                  (this.mediaElement = null),
                  (this.listener = null)
              },
            },
            {
              key: 'setListener',
              value: function (e) {
                this.listener = e
              },
            },
          ]),
          e
        )
      })()
    t.default = p
  },
  function (e, t, r) {
    'use strict'
    t.__esModule = !0
    var i = r(56),
      n = (function (e) {
        return e && e.__esModule ? e : { default: e }
      })(i)
    t.default = function (e, t, r) {
      return (
        t in e
          ? (0, n.default)(e, t, {
              value: r,
              enumerable: !0,
              configurable: !0,
              writable: !0,
            })
          : (e[t] = r),
        e
      )
    }
  },
  function (e, t, r) {
    'use strict'
    Object.defineProperty(t, '__esModule', { value: !0 })
    ;(t.ADD_TRACK = 'addtrack'), (t.CUE_CHANGE = 'cuechange')
  },
  function (e, t, r) {
    'use strict'
    function i(e) {
      return e && e.__esModule ? e : { default: e }
    }
    Object.defineProperty(t, '__esModule', { value: !0 })
    var n = r(9),
      a = i(n),
      o = r(0),
      s = i(o),
      u = r(1),
      l = i(u),
      c = r(14),
      d = i(c),
      f = r(16),
      h = i(f),
      p = r(24),
      v = i(p),
      g = r(6),
      y = r(7),
      m = (function (e) {
        if (e && e.__esModule) return e
        var t = {}
        if (null != e)
          for (var r in e)
            Object.prototype.hasOwnProperty.call(e, r) && (t[r] = e[r])
        return (t.default = e), t
      })(y),
      _ = (function (e) {
        function t() {
          return (
            (0, s.default)(this, t),
            (0, d.default)(
              this,
              (t.__proto__ || (0, a.default)(t)).apply(this, arguments)
            )
          )
        }
        return (
          (0, h.default)(t, e),
          (0, l.default)(t, [
            {
              key: 'initElements',
              value: function () {
                var e = document.createElement('div'),
                  t = document.createElement('div'),
                  r = document.createElement('p')
                return (
                  e.appendChild(t),
                  t.appendChild(r),
                  (e.className = (0, g.createCssClass)(m.ERROR)),
                  (t.className = (0, g.createCssClass)(
                    m.ERROR,
                    'message'
                  )),
                  (r.className = (0, g.createCssClass)(
                    m.ERROR,
                    'content'
                  )),
                  (r.textContent = 'Video could not load or timed out. '),
                  e
                )
              },
            },
          ]),
          t
        )
      })(v.default)
    t.default = _
  },
  function (e, t, r) {
    'use strict'
    Object.defineProperty(t, '__esModule', { value: !0 })
    ;(t.BUFFERING_STATE_DID_CHANGE = 'bufferingStateDidChange'),
      (t.ERROR_DID_OCCUR = 'errorDidOccur'),
      (t.FULL_SCREEN_STATE_DID_CHANGE = 'fullScreenStateDidChange'),
      (t.MEDIA_STATE_DID_CHANGE = 'mediaStateDidChange'),
      (t.PLAYBACK_TYPE_DID_CHANGE = 'playbackTypeDidChange'),
      (t.SEEKING_STATE_DID_CHANGE = 'seekingStateDidChange')
  },
  function (e, t, r) {
    'use strict'
    function i(e) {
      return e && e.__esModule ? e : { default: e }
    }
    Object.defineProperty(t, '__esModule', { value: !0 })
    var n = r(0),
      a = i(n),
      o = r(1),
      s = i(o),
      u = r(162),
      l = (function (e) {
        if (e && e.__esModule) return e
        var t = {}
        if (null != e)
          for (var r in e)
            Object.prototype.hasOwnProperty.call(e, r) && (t[r] = e[r])
        return (t.default = e), t
      })(u),
      c = r(3),
      d = i(c),
      f = (function () {
        function e() {
          ;(0, a.default)(this, e),
            (this.logger = d.default.createTaggedLoggers('FullScreen')),
            (this.implementation = null),
            (this.stateHandler = null),
            (this.fullScreenHandler = null)
        }
        return (
          (0, s.default)(e, [
            {
              key: 'dispose',
              value: function () {
                null !== this.fullScreenHandler &&
                  (document.removeEventListener(
                    this.implementation.fullscreenchange,
                    this.fullScreenHandler
                  ),
                  (this.fullScreenHandler = null))
              },
            },
            {
              key: 'getImplementation',
              value: function (e) {
                var t = void 0
                for (var r in l)
                  if (((t = l[r]), t.exitFullscreen in e)) return t
                return null
              },
            },
            {
              key: 'initWithContextView',
              value: function (e, t) {
                var r = this
                ;(this.view = e),
                  (this.implementation = this.getImplementation(document)),
                  null !== this.implementation &&
                    ((this.stateHandler = t),
                    (this.fullScreenHandler = function () {
                      r.stateHandler(r.isFullScreen())
                    }),
                    document.addEventListener(
                      this.implementation.fullscreenchange,
                      this.fullScreenHandler
                    ))
              },
            },
            {
              key: 'isFullScreen',
              value: function () {
                return (
                  this.view ===
                  document[this.implementation.fullscreenElement]
                )
              },
            },
            {
              key: 'toggle',
              value: function () {
                !0 === this.isFullScreen()
                  ? document[this.implementation.exitFullscreen]()
                  : this.view[this.implementation.requestFullscreen]()
              },
            },
          ]),
          e
        )
      })()
    t.default = f
  },
  function (e, t, r) {
    'use strict'
    Object.defineProperty(t, '__esModule', { value: !0 })
    ;(t.WHATWG = {
      requestFullscreen: 'requestFullscreen',
      exitFullscreen: 'exitFullscreen',
      fullscreenElement: 'fullscreenElement',
      fullscreenEnabled: 'fullscreenEnabled',
      fullscreenchange: 'fullscreenchange',
      fullscreenerror: 'fullscreenerror',
      name: 'WHATWG',
    }),
      (t.GECKO = {
        requestFullscreen: 'mozRequestFullScreen',
        exitFullscreen: 'mozCancelFullScreen',
        fullscreenElement: 'mozFullScreenElement',
        fullscreenEnabled: 'mozFullScreenEnabled',
        fullscreenchange: 'mozfullscreenchange',
        fullscreenerror: 'mozfullscreenerror',
        name: 'Gecko',
      }),
      (t.MICROSOFT = {
        requestFullscreen: 'msRequestFullscreen',
        exitFullscreen: 'msExitFullscreen',
        fullscreenElement: 'msFullscreenElement',
        fullscreenEnabled: 'msFullscreenEnabled',
        fullscreenchange: 'MSFullscreenChange',
        fullscreenerror: 'MSFullscreenError',
        name: 'Microsoft',
      }),
      (t.WEB_KIT = {
        requestFullscreen: 'webkitRequestFullscreen',
        exitFullscreen: 'webkitExitFullscreen',
        fullscreenElement: 'webkitFullscreenElement',
        fullscreenEnabled: 'webkitFullscreenEnabled',
        fullscreenchange: 'webkitfullscreenchange',
        fullscreenerror: 'webkitfullscreenerror',
        name: 'WebKit',
      })
  },
  function (e, t, r) {
    'use strict'
    Object.defineProperty(t, '__esModule', { value: !0 })
    ;(t.ADVERTISEMENT = 'advert'), (t.CONTENT = 'content')
  },
  function (e, t, r) {
    'use strict'
    function i(e) {
      return e && e.__esModule ? e : { default: e }
    }
    Object.defineProperty(t, '__esModule', { value: !0 })
    var n = r(0),
      a = i(n),
      o = r(1),
      s = i(o),
      u = r(165),
      l = (function (e) {
        if (e && e.__esModule) return e
        var t = {}
        if (null != e)
          for (var r in e)
            Object.prototype.hasOwnProperty.call(e, r) && (t[r] = e[r])
        return (t.default = e), t
      })(u),
      c = (function () {
        function e(t) {
          ;(0, a.default)(this, e),
            (this.autoMuted =
              !!t.hasOwnProperty(l.AUTO_MUTED) && t[l.AUTO_MUTED]),
            (this.autoPlay =
              !t.hasOwnProperty(l.AUTO_PLAY) || t[l.AUTO_PLAY]),
            (this.debug = !!t[l.DEBUG]),
            (this.liveContent = !!t[l.LIVE]),
            (this.mediaUrl = t[l.MEDIA_URL]),
            (this.thumbnailUrl = t[l.THUMBNAIL_URL]),
            (this.adDaiAccessKey = t.hasOwnProperty(l.AD_DAI_ACCESS_KEY)
              ? t[l.AD_DAI_ACCESS_KEY]
              : null),
            (this.adExtraParams = t.hasOwnProperty(l.AD_EXTRA_PARAMETERS)
              ? t[l.AD_EXTRA_PARAMETERS]
              : null),
            (this.adNetworkCode = t.hasOwnProperty(l.AD_NETWORK_CODE)
              ? t[l.AD_NETWORK_CODE]
              : null),
            (this.adUnit = t.hasOwnProperty(l.AD_UNIT)
              ? t[l.AD_UNIT]
              : null),
            (this.experiments =
              !0 === t.hasOwnProperty(l.EXPERIMENTS)
                ? t[l.EXPERIMENTS]
                : null),
            (this.muxApiKey =
              !0 === t.hasOwnProperty(l.MUX_API_KEY)
                ? t[l.MUX_API_KEY]
                : null),
            (this.muxSampleRate =
              !0 === t.hasOwnProperty(l.MUX_SAMPLE_RATE)
                ? t[l.MUX_SAMPLE_RATE]
                : null)
        }
        return (
          (0, s.default)(e, [
            {
              key: 'getAdDaiAccessKey',
              value: function () {
                return this.adDaiAccessKey
              },
            },
            {
              key: 'getAdExtraParameters',
              value: function () {
                return this.adExtraParams
              },
            },
            {
              key: 'getAdNetworkCode',
              value: function () {
                return this.adNetworkCode
              },
            },
            {
              key: 'getAdUnit',
              value: function () {
                return this.adUnit
              },
            },
            {
              key: 'getExperiments',
              value: function () {
                return this.experiments
              },
            },
            {
              key: 'getMediaUrl',
              value: function () {
                return this.mediaUrl
              },
            },
            {
              key: 'getMuxApiKey',
              value: function () {
                return this.muxApiKey
              },
            },
            {
              key: 'getMuxSampleRate',
              value: function () {
                return this.muxSampleRate
              },
            },
            {
              key: 'getThumbnailUrl',
              value: function () {
                return this.thumbnailUrl
              },
            },
            {
              key: 'isAdvertEnabled',
              value: function () {
                return (
                  (null !== this.getAdNetworkCode() &&
                    null !== this.getAdUnit()) ||
                  null !== this.getAdDaiAccessKey()
                )
              },
            },
            {
              key: 'isAutoPlay',
              value: function () {
                return this.autoPlay
              },
            },
            {
              key: 'isAutoMuted',
              value: function () {
                return this.autoMuted
              },
            },
            {
              key: 'isDebug',
              value: function () {
                return this.debug
              },
            },
            {
              key: 'isLiveContent',
              value: function () {
                return this.liveContent
              },
            },
          ]),
          e
        )
      })()
    t.default = c
  },
  function (e, t, r) {
    'use strict'
    Object.defineProperty(t, '__esModule', { value: !0 })
    ;(t.AD_DAI_ACCESS_KEY = 'adDaiAccessKey'),
      (t.AD_EXTRA_PARAMETERS = 'adExtraParams'),
      (t.AD_NETWORK_CODE = 'adNetworkCode'),
      (t.AD_UNIT = 'adUnit'),
      (t.AUTO_MUTED = 'autoMuted'),
      (t.AUTO_PLAY = 'autoPlay'),
      (t.DEBUG = 'debug'),
      (t.EXPERIMENTS = 'experiments'),
      (t.LIVE = 'live'),
      (t.MEDIA_URL = 'mediaUrl'),
      (t.MUX_API_KEY = 'muxApiKey'),
      (t.MUX_SAMPLE_RATE = 'muxSampleRate'),
      (t.THUMBNAIL_URL = 'thumbnailUrl')
  },
  function (e, t, r) {
    'use strict'
    function i(e) {
      return e && e.__esModule ? e : { default: e }
    }
    function n(e) {
      return (0, o.applyMiddleware)(u.default)(o.createStore)(function (
        e,
        t
      ) {
        return {
          adDaiAccessKey: e.adDaiAccessKey,
          adExtraParams: e.adExtraParams,
          adNetworkCode: e.adNetworkCode,
          adPlaybackState: (0, d.adPlaybackState)(e.adPlaybackState, t),
          adUnit: e.adUnit,
          autoPlayState: (0, d.autoPlayState)(e.autoPlayState, t),
          bufferingState: (0, d.bufferingState)(e.bufferingState, t),
          busyState: (0, d.busyState)(e.busyState, t),
          currentTime: (0, d.currentTime)(e.currentTime, t),
          dimensions: (0, d.dimensions)(e.dimensions, t),
          duration: (0, d.duration)(e.duration, t),
          error: (0, d.error)(e.error, t),
          fullScreenState: (0, d.fullScreenState)(e.fullScreenState, t),
          initState: (0, d.initState)(e.initState, t),
          liveContent: e.liveContent,
          mediaState: (0, d.mediaState)(e.mediaState, t),
          mediaUrl: e.mediaUrl,
          playbackReady: (0, d.playbackReady)(e.playbackReady, t),
          playbackStart: (0, d.playbackStart)(e.playbackStart, t),
          playbackType: (0, d.playbackType)(e.playbackType, t),
          playbackUrl: (0, d.playbackUrl)(e.playbackUrl, t),
          sdkState: (0, d.sdkState)(e.sdkState, t),
          seekingState: (0, d.seekingState)(e.seekingState, t),
          thumbnailUrl: (0, d.thumbnailUrl)(e.thumbnailUrl, t),
          userInitPlayback: (0, d.userInitPlayback)(e.userInitPlayback, t),
          volumeMute: e.volumeMute,
        }
      },
      e)
    }
    function a(e) {
      var t =
        (c.default.createTaggedLoggers('PlayerStore'),
        {
          adDaiAccessKey: e.getAdDaiAccessKey(),
          adExtraParams: e.getAdExtraParameters(),
          adNetworkCode: e.getAdNetworkCode(),
          adPlaybackState: null,
          adUnit: e.getAdUnit(),
          autoPlayState:
            !0 ===
              (0, f.getAutoPlayState)(
                e.isAutoPlay(),
                (0, f.getUserAgent)(),
                e.isAdvertEnabled()
              ) && null,
          bufferingState: null,
          busyState: null,
          currentTime: null,
          dimensions: null,
          duration: null,
          error: null,
          fullScreenState: !1,
          initState: null,
          liveContent: e.isLiveContent(),
          mediaElementState: null,
          mediaUrl: e.getMediaUrl(),
          playbackReady: !1,
          playbackStart: !1,
          playbackType: null,
          playbackUrl: null,
          sdkState: null,
          seekingState: !1,
          thumbnailUrl: e.getThumbnailUrl(),
          userInitPlayback: null,
          volumeMute:
            !0 === e.isAutoPlay() ||
            (0, f.getMutedState)(
              e.isAutoMuted(),
              (0, f.getUserAgent)(),
              e.isAutoPlay()
            ),
        })
      return t
    }
    Object.defineProperty(t, '__esModule', { value: !0 }),
      (t.createPlayerStore = n),
      (t.getInitialState = a)
    var o = r(167),
      s = r(172),
      u = i(s),
      l = r(3),
      c = i(l),
      d = r(173),
      f = r(26)
  },
  function (e, t, r) {
    'use strict'
    function i(e) {
      var t = S.call(e, R),
        r = e[R]
      try {
        e[R] = void 0
        var i = !0
      } catch (e) {}
      var n = A.call(e)
      return i && (t ? (e[R] = r) : delete e[R]), n
    }
    function n(e) {
      return O.call(e)
    }
    function a(e) {
      return null == e
        ? void 0 === e
          ? x
          : P
        : I && I in Object(e)
        ? k(e)
        : L(e)
    }
    function o(e, t) {
      return function (r) {
        return e(t(r))
      }
    }
    function s(e) {
      return null != e && 'object' == typeof e
    }
    function u(e) {
      if (!U(e) || C(e) != B) return !1
      var t = F(e)
      if (null === t) return !0
      var r = q.call(t, 'constructor') && t.constructor
      return 'function' == typeof r && r instanceof r && H.call(r) == V
    }
    function l(e, t, r) {
      function i() {
        p === h && (p = h.slice())
      }
      function n() {
        return f
      }
      function a(e) {
        if ('function' != typeof e)
          throw new Error('Expected listener to be a function.')
        var t = !0
        return (
          i(),
          p.push(e),
          function () {
            if (t) {
              ;(t = !1), i()
              var r = p.indexOf(e)
              p.splice(r, 1)
            }
          }
        )
      }
      function o(e) {
        if (!K(e))
          throw new Error(
            'Actions must be plain objects. Use custom middleware for async actions.'
          )
        if (void 0 === e.type)
          throw new Error(
            'Actions may not have an undefined "type" property. Have you misspelled a constant?'
          )
        if (v) throw new Error('Reducers may not dispatch actions.')
        try {
          ;(v = !0), (f = d(f, e))
        } finally {
          v = !1
        }
        for (var t = (h = p), r = 0; r < t.length; r++) t[r]()
        return e
      }
      function s(e) {
        if ('function' != typeof e)
          throw new Error('Expected the nextReducer to be a function.')
        ;(d = e), o({ type: Y.INIT })
      }
      function u() {
        var e,
          t = a
        return (
          (e = {
            subscribe: function (e) {
              function r() {
                e.next && e.next(n())
              }
              if ('object' != typeof e)
                throw new TypeError(
                  'Expected the observer to be an object.'
                )
              return r(), { unsubscribe: t(r) }
            },
          }),
          (e[W.a] = function () {
            return this
          }),
          e
        )
      }
      var c
      if (
        ('function' == typeof t && void 0 === r && ((r = t), (t = void 0)),
        void 0 !== r)
      ) {
        if ('function' != typeof r)
          throw new Error('Expected the enhancer to be a function.')
        return r(l)(e, t)
      }
      if ('function' != typeof e)
        throw new Error('Expected the reducer to be a function.')
      var d = e,
        f = t,
        h = [],
        p = h,
        v = !1
      return (
        o({ type: Y.INIT }),
        (c = {
          dispatch: o,
          subscribe: a,
          getState: n,
          replaceReducer: s,
        }),
        (c[W.a] = u),
        c
      )
    }
    function c(e, t) {
      var r = t && t.type
      return (
        'Given action ' +
        ((r && '"' + r.toString() + '"') || 'an action') +
        ', reducer "' +
        e +
        '" returned undefined. To ignore an action, you must explicitly return the previous state.'
      )
    }
    function d(e) {
      Object.keys(e).forEach(function (t) {
        var r = e[t]
        if (void 0 === r(void 0, { type: Y.INIT }))
          throw new Error(
            'Reducer "' +
              t +
              '" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined.'
          )
        if (
          void 0 ===
          r(void 0, {
            type:
              '@@redux/PROBE_UNKNOWN_ACTION_' +
              Math.random().toString(36).substring(7).split('').join('.'),
          })
        )
          throw new Error(
            'Reducer "' +
              t +
              '" returned undefined when probed with a random type. Don\'t try to handle ' +
              Y.INIT +
              ' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined.'
          )
      })
    }
    function f(e) {
      for (var t = Object.keys(e), r = {}, i = 0; i < t.length; i++) {
        var n = t[i]
        'function' == typeof e[n] && (r[n] = e[n])
      }
      var a,
        o = Object.keys(r)
      try {
        d(r)
      } catch (e) {
        a = e
      }
      return function () {
        var e =
            arguments.length <= 0 || void 0 === arguments[0]
              ? {}
              : arguments[0],
          t = arguments[1]
        if (a) throw a
        for (var i = !1, n = {}, s = 0; s < o.length; s++) {
          var u = o[s],
            l = r[u],
            d = e[u],
            f = l(d, t)
          if (void 0 === f) {
            var h = c(u, t)
            throw new Error(h)
          }
          ;(n[u] = f), (i = i || f !== d)
        }
        return i ? n : e
      }
    }
    function h(e, t) {
      return function () {
        return t(e.apply(void 0, arguments))
      }
    }
    function p(e, t) {
      if ('function' == typeof e) return h(e, t)
      if ('object' != typeof e || null === e)
        throw new Error(
          'bindActionCreators expected an object or a function, instead received ' +
            (null === e ? 'null' : typeof e) +
            '. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?'
        )
      for (var r = Object.keys(e), i = {}, n = 0; n < r.length; n++) {
        var a = r[n],
          o = e[a]
        'function' == typeof o && (i[a] = h(o, t))
      }
      return i
    }
    function v() {
      for (var e = arguments.length, t = Array(e), r = 0; r < e; r++)
        t[r] = arguments[r]
      if (0 === t.length)
        return function (e) {
          return e
        }
      if (1 === t.length) return t[0]
      var i = t[t.length - 1],
        n = t.slice(0, -1)
      return function () {
        return n.reduceRight(function (e, t) {
          return t(e)
        }, i.apply(void 0, arguments))
      }
    }
    function g() {
      for (var e = arguments.length, t = Array(e), r = 0; r < e; r++)
        t[r] = arguments[r]
      return function (e) {
        return function (r, i, n) {
          var a = e(r, i, n),
            o = a.dispatch,
            s = [],
            u = {
              getState: a.getState,
              dispatch: function (e) {
                return o(e)
              },
            }
          return (
            (s = t.map(function (e) {
              return e(u)
            })),
            (o = v.apply(void 0, s)(a.dispatch)),
            Q({}, a, { dispatch: o })
          )
        }
      }
    }
    Object.defineProperty(t, '__esModule', { value: !0 })
    var y = r(168),
      m =
        'object' == typeof self && self && self.Object === Object && self,
      _ = y.a || m || Function('return this')(),
      b = _,
      E = b.Symbol,
      w = E,
      T = Object.prototype,
      S = T.hasOwnProperty,
      A = T.toString,
      R = w ? w.toStringTag : void 0,
      k = i,
      D = Object.prototype,
      O = D.toString,
      L = n,
      P = '[object Null]',
      x = '[object Undefined]',
      I = w ? w.toStringTag : void 0,
      C = a,
      M = o,
      N = M(Object.getPrototypeOf, Object),
      F = N,
      U = s,
      B = '[object Object]',
      j = Function.prototype,
      G = Object.prototype,
      H = j.toString,
      q = G.hasOwnProperty,
      V = H.call(Object),
      K = u,
      z = r(169),
      W = r.n(z),
      Y = { INIT: '@@redux/INIT' },
      Q =
        Object.assign ||
        function (e) {
          for (var t = 1; t < arguments.length; t++) {
            var r = arguments[t]
            for (var i in r)
              Object.prototype.hasOwnProperty.call(r, i) && (e[i] = r[i])
          }
          return e
        }
    r.d(t, 'createStore', function () {
      return l
    }),
      r.d(t, 'combineReducers', function () {
        return f
      }),
      r.d(t, 'bindActionCreators', function () {
        return p
      }),
      r.d(t, 'applyMiddleware', function () {
        return g
      }),
      r.d(t, 'compose', function () {
        return v
      })
  },
  function (e, t, r) {
    'use strict'
    ;(function (e) {
      var r = 'object' == typeof e && e && e.Object === Object && e
      t.a = r
    }).call(t, r(55))
  },
  function (e, t, r) {
    e.exports = r(170)
  },
  function (e, t, r) {
    'use strict'
    ;(function (e, i) {
      Object.defineProperty(t, '__esModule', { value: !0 })
      var n,
        a = r(171),
        o = (function (e) {
          return e && e.__esModule ? e : { default: e }
        })(a)
      n =
        'undefined' != typeof self
          ? self
          : 'undefined' != typeof window
          ? window
          : void 0 !== e
          ? e
          : i
      var s = (0, o.default)(n)
      t.default = s
    }).call(t, r(55), r(79)(e))
  },
  function (e, t, r) {
    'use strict'
    function i(e) {
      var t,
        r = e.Symbol
      return (
        'function' == typeof r
          ? r.observable
            ? (t = r.observable)
            : ((t = r('observable')), (r.observable = t))
          : (t = '@@observable'),
        t
      )
    }
    Object.defineProperty(t, '__esModule', { value: !0 }), (t.default = i)
  },
  function (e, t, r) {
    'use strict'
    function i(e) {
      return function (t) {
        var r = t.dispatch,
          i = t.getState
        return function (t) {
          return function (n) {
            return 'function' == typeof n ? n(r, i, e) : t(n)
          }
        }
      }
    }
    t.__esModule = !0
    var n = i()
    ;(n.withExtraArgument = i), (t.default = n)
  },
  function (e, t, r) {
    'use strict'
    function i(e, t) {
      switch (t.type) {
        case T.AD_PLAYBACK_STATE_DID_CHANGE:
          return t.payload
        default:
          return e
      }
    }
    function n(e, t) {
      switch (t.type) {
        case T.AUTO_PLAY_STATE_DID_CHANGE:
          return t.payload
        default:
          return e
      }
    }
    function a(e, t) {
      switch (t.type) {
        case T.BUFFERING_STATE_DID_CHANGE:
          return t.payload
        default:
          return e
      }
    }
    function o(e, t) {
      switch (t.type) {
        case T.BUSY_STATE_DID_CHANGE:
          return t.payload
        default:
          return e
      }
    }
    function s(e, t) {
      switch (t.type) {
        case T.CURRENT_TIME_DID_CHANGE:
          return t.payload
        default:
          return e
      }
    }
    function u(e, t) {
      switch (t.type) {
        case T.DIMENSIONS_DID_CHANGE:
          return t.payload
        default:
          return e
      }
    }
    function l(e, t) {
      switch (t.type) {
        case T.DURATION_DID_CHANGE:
          return t.payload
        default:
          return e
      }
    }
    function c(e, t) {
      switch (t.type) {
        case T.ERROR_DID_OCCUR:
          return t.payload
        default:
          return e
      }
    }
    function d(e, t) {
      switch (t.type) {
        case T.FULL_SCREEN_STATE_DID_CHANGE:
          return t.payload
        default:
          return e
      }
    }
    function f(e, t) {
      switch (t.type) {
        case T.INIT_STATE_DID_CHANGE:
          return t.payload
        default:
          return e
      }
    }
    function h(e, t) {
      switch (t.type) {
        case T.MEDIA_STATE_DID_CHANGE:
          return t.payload
        default:
          return e
      }
    }
    function p(e, t) {
      switch (t.type) {
        case T.PLAYBACK_READY_DID_CHANGE:
          return t.payload
        default:
          return e
      }
    }
    function v(e, t) {
      switch (t.type) {
        case T.PLAYBACK_START_DID_CHANGE:
          return t.payload
        default:
          return e
      }
    }
    function g(e, t) {
      switch (t.type) {
        case T.PLAYBACK_TYPE_DID_CHANGE:
          return t.payload
        default:
          return e
      }
    }
    function y(e, t) {
      switch (t.type) {
        case T.PLAYBACK_URL_DID_CHANGE:
          return t.payload
        default:
          return e
      }
    }
    function m(e, t) {
      switch (t.type) {
        case T.SDK_STATE_DID_CHANGE:
          return t.payload
        default:
          return e
      }
    }
    function _(e, t) {
      switch (t.type) {
        case T.SEEKING_STATE_DID_CHANGE:
          return t.payload
        default:
          return e
      }
    }
    function b(e, t) {
      switch (t.type) {
        case T.THUMBNAIL_URL_DID_CHANGE:
          return t.payload
        default:
          return e
      }
    }
    function E(e, t) {
      switch (t.type) {
        case T.USER_INIT_PLAYBACK_DID_CHANGE:
          return t.payload
        default:
          return e
      }
    }
    Object.defineProperty(t, '__esModule', { value: !0 }),
      (t.adPlaybackState = i),
      (t.autoPlayState = n),
      (t.bufferingState = a),
      (t.busyState = o),
      (t.currentTime = s),
      (t.dimensions = u),
      (t.duration = l),
      (t.error = c),
      (t.fullScreenState = d),
      (t.initState = f),
      (t.mediaState = h),
      (t.playbackReady = p),
      (t.playbackStart = v),
      (t.playbackType = g),
      (t.playbackUrl = y),
      (t.sdkState = m),
      (t.seekingState = _),
      (t.thumbnailUrl = b),
      (t.userInitPlayback = E)
    var w = r(70),
      T = (function (e) {
        if (e && e.__esModule) return e
        var t = {}
        if (null != e)
          for (var r in e)
            Object.prototype.hasOwnProperty.call(e, r) && (t[r] = e[r])
        return (t.default = e), t
      })(w)
  },
  function (e, t, r) {
    'use strict'
    function i(e) {
      return e && e.__esModule ? e : { default: e }
    }
    Object.defineProperty(t, '__esModule', { value: !0 })
    var n = r(9),
      a = i(n),
      o = r(0),
      s = i(o),
      u = r(1),
      l = i(u),
      c = r(14),
      d = i(c),
      f = r(19),
      h = i(f),
      p = r(16),
      v = i(p),
      g = r(175),
      y = i(g),
      m = r(24),
      _ = i(m),
      b = r(6),
      E = r(176),
      w = i(E),
      T = r(178),
      S = i(T),
      A = r(7),
      R = (function (e) {
        if (e && e.__esModule) return e
        var t = {}
        if (null != e)
          for (var r in e)
            Object.prototype.hasOwnProperty.call(e, r) && (t[r] = e[r])
        return (t.default = e), t
      })(A),
      k = r(179),
      D = i(k),
      O = (function (e) {
        function t() {
          return (
            (0, s.default)(this, t),
            (0, d.default)(
              this,
              (t.__proto__ || (0, a.default)(t)).apply(this, arguments)
            )
          )
        }
        return (
          (0, v.default)(t, e),
          (0, l.default)(t, [
            {
              key: 'dispose',
              value: function () {
                this.elements.length > 0 &&
                  (this.elements.forEach(function (e) {
                    return e.dispose()
                  }),
                  (this.elements.length = 0)),
                  (0, h.default)(
                    t.prototype.__proto__ || (0, a.default)(t.prototype),
                    'dispose',
                    this
                  ).call(this)
              },
            },
            {
              key: 'initElements',
              value: function () {
                var e = document.createElement('div'),
                  t = new D.default(this.store),
                  r = new y.default(this.store),
                  i = new w.default(this.store),
                  n = new S.default(this.store)
                return (
                  (e.className = (0, b.createCssClass)(R.ROOT)),
                  t.attachTo(e),
                  n.attachTo(e),
                  r.attachTo(e),
                  i.attachTo(e),
                  (this.elements = [t, n, r, i]),
                  e
                )
              },
            },
          ]),
          t
        )
      })(_.default)
    t.default = O
  },
  function (e, t, r) {
    'use strict'
    function i(e) {
      if (e && e.__esModule) return e
      var t = {}
      if (null != e)
        for (var r in e)
          Object.prototype.hasOwnProperty.call(e, r) && (t[r] = e[r])
      return (t.default = e), t
    }
    function n(e) {
      return e && e.__esModule ? e : { default: e }
    }
    Object.defineProperty(t, '__esModule', { value: !0 })
    var a = r(9),
      o = n(a),
      s = r(0),
      u = n(s),
      l = r(1),
      c = n(l),
      d = r(14),
      f = n(d),
      h = r(19),
      p = n(h),
      v = r(16),
      g = n(v),
      y = r(76),
      m = i(y),
      _ = r(24),
      b = n(_),
      E = r(6),
      w = r(10),
      T = r(23),
      S = n(T),
      A = r(7),
      R = i(A),
      k = (function (e) {
        function t() {
          return (
            (0, u.default)(this, t),
            (0, f.default)(
              this,
              (t.__proto__ || (0, o.default)(t)).apply(this, arguments)
            )
          )
        }
        return (
          (0, g.default)(t, e),
          (0, c.default)(t, [
            {
              key: 'initElements',
              value: function () {
                var e = document.createElement('div')
                return (e.className = (0, E.createCssClass)(R.AD)), e
              },
            },
            {
              key: 'viewDidMount',
              value: function () {
                var e = this
                ;(0, p.default)(
                  t.prototype.__proto__ || (0, o.default)(t.prototype),
                  'viewDidMount',
                  this
                ).call(this),
                  (0, S.default)(
                    this.getStore(),
                    w.getAdPlaybackState,
                    function (t) {
                      t === m.PLAY
                        ? (e.getView().style.display = 'block')
                        : (e.getView().style.display = 'none')
                    }
                  )
              },
            },
          ]),
          t
        )
      })(b.default)
    t.default = k
  },
  function (e, t, r) {
    'use strict'
    function i(e) {
      return e && e.__esModule ? e : { default: e }
    }
    Object.defineProperty(t, '__esModule', { value: !0 })
    var n = r(9),
      a = i(n),
      o = r(0),
      s = i(o),
      u = r(1),
      l = i(u),
      c = r(14),
      d = i(c),
      f = r(19),
      h = i(f),
      p = r(16),
      v = i(p),
      g = r(22),
      y = r(24),
      m = i(y),
      _ = r(6),
      b = r(83),
      E = i(b),
      w = r(10),
      T = r(23),
      S = i(T),
      A = r(7),
      R = (function (e) {
        if (e && e.__esModule) return e
        var t = {}
        if (null != e)
          for (var r in e)
            Object.prototype.hasOwnProperty.call(e, r) && (t[r] = e[r])
        return (t.default = e), t
      })(A),
      k = (function (e) {
        function t(e) {
          ;(0, s.default)(this, t)
          var r = (0, d.default)(
            this,
            (t.__proto__ || (0, a.default)(t)).call(this, e)
          )
          return (
            (r.clickListener = function () {
              r.getStore().dispatch((0, g.setUserInitPlayback)(!0))
            }),
            r
          )
        }
        return (
          (0, v.default)(t, e),
          (0, l.default)(t, [
            {
              key: 'hide',
              value: function () {
                this.getView().removeEventListener(
                  'click',
                  this.clickListener
                ),
                  (this.getView().style.display = 'none')
              },
            },
            {
              key: 'initElements',
              value: function () {
                var e = document.createElement('div'),
                  t = document.createElement('div'),
                  r = document.createElement('div')
                return (
                  e.appendChild(t),
                  t.appendChild(r),
                  (e.className = (0, _.createCssClass)(R.HIT)),
                  (t.className = (0, _.createCssClass)(
                    R.HIT,
                    'play-icon'
                  )),
                  (r.className = (0, _.createCssClass)(R.HIT, 'arrow')),
                  e
                )
              },
            },
            {
              key: 'viewDidMount',
              value: function () {
                var e = this
                ;(0, h.default)(
                  t.prototype.__proto__ || (0, a.default)(t.prototype),
                  'viewDidMount',
                  this
                ).call(this),
                  this.getView().addEventListener(
                    'click',
                    this.clickListener
                  ),
                  (0, S.default)(
                    this.getStore(),
                    w.getInitState,
                    function (t, r) {
                      !0 === t &&
                        (r(), (e.getView().style.display = 'block'))
                    }
                  ),
                  (0, S.default)(
                    this.getStore(),
                    w.isPlaybackStart,
                    function (t, r) {
                      !0 === t && (r(), e.hide())
                    }
                  ),
                  (0, S.default)(
                    this.getStore(),
                    w.isUserInitPlayback,
                    function (t, r) {
                      !0 === t && (r(), e.hide())
                    }
                  ),
                  (0, S.default)(
                    this.getStore(),
                    (0, E.default)(),
                    function (t, r) {
                      null !== t && (r(), !0 === t && e.hide())
                    }
                  )
              },
            },
          ]),
          t
        )
      })(m.default)
    t.default = k
  },
  function (e, t, r) {
    'use strict'
    function i(e, t) {
      return e === t
    }
    function n(e, t, r) {
      if (null === t || null === r || t.length !== r.length) return !1
      for (var i = t.length, n = 0; n < i; n++)
        if (!e(t[n], r[n])) return !1
      return !0
    }
    function a(e) {
      var t =
          arguments.length > 1 && void 0 !== arguments[1]
            ? arguments[1]
            : i,
        r = null,
        a = null
      return function () {
        return (
          n(t, r, arguments) || (a = e.apply(null, arguments)),
          (r = arguments),
          a
        )
      }
    }
    function o(e) {
      var t = Array.isArray(e[0]) ? e[0] : e
      if (
        !t.every(function (e) {
          return 'function' == typeof e
        })
      ) {
        var r = t
          .map(function (e) {
            return typeof e
          })
          .join(', ')
        throw new Error(
          'Selector creators expect all input-selectors to be functions, instead received the following types: [' +
            r +
            ']'
        )
      }
      return t
    }
    function s(e) {
      for (
        var t = arguments.length, r = Array(t > 1 ? t - 1 : 0), i = 1;
        i < t;
        i++
      )
        r[i - 1] = arguments[i]
      return function () {
        for (var t = arguments.length, i = Array(t), n = 0; n < t; n++)
          i[n] = arguments[n]
        var s = 0,
          u = i.pop(),
          l = o(i),
          c = e.apply(
            void 0,
            [
              function () {
                return s++, u.apply(null, arguments)
              },
            ].concat(r)
          ),
          d = a(function () {
            for (var e = [], t = l.length, r = 0; r < t; r++)
              e.push(l[r].apply(null, arguments))
            return c.apply(null, e)
          })
        return (
          (d.resultFunc = u),
          (d.recomputations = function () {
            return s
          }),
          (d.resetRecomputations = function () {
            return (s = 0)
          }),
          d
        )
      }
    }
    function u(e) {
      var t =
        arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : l
      if ('object' != typeof e)
        throw new Error(
          'createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ' +
            typeof e
        )
      var r = Object.keys(e)
      return t(
        r.map(function (t) {
          return e[t]
        }),
        function () {
          for (var e = arguments.length, t = Array(e), i = 0; i < e; i++)
            t[i] = arguments[i]
          return t.reduce(function (e, t, i) {
            return (e[r[i]] = t), e
          }, {})
        }
      )
    }
    ;(t.__esModule = !0),
      (t.defaultMemoize = a),
      (t.createSelectorCreator = s),
      (t.createStructuredSelector = u)
    var l = (t.createSelector = s(a))
  },
  function (e, t, r) {
    'use strict'
    function i(e) {
      return e && e.__esModule ? e : { default: e }
    }
    Object.defineProperty(t, '__esModule', { value: !0 })
    var n = r(9),
      a = i(n),
      o = r(0),
      s = i(o),
      u = r(1),
      l = i(u),
      c = r(14),
      d = i(c),
      f = r(19),
      h = i(f),
      p = r(16),
      v = i(p),
      g = r(24),
      y = i(g),
      m = r(6),
      _ = r(10),
      b = r(23),
      E = i(b),
      w = r(7),
      T = (function (e) {
        if (e && e.__esModule) return e
        var t = {}
        if (null != e)
          for (var r in e)
            Object.prototype.hasOwnProperty.call(e, r) && (t[r] = e[r])
        return (t.default = e), t
      })(w),
      S = (function (e) {
        function t() {
          return (
            (0, s.default)(this, t),
            (0, d.default)(
              this,
              (t.__proto__ || (0, a.default)(t)).apply(this, arguments)
            )
          )
        }
        return (
          (0, v.default)(t, e),
          (0, l.default)(t, [
            {
              key: 'initElements',
              value: function () {
                var e = document.createElement('div'),
                  t = document.createElement('div')
                return (
                  e.appendChild(t),
                  (e.className = (0, m.createCssClass)(T.SPINNER)),
                  (t.className = (0, m.createCssClass)(
                    T.SPINNER,
                    'donut'
                  )),
                  e
                )
              },
            },
            {
              key: 'setVisibility',
              value: function (e) {
                this.getView().style.display = !0 === e ? 'block' : 'none'
              },
            },
            {
              key: 'viewDidMount',
              value: function () {
                var e = this
                ;(0, h.default)(
                  t.prototype.__proto__ || (0, a.default)(t.prototype),
                  'viewDidMount',
                  this
                ).call(this),
                  (0, E.default)(
                    this.getStore(),
                    _.getInitState,
                    function (t, r) {
                      !0 === t && (r(), e.setVisibility(!1))
                    }
                  ),
                  (0, E.default)(
                    this.getStore(),
                    _.getBusyState,
                    function (t) {
                      ;(!0 !== t && !1 !== t) || e.setVisibility(t)
                    }
                  )
              },
            },
          ]),
          t
        )
      })(y.default)
    t.default = S
  },
  function (e, t, r) {
    'use strict'
    function i(e) {
      return e && e.__esModule ? e : { default: e }
    }
    Object.defineProperty(t, '__esModule', { value: !0 })
    var n = r(9),
      a = i(n),
      o = r(0),
      s = i(o),
      u = r(1),
      l = i(u),
      c = r(14),
      d = i(c),
      f = r(19),
      h = i(f),
      p = r(16),
      v = i(p),
      g = r(24),
      y = i(g),
      m = r(6),
      _ = r(83),
      b = i(_),
      E = r(10),
      w = r(23),
      T = i(w),
      S = r(7),
      A = (function (e) {
        if (e && e.__esModule) return e
        var t = {}
        if (null != e)
          for (var r in e)
            Object.prototype.hasOwnProperty.call(e, r) && (t[r] = e[r])
        return (t.default = e), t
      })(S),
      R = (function (e) {
        function t() {
          return (
            (0, s.default)(this, t),
            (0, d.default)(
              this,
              (t.__proto__ || (0, a.default)(t)).apply(this, arguments)
            )
          )
        }
        return (
          (0, v.default)(t, e),
          (0, l.default)(t, [
            {
              key: 'dispose',
              value: function () {
                this.videoView &&
                  (this.videoView.pause(),
                  this.videoView.setAttribute('src', ''),
                  this.videoView.load(),
                  (this.videoView = null)),
                  (0, h.default)(
                    t.prototype.__proto__ || (0, a.default)(t.prototype),
                    'dispose',
                    this
                  ).call(this)
              },
            },
            {
              key: 'initElements',
              value: function () {
                var e = document.createElement('div'),
                  t = document.createElement('video')
                return (
                  e.appendChild(t),
                  (e.className = (0, m.createCssClass)(A.VIDEO)),
                  (t.className = (0, m.createCssClass)(A.VIDEO_ELEMENT)),
                  (this.videoView = t),
                  e
                )
              },
            },
            {
              key: 'render',
              value: function () {
                var e = this.getStore().getState()
                this.setMuted((0, E.isVolumeMute)(e))
              },
            },
            {
              key: 'setControls',
              value: function (e) {
                ;(this.videoView.controls = e),
                  !0 === e
                    ? this.videoView.setAttribute('controls', '')
                    : this.videoView.removeAttribute('controls')
              },
            },
            {
              key: 'setMuted',
              value: function (e) {
                ;(this.videoView.muted = e),
                  !0 === e
                    ? this.videoView.setAttribute('muted', '')
                    : this.videoView.removeAttribute('muted')
              },
            },
            {
              key: 'viewDidMount',
              value: function () {
                var e = this
                ;(0, h.default)(
                  t.prototype.__proto__ || (0, a.default)(t.prototype),
                  'viewDidMount',
                  this
                ).call(this)
                var r = this.getStore()
                ;(0, T.default)(r, E.isPlaybackReady, function (t, r) {
                  !0 === t && (r(), e.setControls(!0))
                }),
                  (0, T.default)(r, E.getThumbnailUrl, function (t) {
                    null !== t && e.videoView.setAttribute('poster', t)
                  }),
                  (0, T.default)(
                    this.getStore(),
                    (0, b.default)(),
                    function (t, r) {
                      null !== t && (r(), e.setControls(t))
                    }
                  )
              },
            },
          ]),
          t
        )
      })(y.default)
    t.default = R
  },
  function (e, t, r) {
    'use strict'
    function i(e) {
      if (e && e.__esModule) return e
      var t = {}
      if (null != e)
        for (var r in e)
          Object.prototype.hasOwnProperty.call(e, r) && (t[r] = e[r])
      return (t.default = e), t
    }
    function n(e) {
      return e && e.__esModule ? e : { default: e }
    }
    Object.defineProperty(t, '__esModule', { value: !0 })
    var a = r(31),
      o = n(a),
      s = r(0),
      u = n(s),
      l = r(1),
      c = n(l),
      d = r(30),
      f = i(d),
      h = r(181),
      p = n(h),
      v = r(3),
      g = n(v),
      y = r(182),
      m = i(y),
      _ = (function () {
        function e(t) {
          ;(0, u.default)(this, e),
            (this.logger = g.default.createTaggedLoggers('SdkLoader')),
            (this.sdkUrl = t)
        }
        return (
          (0, c.default)(e, [
            {
              key: 'checkLoading',
              value: function (e, t, r) {
                var i = this
                return e++ >= t
                  ? o.default.reject(
                      new Error('Timeout. Can not load SDK')
                    )
                  : this.getCurrentState().then(function (n) {
                      switch (n) {
                        case m.LOADING:
                          return new o.default(function (n) {
                            setTimeout(function () {
                              return n(i.checkLoading(e, t, r))
                            }, r)
                          })
                        case m.LOADED:
                          return {
                            message:
                              'SDK is loaded after several retries.',
                            retries: e,
                          }
                        case m.FAILED:
                          return o.default.reject(
                            new Error(
                              'SDK is failed to load after several retries.'
                            )
                          )
                      }
                    })
              },
            },
            {
              key: 'getCurrentState',
              value: function () {
                var e = this
                return (0, p.default)().then(function (t) {
                  return !0 === t
                    ? m.FAILED
                    : window.google &&
                      window.google.ima &&
                      window.google.ima.dai
                    ? m.LOADED
                    : e.isScriptAvailable(e.getScriptFilename(e.sdkUrl))
                    ? m.LOADING
                    : m.UNAVAILABLE
                })
              },
            },
            {
              key: 'getScriptFilename',
              value: function (e) {
                var t = e.split('/')
                return t[t.length - 1]
              },
            },
            {
              key: 'isScriptAvailable',
              value: function (e) {
                var t = document.querySelectorAll('script'),
                  r = 0,
                  i = t.length,
                  n = void 0
                for (r; r < i; ++r)
                  if (
                    null !== (n = t[r].getAttribute('src')) &&
                    -1 !== n.indexOf(e)
                  )
                    return !0
                return !1
              },
            },
            {
              key: 'loadIfNeeded',
              value: function () {
                var e = this
                return new o.default(function (t, r) {
                  e.getCurrentState().then(function (i) {
                    switch (i) {
                      case m.LOADED:
                        return t()
                      case m.UNAVAILABLE:
                        return t(e.loadSdk())
                      case m.LOADING:
                        return e.checkLoading(
                          0,
                          (f.SDK_LOAD_TIMEOUT /
                            f.SDK_LOAD_CHECK_INTERVAL) >>
                            0,
                          f.SDK_LOAD_CHECK_INTERVAL
                        )
                      case m.FAILED:
                        return r(
                          new Error('Can not load SDK: ' + e.sdkUrl)
                        )
                    }
                  })
                })
              },
            },
            {
              key: 'loadSdk',
              value: function () {
                var e = this
                return new o.default(function (t, r) {
                  var i = document.createElement('script'),
                    n = setTimeout(function () {
                      r(
                        new Error(
                          'Timeout. Loading of SDK took more than ' +
                            f.SDK_LOAD_TIMEOUT +
                            ' ms.'
                        )
                      )
                    }, f.SDK_LOAD_TIMEOUT)
                  ;(i.src = e.sdkUrl),
                    (i.async = !0),
                    (i.onload = function () {
                      clearTimeout(n), t()
                    }),
                    (i.onerror = function (e) {
                      clearTimeout(n), r(e)
                    }),
                    document.querySelector('head').appendChild(i)
                })
              },
            },
          ]),
          e
        )
      })()
    t.default = _
  },
  function (e, t, r) {
    'use strict'
    function i() {
      function e() {
        var e = document.createElement('div')
        return (
          e.setAttribute('class', i),
          e.setAttribute('style', n),
          document.body.appendChild(e),
          e.offsetParent,
          e.offsetHeight,
          e.offsetLeft,
          e.offsetTop,
          e.offsetWidth,
          e.clientHeight,
          e.clientWidth,
          e
        )
      }
      function t(e) {
        var t = void 0,
          r = !1
        return (
          null !== document.body.getAttribute('abp') ||
          null === e.offsetParent ||
          0 == e.offsetHeight ||
          0 == e.offsetLeft ||
          0 == e.offsetTop ||
          0 == e.offsetWidth ||
          0 == e.clientHeight ||
          0 == e.clientWidth
            ? (r = !0)
            : void 0 !== window.getComputedStyle &&
              (!(t = window.getComputedStyle(e)) ||
                ('none' !== t.getPropertyValue('display') &&
                  'hidden' !== t.getPropertyValue('visibility')) ||
                (r = !0)),
          r
        )
      }
      function r(e) {
        document.body.removeChild(e)
      }
      var i =
          'pub_300x250 pub_300x250m pub_728x90 text-ad textAd text_ad text_ads text-ads text-ad-links',
        n =
          'width: 1px !important; height: 1px !important; position: absolute !important; left: -10000px !important; top: -1000px !important;'
      return a.default
        .resolve()
        .then(function () {
          return e()
        })
        .then(function (e) {
          var i = t(e)
          return r(e), i
        })
    }
    Object.defineProperty(t, '__esModule', { value: !0 })
    var n = r(31),
      a = (function (e) {
        return e && e.__esModule ? e : { default: e }
      })(n)
    t.default = i
  },
  function (e, t, r) {
    'use strict'
    Object.defineProperty(t, '__esModule', { value: !0 })
    ;(t.FAILED = 'failed'),
      (t.LOADED = 'loaded'),
      (t.LOADING = 'loading'),
      (t.UNAVAILABLE = 'unavailable')
  },
  function (e, t) {},
])
